{"version":3,"sources":["webpack://gatsby-starter-hello-world/./node_modules/chart.js/dist/chart.esm.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","_unsupportedIterableToArray","F","s","done","value","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","animator","Animator","_request","_charts","Map","_running","_lastDate","undefined","chart","anims","date","type","callbacks","listeners","numSteps","duration","fn","currentStep","Math","min","start","me","r","window","_update","_refresh","Date","now","remaining","running","items","item","draw","_active","_total","tick","pop","_notify","charts","get","complete","progress","set","event","cb","_getAnims","_this$_getAnims$items","reduce","acc","cur","max","_duration","cancel","delete","transparent","interpolators","boolean","to","factor","color","c0","c1","valid","mix","hexString","number","Animation","cfg","prop","currentValue","_fn","_easing","easing","_start","floor","delay","_loop","loop","_target","_prop","_from","_to","_promises","elapsed","remain","promises","Promise","res","rej","resolved","method","d","animationOptions","_fallback","_indexable","_scriptable","colors","properties","numbers","active","animation","resize","show","animations","visible","hide","v","Animations","config","_chart","_properties","configure","animatedProps","getOwnPropertyNames","_step","_iterator","option","has","values","newOptions","options","$shared","assign","$animations","resolveTargetOptions","_createAnimations","anim","wait","all","awaitAll","then","props","charAt","update","_animateOptions","size","add","scaleClip","scale","allowedOverflow","opts","reverse","end","getSortedDatasetIndices","filterVisible","ilen","metasets","_getSortedDatasetMetas","index","_applyStack","stack","dsIndex","datasetIndex","otherValue","singleMode","mode","isStacked","meta","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","vScale","iAxis","axis","vAxis","indexScale","valueScale","concat","id","getStackKey","getFirstScaleId","scales","shift","clearStacks","_step2","_iterator2","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","initialize","linkScales","_stacked","addElements","dataset","getDataset","chooseId","x","y","xid","xAxisID","yid","yAxisID","rid","rAxisID","indexAxis","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","data","datasets","getDatasetMeta","scaleID","u","adata","convertObjectDataToArray","isExtensible","l","_dataCheck","datasetElementType","resetNewElements","stackChanged","_resyncElements","scopeKeys","datasetScopeKeys","scopes","getOptionScopes","createResolver","getContext","parsing","count","sorted","_sorted","prev","parseArrayData","parseObjectData","parsePrimitiveData","labels","getLabels","singleScale","_parsed$i","parse","_this$_parsing","_this$_parsing$xAxisK","xAxisKey","_this$_parsing$yAxisK","yAxisKey","range","parsedValue","NaN","canStack","otherScale","_getOtherScale","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","_getUserBounds","_scale$getUserBounds","getUserBounds","minDefined","maxDefined","otherMin","otherMax","_skip","updateRangeFromParsed","getParsed","label","getLabelForValue","t","b","_clip","clip","top","right","bottom","left","defaultClip","getMaxOverflow","elements","area","chartArea","element","resolveDatasetElementOptions","resolveDataElementOptions","context","parent","create","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","cache","cacheKey","sharing","datasetElementScopeKeys","prefixes","names","resolveNamedOptions","freeze","transition","datasetAnimationScopeKeys","_cacheable","sharedOptions","_animationsDisabled","_resolveAnimations","getStyle","getSharedOptions","_setStyle","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","splice","computeMinSampleSize","curr","_cache","$bar","metas","getMatchingVisibleMetas","getAllParsedValues","_","sort","a","getAllScaleValues","_length","updateMinAndPrev","abs","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","defaults","BarController","_DatasetController","_super","obj","_this$_parsing2","_this$_parsing2$xAxis","_this$_parsing2$yAxis","iAxisKey","vAxisKey","bars","reset","base","getBasePixel","horizontal","isHorizontal","ruler","_getRuler","firstOpts","includeOptions","updateSharedOptions","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","height","width","updateElement","last","val","isNaN","indexOf","_getStacks","pixels","barThickness","_startPixel","_endPixel","stackCount","_getStackCount","grouped","ratio","categoryPercentage","barPercentage","_me$_cachedMeta","_me$options","baseValue","minBarLength","floating","applyStack","getDataVisibility","actualBase","halfGrid","getLineWidthForValue","maxBarThickness","Infinity","skipNull","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","_getStackIndex","rects","overrides","interaction","_index_","offset","grid","_value_","beginAtZero","BubbleController","_DatasetController2","_super2","_this$_parsing3","_this$_parsing3$xAxis","_this$_parsing3$yAxis","_this$_cachedMeta","points","_me$_cachedMeta2","point","getPixelForDecimal","skip","radius","plugins","tooltip","title","DoughnutController","_DatasetController3","_super3","_this","innerRadius","outerRadius","offsetX","offsetY","rotation","circumference","T","isDatasetVisible","_getRotation","_getCircumference","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","_me$_getRotationExten","_getRotationExtents","_getRatioAndOffset","ratioX","ratioY","startAngle","endAngle","startX","cos","startY","sin","endX","endY","calcMax","angle","calcMin","maxX","maxY","H","minX","P","minY","getRatioAndOffset","maxWidth","maxHeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","_circumference","arc","metaData","locale","borderAlign","borderWidth","hoverBorderWidth","hoverOffset","ringWeightOffset","weight","aspectRatio","legend","generateLabels","map","style","text","fillStyle","backgroundColor","strokeStyle","borderColor","lineWidth","hidden","onClick","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_DatasetController4","_super4","line","_meta$data","_dataset","animationsDisabled","_getStartAndCountOfVi","pointCount","_iScale$getUserBounds","lo","hi","getStartAndCountOfVisiblePoints","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","scaleRangesChanged","_decimated","showLine","segment","animated","_me$_cachedMeta3","spanGaps","maxGapLength","directUpdate","prevParsed","nullData","stop","border","firstPoint","lastPoint","updateControlPoints","PolarAreaController","_DatasetController5","_super5","_this2","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","_this3","angleLines","display","circular","pointLabels","PieController","_DoughnutController","_super6","RadarController","_DatasetController6","_super7","_fullLoop","pointPosition","getPointPositionForValue","fill","ScatterController","_LineController","_super8","controllers","__proto__","abstract","Error","DateAdapter","format","timestamp","_format","amount","unit","weekday","override","members","adapters","_date","getRelativePosition","binarySearch","metaset","intersect","lookupMethod","_reversePixels","el","getRange","optimizedEvaluateItems","position","handler","getSortedVisibleDatasetMetas","_metasets$i2","_binarySearch","j","getIntersectItems","useFinalPosition","_minPadding","inRange","getNearestItems","distanceMetric","useX","useY","pt1","pt2","deltaX","deltaY","sqrt","pow","getDistanceMetricForAxis","minDistance","getCenterPoint","distance","getAxisItems","rangeMethod","intersectsItem","_metasets$i","jlen","evaluateAllVisibleItems","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","array","pos","filterDynamicPositionByAxis","box","sortByWeight","v0","v1","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","params","layout","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","w","heightChanged","h","same","other","getMargins","marginForPositions","positions","margin","fitBoxes","boxes","refit","refitBoxes","_updateDims","fullSize","placeBoxes","userPadding","padding","layouts","_layers","z","layoutItem","minPadding","availableWidth","availableHeight","layoutBoxes","wrapBoxes","wrap","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","vBoxMaxWidth","hBoxMaxHeight","setLayoutDims","updatePos","change","handleMaxPadding","BasePlatform","canvas","listener","BasicPlatform","_BasePlatform","_super9","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","passive","removeListener","removeEventListener","createAttachObserver","observer","MutationObserver","entries","addedNodes","added","observe","document","childList","subtree","createDetachObserver","container","removedNodes","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","devicePixelRatio","currentDevicePixelRatio","createResizeObserver","clientWidth","ResizeObserver","contentRect","addEventListener","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","proxy","_getRelativePosition$","native","fromNativeEvent","args","node","addListener","DomPlatform","_BasePlatform2","_super10","renderHeight","getAttribute","renderWidth","initial","boxSizing","displayWidth","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","attach","detach","Element","_this$getProps","getProps","final","ret","defaultRoutes","formatters","numeric","tickValue","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","autoSkip","tickOpts","ticksLimit","maxTicksLimit","tickLength","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","majorIndices","major","enabled","getMajorIndices","numMajorIndices","first","newTicks","ceil","skipMajors","evenMajorSpacing","diff","getEvenSpacing","factors","calculateSpacing","avgMajorSpacing","round","majorStart","majorEnd","bounds","grace","drawBorder","drawOnChartArea","drawTicks","tickWidth","tickColor","borderDash","borderDashOffset","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkipPadding","labelOffset","callback","minor","align","crossAlign","startsWith","offsetFromEdge","edge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","epsilon","lineValue","getTickMarkLength","getTitleHeight","fallback","font","lineHeight","titleAlign","reverseAlign","Scale","_Element","_super11","_this4","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","setContext","suggestedMin","suggestedMax","_me$getUserBounds","getMinMax","xLabels","yLabels","beforeUpdate","margins","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","notifyPlugins","_callHooks","beforeTickToLabelConversion","afterTickToLabelConversion","maxLabelDiagonal","numTicks","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","_me$options2","titleOpts","gridOpts","titleHeight","_me$_getLabelSizes","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","_me$options3","_me$options3$ticks","isRotated","labelsBelowTicks","offsetLeft","offsetRight","_this$options","generateTickLabels","_computeLabelSizes","tickFont","fontString","nestedLabel","caches","widths","heights","widestLabelSize","highestLabelSize","_resolveTickFontOptions","string","gc","gcLen","garbageCollect","valueAt","idx","pixel","decimal","getBaseValue","createTickContext","optionTicks","rot","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","positionAxisID","_positionAxisID","_value","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","textAlign","lineCount","textOffset","tickAndPadding","hTickAndPadding","textBaseline","_getXAxisLabelAlignment","_getYAxisLabelAlignment","_ret","_positionAxisID2","_value2","halfCount","strokeColor","strokeWidth","translation","_me$options4","_me$options5","_me$options5$ticks","save","fillRect","restore","findIndex","_computeGridLineItems","drawLine","p1","p2","setLineDash","lineDashOffset","beginPath","moveTo","lineTo","stroke","lastLineWidth","_computeLabelArea","_computeLabelItems","_this$options2","_titleArgs","titleX","titleY","titleArgs","drawBackground","drawGrid","drawTitle","drawLabels","tz","gz","axisID","TypedRegistry","scope","isPrototypeOf","parentScope","proto","getPrototypeOf","isIChartComponent","register","itemDefaults","routes","property","propertyParts","split","sourceName","sourceScope","join","parts","targetName","targetScope","routeDefaults","descriptors","registerDefaults","registry","Registry","_typedRegistries","_len","_key","_each","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","_get","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","typedRegistry","arg","reg","_getRegistryForType","isForType","_exec","itemReg","component","camelMethod","PluginService","_init","hook","_createDescriptors","_descriptors","_step3","_iterator3","descriptor","plugin","cancelable","_oldCache","_notifyStateChanges","getPlugin","local","_i","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","some","pluginScopeKeys","scriptable","indexable","allKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","toLowerCase","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","Set","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","mainScope","resetCache","keyLists","_cachedScopes","_getResolver","getResolver","resolver","subPrefixes","needContext","subResolver","_step4","_iterator4","descriptorDefaults","_getResolver2","resolverCache","p","includes","_step5","_descriptors2","isScriptable","isIndexable","_iterator5","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","isDomSupported","getCanvas","getElementById","instances","getChart","c","Chart","_this5","initialCanvas","existingChart","chartOptionScopes","platform","_initializePlatform","acquireContext","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","listen","_initialize","console","error","_this$options3","maintainAspectRatio","responsive","bindEvents","OffscreenCanvas","_resizeBeforeDraw","_resize","newSize","getMaximumSize","oldRatio","newRatio","getDevicePixelRatio","onResize","render","scalesOptions","axisOptions","scaleOpts","updated","isRadial","dposition","dtype","scaleType","getScale","init","hasUpdated","oldIndex","_destroyDatasetMeta","newControllers","_removeUnreferencedMetasets","order","_updateMetasetIndex","updateIndex","ControllerClass","getController","_defaults$datasets$ty","getElement","_updateMetasets","_resetElements","animsDisabled","ensureScalesHaveIDs","buildOrUpdateScales","invalidate","buildOrUpdateControllers","buildOrUpdateElements","_updateLayout","_updateDatasets","_eventHandler","noArea","_me$_layers","_idx","isFunction","_updateDataset","_me$_resizeBeforeDraw","layers","_drawDatasets","_drawDataset","setDatasetVisibility","_updateDatasetVisibility","_destroy","remove","unbindEvents","releaseContext","_this$canvas","toDataURL","_add","_remove","events","detached","isAttached","prefix","activeElements","lastActive","_ref","_updateHoverStyles","notify","replay","hoverOptions","hover","deactivated","activated","updateHoverStyle","_this6","eventFilter","_handleEvent","_me$_active","lastEvent","getElementsAtEventForMode","onHover","invalidatePlugins","clipArc","pixelMargin","angleMargin","closePath","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","_parseBorderRadius$","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","_pCenter","PI","_pCenter2","p8","_pCenter3","inner","lineJoin","fullCircles","drawFullCircleBorders","version","unregister","ArcElement","_Element2","_super12","_this7","chartX","chartY","_getAngleFromPoint","_this$getProps2","_this$getProps3","halfAngle","halfRadius","translate","drawArc","setStyle","lineCap","borderCapStyle","borderJoinStyle","previous","pathVars","_params$start","paramsStart","_params$end","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","_pathVars","lineMethod","stepped","tension","getLineMethod","_ref2","_ref2$move","fastPathSegment","prevX","lastY","_pathVars2","_ref3","_ref3$move","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","_draw","segments","path","_path","strokePathWithCache","_step6","segmentMethod","_iterator6","strokePathDirect","LineElement","_Element3","_super13","_this8","_points","_segments","_pointsUpdated","_interpolate","_getInterpolationMethod","_segments$i","interpolated","_step7","_iterator7","inRange$1","hitRadius","capBezierPoints","cubicInterpolationMode","PointElement","_Element4","_super14","_this9","mouseX","mouseY","_this$getProps4","_this$getProps5","hoverRadius","getBarBounds","bar","half","_bar$getProps","parseBorderSkipped","borderSkipped","parseEdge","orig","v2","startEnd","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","topLeft","topRight","bottomLeft","bottomRight","parseBorderRadius","outer","_inRange","skipX","skipY","addNormalRectPath","rect","pointStyle","BarElement","_Element5","_super15","_this10","_boundingRects","addRectPath","_this$getProps6","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","_getStartAndCountOfVi2","_iScale$getUserBounds2","getStartAndCountOfVisiblePointsSimplified","decimated","configurable","samples","maxAreaPoint","maxArea","nextA","bucketWidth","sampledIndex","endIndex","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","_data$a","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","destroy","decodeFill","fillOption","parseFillOption","parseFloat","simpleArc","computeBoundary","computeCircularBoundary","_source$scale","computeLinearBoundary","buildStackLine","sourcePoints","linesBelow","below","isLineAndNotInHideAnimation","unshift","getLinesBelow","createBoundaryLine","addPointsBelow","sourcePoint","postponed","_findPoint","findPoint","interpolate","pointValue","linePoints","firstValue","lastValue","boundary","_ref4","_ref4$x","_ref4$y","pointsFromSegments","resolveTarget","sources","propagate","visited","clipY","getBounds","_getEdge","clipBounds","_scale$chart$chartAre","_ref5","interpolatedLineTo","interpolatedPoint","_fill","_step11","_step8","tpoints","_iterator8","_step9","_iterator9","_step10","tgt","subBounds","_iterator10","fillSource","_iterator11","_step11$value","src","_src$style","_src$style$background","lineLoop","targetLoop","drawfill","getLineByIndex","getTarget","lineOpts","_ref6","_ref6$above","above","_ref6$below","doFill","plugin_filler","afterDatasetsUpdate","_args","$filler","beforeDatasetsDraw","drawTime","beforeDatasetDraw","getBoxSize","labelOpts","fontSize","_labelOpts$boxHeight","boxHeight","_labelOpts$boxWidth","boxWidth","usePointStyle","itemHeight","Legend","_Element6","_super16","_this11","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_getBoxSize","_fitRows","_fitCols","hitboxes","totalHeight","row","itemWidth","measureText","heightLimit","totalWidth","currentColWidth","currentColHeight","col","_me$options6","_step12","_iterator12","hitbox","_step13","_iterator13","_hitbox","cursor","defaultColor","rtlHelper","rtl","fontColor","halfFontSize","_getBoxSize2","textDirection","textWidth","setWidth","lineDash","drawOptions","SQRT2","xPlus","yBoxTop","xBoxLeft","leftForLtr","drawLegendBox","strikethrough","fillText","titleFont","titlePadding","topPaddingPlusHalfFontSize","hitBox","lh","onLeave","isListened","hoveredItem","_getLegendItemAt","sameItem","plugin_legend","_element","adjustHitBoxes","afterEvent","handleEvent","ci","_chart$legend$options","Title","_Element7","_super17","_this12","_padding","textSize","fontOpts","_me$_drawArgs","_drawArgs","plugin_title","titleBlock","createTitle","positioners","average","hasValue","tooltipPosition","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","str","String","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","lines","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","_chart$chartArea","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","cornerRadius","paddingAndSize","radiusAndPadding","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","Tooltip","_Element8","_super18","_this13","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","beforeTitle","afterTitle","bodyItems","scoped","beforeLabel","afterLabel","beforeFooter","afterFooter","_controller$getLabelA","getLabelAndValue","itemSort","labelColor","labelPointStyle","labelTextColor","_createItems","getTitle","getBeforeBody","getBody","getAfterBody","getFooter","positionAndSize","backgroundPoint","external","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","pt","titleColor","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","textColor","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","bodyColor","_drawColorBox","footerAlign","footerColor","tooltipSize","drawCaret","quadraticCurveTo","animX","animY","_updateAnimationTarget","hasTooltipContent","globalAlpha","drawBody","drawFooter","_ref7","positionChanged","_positionChanged","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","findOrAddLabel","addIfString","lastIndexOf","CategoryScale","_Scale","_super19","_this14","_startValue","_valueRange","isFinite","_me$getUserBounds2","_me$getMinMax","getDecimalForPixel","LinearScaleBase","_Scale2","_super20","_this15","_endValue","_me$options7","_me$getUserBounds3","setMin","setMax","minSign","maxSign","maxTicks","stepSize","computeTickLimit","getTickLimit","generationOptions","dataRange","niceMin","niceMax","numSpaces","precision","maxSpaces","rmin","rmax","countDefined","generateTicks$1","LinearScale","_LinearScaleBase","_super21","_me$getMinMax2","handleTickRangeOptions","isMajor","tickVal","LogarithmicScale","_Scale3","_super22","_this16","_zero","_me$getMinMax3","_me$getUserBounds4","exp","m","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","backdropPadding","determineLimits","getTextAlignForAngle","adjustPointPositionForLabelHeight","pathRadiusLine","getPointPosition","numberOrZero","param","RadialLinearScale","_LinearScaleBase2","_super23","_this17","drawingArea","_pointLabels","_pointLabelItems","_me$getMinMax4","furthestLimits","furthestAngles","valueCount","_opts","plFont","hLimits","vLimits","_setReductions","tickBackdropHeight","outerDistance","extra","pointLabelPosition","_angle","fitWithPointLabels","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","angleMultiplier","scalingFactor","scaledDistance","distanceFromCenter","_this$_pointLabelItem","_me$options8","_scale$_pointLabelIte","backdropColor","drawPointLabels","gridLineOpts","drawRadiusLine","rotate","showLabelBackdrop","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","_parse","input","adapter","_adapter","time","parser","isoWeekday","startOf","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","addTick","timestamps","_lookup2","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_Scale4","_super24","_this18","_unit","_majorUnit","_offsets","_normalized","displayFormats","formats","normalized","_me$getUserBounds5","_applyBounds","_getLabelBounds","endOf","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","getDecimalForValue","limit","hasWeekday","getDataTimestamps","tooltipFormat","datetime","minorFormat","majorFormat","formatter","_tickFormatFunction","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","_getLabelSize","normalize","table","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_TimeScale","_super25","_this19","_table","_maxIndex","_getTimestampsForTable","buildLookupTable","registerables"],"mappings":"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","file":"36bcf0ca-f41eb7e8e1faa00bf0d9.js","sourcesContent":["import _assertThisInitialized from \"C:/gitrepos/gatsby/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"C:/gitrepos/gatsby/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"C:/gitrepos/gatsby/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/gitrepos/gatsby/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/gitrepos/gatsby/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"C:/gitrepos/gatsby/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"C:/gitrepos/gatsby/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:/gitrepos/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/gitrepos/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*!\n * Chart.js v3.1.1\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as _color, i as isObject, b as isArray, d as defaults, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as isNullOrUndef, k as clipArea, m as unclipArea, _ as _arrayUnique, t as toRadians, n as toPercentage, o as toDimension, T as TAU, p as formatNumber, q as _angleBetween, H as HALF_PI, P as PI, w as isNumber, x as _limitValue, y as _lookupByKey, z as getRelativePosition$1, A as _isPointInArea, B as _rlookupByKey, C as toPadding, D as each, E as _getMaximumSize, F as _getParentNode, G as readUsedSize, I as throttled, J as supportsEventListenerOptions, K as log10, L as _factorize, M as finiteOrDefault, N as callback, O as _addGrace, Q as toDegrees, R as _measureText, S as _int16Range, U as _alignPixel, V as renderText, W as toFont, X as _toLeftRightCenter, Y as _alignStartEnd, Z as overrides, $ as merge, a0 as _capitalize, a1 as descriptors, a2 as isFunction, a3 as _attachContext, a4 as _createResolver, a5 as _descriptors, a6 as mergeIf, a7 as uid, a8 as debounce, a9 as retinaScale, aa as clearCanvas, ab as _elementsEqual, ac as getAngleFromPoint, ad as _readValueToProps, ae as _updateBezierControlPoints, af as _computeSegments, ag as _boundSegments, ah as _steppedInterpolation, ai as _bezierInterpolation, aj as _pointInLine, ak as _steppedLineTo, al as _bezierCurveTo, am as drawPoint, an as addRoundedRectPath, ao as toTRBL, ap as toTRBLCorners, aq as _boundSegment, ar as _normalizeAngle, as as getRtlAdapter, at as overrideTextDirection, au as _textX, av as restoreTextDirection, aw as noop, ax as distanceBetweenPoints, ay as _setMinAndMaxByKey, az as niceNum, aA as almostWhole, aB as almostEquals, aC as _decimalPlaces, aD as _longestText, aE as _filterBetween, aF as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nvar Animator = /*#__PURE__*/function () {\n  function Animator() {\n    _classCallCheck(this, Animator);\n\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  _createClass(Animator, [{\n    key: \"_notify\",\n    value: function _notify(chart, anims, date, type) {\n      var callbacks = anims.listeners[type];\n      var numSteps = anims.duration;\n      callbacks.forEach(function (fn) {\n        return fn({\n          chart: chart,\n          numSteps: numSteps,\n          currentStep: Math.min(date - anims.start, numSteps)\n        });\n      });\n    }\n  }, {\n    key: \"_refresh\",\n    value: function _refresh() {\n      var me = this;\n\n      if (me._request) {\n        return;\n      }\n\n      me._running = true;\n      me._request = requestAnimFrame.call(window, function () {\n        me._update();\n\n        me._request = null;\n\n        if (me._running) {\n          me._refresh();\n        }\n      });\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Date.now();\n      var me = this;\n      var remaining = 0;\n\n      me._charts.forEach(function (anims, chart) {\n        if (!anims.running || !anims.items.length) {\n          return;\n        }\n\n        var items = anims.items;\n        var i = items.length - 1;\n        var draw = false;\n        var item;\n\n        for (; i >= 0; --i) {\n          item = items[i];\n\n          if (item._active) {\n            if (item._total > anims.duration) {\n              anims.duration = item._total;\n            }\n\n            item.tick(date);\n            draw = true;\n          } else {\n            items[i] = items[items.length - 1];\n            items.pop();\n          }\n        }\n\n        if (draw) {\n          chart.draw();\n\n          me._notify(chart, anims, date, 'progress');\n        }\n\n        if (!items.length) {\n          anims.running = false;\n\n          me._notify(chart, anims, date, 'complete');\n        }\n\n        remaining += items.length;\n      });\n\n      me._lastDate = date;\n\n      if (remaining === 0) {\n        me._running = false;\n      }\n    }\n  }, {\n    key: \"_getAnims\",\n    value: function _getAnims(chart) {\n      var charts = this._charts;\n      var anims = charts.get(chart);\n\n      if (!anims) {\n        anims = {\n          running: false,\n          items: [],\n          listeners: {\n            complete: [],\n            progress: []\n          }\n        };\n        charts.set(chart, anims);\n      }\n\n      return anims;\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(chart, event, cb) {\n      this._getAnims(chart).listeners[event].push(cb);\n    }\n  }, {\n    key: \"add\",\n    value: function add(chart, items) {\n      var _this$_getAnims$items;\n\n      if (!items || !items.length) {\n        return;\n      }\n\n      (_this$_getAnims$items = this._getAnims(chart).items).push.apply(_this$_getAnims$items, _toConsumableArray(items));\n    }\n  }, {\n    key: \"has\",\n    value: function has(chart) {\n      return this._getAnims(chart).items.length > 0;\n    }\n  }, {\n    key: \"start\",\n    value: function start(chart) {\n      var anims = this._charts.get(chart);\n\n      if (!anims) {\n        return;\n      }\n\n      anims.running = true;\n      anims.start = Date.now();\n      anims.duration = anims.items.reduce(function (acc, cur) {\n        return Math.max(acc, cur._duration);\n      }, 0);\n\n      this._refresh();\n    }\n  }, {\n    key: \"running\",\n    value: function running(chart) {\n      if (!this._running) {\n        return false;\n      }\n\n      var anims = this._charts.get(chart);\n\n      if (!anims || !anims.running || !anims.items.length) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(chart) {\n      var anims = this._charts.get(chart);\n\n      if (!anims || !anims.items.length) {\n        return;\n      }\n\n      var items = anims.items;\n      var i = items.length - 1;\n\n      for (; i >= 0; --i) {\n        items[i].cancel();\n      }\n\n      anims.items = [];\n\n      this._notify(chart, anims, Date.now(), 'complete');\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(chart) {\n      return this._charts.delete(chart);\n    }\n  }]);\n\n  return Animator;\n}();\n\nvar animator = new Animator();\nvar transparent = 'transparent';\nvar interpolators = {\n  boolean: function boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color: function color(from, to, factor) {\n    var c0 = _color(from || transparent);\n\n    var c1 = c0.valid && _color(to || transparent);\n\n    return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n  },\n  number: function number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nvar Animation = /*#__PURE__*/function () {\n  function Animation(cfg, target, prop, to) {\n    _classCallCheck(this, Animation);\n\n    var currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    var from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  _createClass(Animation, [{\n    key: \"active\",\n    value: function active() {\n      return this._active;\n    }\n  }, {\n    key: \"update\",\n    value: function update(cfg, to, date) {\n      var me = this;\n\n      if (me._active) {\n        me._notify(false);\n\n        var currentValue = me._target[me._prop];\n        var elapsed = date - me._start;\n        var remain = me._duration - elapsed;\n        me._start = date;\n        me._duration = Math.floor(Math.max(remain, cfg.duration));\n        me._total += elapsed;\n        me._loop = !!cfg.loop;\n        me._to = resolve([cfg.to, to, currentValue, cfg.from]);\n        me._from = resolve([cfg.from, currentValue, to]);\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      var me = this;\n\n      if (me._active) {\n        me.tick(Date.now());\n        me._active = false;\n\n        me._notify(false);\n      }\n    }\n  }, {\n    key: \"tick\",\n    value: function tick(date) {\n      var me = this;\n      var elapsed = date - me._start;\n      var duration = me._duration;\n      var prop = me._prop;\n      var from = me._from;\n      var loop = me._loop;\n      var to = me._to;\n      var factor;\n      me._active = from !== to && (loop || elapsed < duration);\n\n      if (!me._active) {\n        me._target[prop] = to;\n\n        me._notify(true);\n\n        return;\n      }\n\n      if (elapsed < 0) {\n        me._target[prop] = from;\n        return;\n      }\n\n      factor = elapsed / duration % 2;\n      factor = loop && factor > 1 ? 2 - factor : factor;\n      factor = me._easing(Math.min(1, Math.max(0, factor)));\n      me._target[prop] = me._fn(from, to, factor);\n    }\n  }, {\n    key: \"wait\",\n    value: function wait() {\n      var promises = this._promises || (this._promises = []);\n      return new Promise(function (res, rej) {\n        promises.push({\n          res: res,\n          rej: rej\n        });\n      });\n    }\n  }, {\n    key: \"_notify\",\n    value: function _notify(resolved) {\n      var method = resolved ? 'res' : 'rej';\n      var promises = this._promises || [];\n\n      for (var i = 0; i < promises.length; i++) {\n        promises[i][method]();\n      }\n    }\n  }]);\n\n  return Animation;\n}();\n\nvar numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nvar colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined\n});\nvar animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: function _scriptable(name) {\n    return name !== 'onProgress' && name !== 'onComplete' && name !== 'fn';\n  }\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  }\n});\ndefaults.describe('animations', {\n  _fallback: 'animation'\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      }\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: function fn(v) {\n          return v | 0;\n        }\n      }\n    }\n  }\n});\n\nvar Animations = /*#__PURE__*/function () {\n  function Animations(chart, config) {\n    _classCallCheck(this, Animations);\n\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  _createClass(Animations, [{\n    key: \"configure\",\n    value: function configure(config) {\n      if (!isObject(config)) {\n        return;\n      }\n\n      var animatedProps = this._properties;\n      Object.getOwnPropertyNames(config).forEach(function (key) {\n        var cfg = config[key];\n\n        if (!isObject(cfg)) {\n          return;\n        }\n\n        var resolved = {};\n\n        var _iterator = _createForOfIteratorHelper(animationOptions),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var option = _step.value;\n            resolved[option] = cfg[option];\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        (isArray(cfg.properties) && cfg.properties || [key]).forEach(function (prop) {\n          if (prop === key || !animatedProps.has(prop)) {\n            animatedProps.set(prop, resolved);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_animateOptions\",\n    value: function _animateOptions(target, values) {\n      var newOptions = values.options;\n      var options = resolveTargetOptions(target, newOptions);\n\n      if (!options) {\n        return [];\n      }\n\n      var animations = this._createAnimations(options, newOptions);\n\n      if (newOptions.$shared) {\n        awaitAll(target.options.$animations, newOptions).then(function () {\n          target.options = newOptions;\n        }, function () {});\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"_createAnimations\",\n    value: function _createAnimations(target, values) {\n      var animatedProps = this._properties;\n      var animations = [];\n      var running = target.$animations || (target.$animations = {});\n      var props = Object.keys(values);\n      var date = Date.now();\n      var i;\n\n      for (i = props.length - 1; i >= 0; --i) {\n        var prop = props[i];\n\n        if (prop.charAt(0) === '$') {\n          continue;\n        }\n\n        if (prop === 'options') {\n          animations.push.apply(animations, _toConsumableArray(this._animateOptions(target, values)));\n          continue;\n        }\n\n        var value = values[prop];\n        var animation = running[prop];\n        var cfg = animatedProps.get(prop);\n\n        if (animation) {\n          if (cfg && animation.active()) {\n            animation.update(cfg, value, date);\n            continue;\n          } else {\n            animation.cancel();\n          }\n        }\n\n        if (!cfg || !cfg.duration) {\n          target[prop] = value;\n          continue;\n        }\n\n        running[prop] = animation = new Animation(cfg, target, prop, value);\n        animations.push(animation);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"update\",\n    value: function update(target, values) {\n      if (this._properties.size === 0) {\n        Object.assign(target, values);\n        return;\n      }\n\n      var animations = this._createAnimations(target, values);\n\n      if (animations.length) {\n        animator.add(this._chart, animations);\n        return true;\n      }\n    }\n  }]);\n\n  return Animations;\n}();\n\nfunction awaitAll(animations, properties) {\n  var running = [];\n  var keys = Object.keys(properties);\n\n  for (var i = 0; i < keys.length; i++) {\n    var anim = animations[keys[i]];\n\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n\n  var options = target.options;\n\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {\n      $shared: false,\n      $animations: {}\n    });\n  }\n\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  var opts = scale && scale.options || {};\n  var reverse = opts.reverse;\n  var min = opts.min === undefined ? allowedOverflow : 0;\n  var max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n\n  var x = scaleClip(xScale, allowedOverflow);\n  var y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  var t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  var keys = [];\n\n  var metasets = chart._getSortedDatasetMetas(filterVisible);\n\n  var i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n\n  return keys;\n}\n\nfunction _applyStack(stack, value, dsIndex, options) {\n  var keys = stack.keys;\n  var singleMode = options.mode === 'single';\n  var i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n\n      break;\n    }\n\n    otherValue = stack.values[datasetIndex];\n\n    if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n      value += otherValue;\n    }\n  }\n\n  return value;\n}\n\nfunction convertObjectDataToArray(data) {\n  var keys = Object.keys(data);\n  var adata = new Array(keys.length);\n  var i, ilen, key;\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  var stacked = scale && scale.options.stacked;\n  return stacked || stacked === undefined && meta.stack !== undefined;\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return \"\".concat(indexScale.id, \".\").concat(valueScale.id, \".\").concat(meta.stack || meta.type);\n}\n\nfunction getUserBounds(scale) {\n  var _scale$getUserBounds = scale.getUserBounds(),\n      min = _scale$getUserBounds.min,\n      max = _scale$getUserBounds.max,\n      minDefined = _scale$getUserBounds.minDefined,\n      maxDefined = _scale$getUserBounds.maxDefined;\n\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  var subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction updateStacks(controller, parsed) {\n  var chart = controller.chart,\n      meta = controller._cachedMeta;\n  var stacks = chart._stacks || (chart._stacks = {});\n  var iScale = meta.iScale,\n      vScale = meta.vScale,\n      datasetIndex = meta.index;\n  var iAxis = iScale.axis;\n  var vAxis = vScale.axis;\n  var key = getStackKey(iScale, vScale, meta);\n  var ilen = parsed.length;\n  var stack;\n\n  for (var i = 0; i < ilen; ++i) {\n    var item = parsed[i];\n    var index = item[iAxis],\n        value = item[vAxis];\n    var itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  var scales = chart.scales;\n  return Object.keys(scales).filter(function (key) {\n    return scales[key].axis === axis;\n  }).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return Object.assign(Object.create(parent), {\n    active: false,\n    dataset: undefined,\n    datasetIndex: index,\n    index: index,\n    mode: 'default',\n    type: 'dataset'\n  });\n}\n\nfunction createDataContext(parent, index, element) {\n  return Object.assign(Object.create(parent), {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element: element,\n    index: index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  items = items || meta._parsed;\n\n  var _iterator2 = _createForOfIteratorHelper(items),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var parsed = _step2.value;\n      var stacks = parsed._stacks;\n\n      if (!stacks || stacks[meta.vScale.id] === undefined || stacks[meta.vScale.id][meta.index] === undefined) {\n        return;\n      }\n\n      delete stacks[meta.vScale.id][meta.index];\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n}\n\nvar isDirectUpdateMode = function isDirectUpdateMode(mode) {\n  return mode === 'reset' || mode === 'none';\n};\n\nvar cloneIfNotShared = function cloneIfNotShared(cached, shared) {\n  return shared ? cached : Object.assign({}, cached);\n};\n\nvar DatasetController = /*#__PURE__*/function () {\n  function DatasetController(chart, datasetIndex) {\n    _classCallCheck(this, DatasetController);\n\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this.initialize();\n  }\n\n  _createClass(DatasetController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var me = this;\n      var meta = me._cachedMeta;\n      me.configure();\n      me.linkScales();\n      meta._stacked = isStacked(meta.vScale, meta);\n      me.addElements();\n    }\n  }, {\n    key: \"updateIndex\",\n    value: function updateIndex(datasetIndex) {\n      this.index = datasetIndex;\n    }\n  }, {\n    key: \"linkScales\",\n    value: function linkScales() {\n      var me = this;\n      var chart = me.chart;\n      var meta = me._cachedMeta;\n      var dataset = me.getDataset();\n\n      var chooseId = function chooseId(axis, x, y, r) {\n        return axis === 'x' ? x : axis === 'r' ? r : y;\n      };\n\n      var xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n      var yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n      var rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n      var indexAxis = meta.indexAxis;\n      var iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n      var vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n      meta.xScale = me.getScaleForId(xid);\n      meta.yScale = me.getScaleForId(yid);\n      meta.rScale = me.getScaleForId(rid);\n      meta.iScale = me.getScaleForId(iid);\n      meta.vScale = me.getScaleForId(vid);\n    }\n  }, {\n    key: \"getDataset\",\n    value: function getDataset() {\n      return this.chart.data.datasets[this.index];\n    }\n  }, {\n    key: \"getMeta\",\n    value: function getMeta() {\n      return this.chart.getDatasetMeta(this.index);\n    }\n  }, {\n    key: \"getScaleForId\",\n    value: function getScaleForId(scaleID) {\n      return this.chart.scales[scaleID];\n    }\n  }, {\n    key: \"_getOtherScale\",\n    value: function _getOtherScale(scale) {\n      var meta = this._cachedMeta;\n      return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._update('reset');\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      var meta = this._cachedMeta;\n\n      if (this._data) {\n        unlistenArrayEvents(this._data, this);\n      }\n\n      if (meta._stacked) {\n        clearStacks(meta);\n      }\n    }\n  }, {\n    key: \"_dataCheck\",\n    value: function _dataCheck() {\n      var me = this;\n      var dataset = me.getDataset();\n      var data = dataset.data || (dataset.data = []);\n\n      if (isObject(data)) {\n        me._data = convertObjectDataToArray(data);\n      } else if (me._data !== data) {\n        if (me._data) {\n          unlistenArrayEvents(me._data, me);\n          clearStacks(me._cachedMeta);\n        }\n\n        if (data && Object.isExtensible(data)) {\n          listenArrayEvents(data, me);\n        }\n\n        me._data = data;\n      }\n    }\n  }, {\n    key: \"addElements\",\n    value: function addElements() {\n      var me = this;\n      var meta = me._cachedMeta;\n\n      me._dataCheck();\n\n      if (me.datasetElementType) {\n        meta.dataset = new me.datasetElementType();\n      }\n    }\n  }, {\n    key: \"buildOrUpdateElements\",\n    value: function buildOrUpdateElements(resetNewElements) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var dataset = me.getDataset();\n      var stackChanged = false;\n\n      me._dataCheck();\n\n      meta._stacked = isStacked(meta.vScale, meta);\n\n      if (meta.stack !== dataset.stack) {\n        stackChanged = true;\n        clearStacks(meta);\n        meta.stack = dataset.stack;\n      }\n\n      me._resyncElements(resetNewElements);\n\n      if (stackChanged) {\n        updateStacks(me, meta._parsed);\n      }\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n      var config = me.chart.config;\n      var scopeKeys = config.datasetScopeKeys(me._type);\n      var scopes = config.getOptionScopes(me.getDataset(), scopeKeys, true);\n      me.options = config.createResolver(scopes, me.getContext());\n      me._parsing = me.options.parsing;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(start, count) {\n      var me = this;\n      var meta = me._cachedMeta,\n          data = me._data;\n      var iScale = meta.iScale,\n          _stacked = meta._stacked;\n      var iAxis = iScale.axis;\n      var sorted = start === 0 && count === data.length ? true : meta._sorted;\n      var prev = start > 0 && meta._parsed[start - 1];\n      var i, cur, parsed;\n\n      if (me._parsing === false) {\n        meta._parsed = data;\n        meta._sorted = true;\n      } else {\n        if (isArray(data[start])) {\n          parsed = me.parseArrayData(meta, data, start, count);\n        } else if (isObject(data[start])) {\n          parsed = me.parseObjectData(meta, data, start, count);\n        } else {\n          parsed = me.parsePrimitiveData(meta, data, start, count);\n        }\n\n        var isNotInOrderComparedToPrev = function isNotInOrderComparedToPrev() {\n          return cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n        };\n\n        for (i = 0; i < count; ++i) {\n          meta._parsed[i + start] = cur = parsed[i];\n\n          if (sorted) {\n            if (isNotInOrderComparedToPrev()) {\n              sorted = false;\n            }\n\n            prev = cur;\n          }\n        }\n\n        meta._sorted = sorted;\n      }\n\n      if (_stacked) {\n        updateStacks(me, parsed);\n      }\n    }\n  }, {\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var iAxis = iScale.axis;\n      var vAxis = vScale.axis;\n      var labels = iScale.getLabels();\n      var singleScale = iScale === vScale;\n      var parsed = new Array(count);\n      var i, ilen, index;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        var _parsed$i;\n\n        index = i + start;\n        parsed[i] = (_parsed$i = {}, _defineProperty(_parsed$i, iAxis, singleScale || iScale.parse(labels[index], index)), _defineProperty(_parsed$i, vAxis, vScale.parse(data[index], index)), _parsed$i);\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var parsed = new Array(count);\n      var i, ilen, index, item;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n          x: xScale.parse(item[0], index),\n          y: yScale.parse(item[1], index)\n        };\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var _this$_parsing = this._parsing,\n          _this$_parsing$xAxisK = _this$_parsing.xAxisKey,\n          xAxisKey = _this$_parsing$xAxisK === void 0 ? 'x' : _this$_parsing$xAxisK,\n          _this$_parsing$yAxisK = _this$_parsing.yAxisKey,\n          yAxisKey = _this$_parsing$yAxisK === void 0 ? 'y' : _this$_parsing$yAxisK;\n      var parsed = new Array(count);\n      var i, ilen, index, item;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n          x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n          y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n        };\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"getParsed\",\n    value: function getParsed(index) {\n      return this._cachedMeta._parsed[index];\n    }\n  }, {\n    key: \"getDataElement\",\n    value: function getDataElement(index) {\n      return this._cachedMeta.data[index];\n    }\n  }, {\n    key: \"applyStack\",\n    value: function applyStack(scale, parsed, mode) {\n      var chart = this.chart;\n      var meta = this._cachedMeta;\n      var value = parsed[scale.axis];\n      var stack = {\n        keys: getSortedDatasetIndices(chart, true),\n        values: parsed._stacks[scale.axis]\n      };\n      return _applyStack(stack, value, meta.index, {\n        mode: mode\n      });\n    }\n  }, {\n    key: \"updateRangeFromParsed\",\n    value: function updateRangeFromParsed(range, scale, parsed, stack) {\n      var parsedValue = parsed[scale.axis];\n      var value = parsedValue === null ? NaN : parsedValue;\n      var values = stack && parsed._stacks[scale.axis];\n\n      if (stack && values) {\n        stack.values = values;\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n        value = _applyStack(stack, parsedValue, this._cachedMeta.index, {\n          all: true\n        });\n      }\n\n      range.min = Math.min(range.min, value);\n      range.max = Math.max(range.max, value);\n    }\n  }, {\n    key: \"getMinMax\",\n    value: function getMinMax(scale, canStack) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var _parsed = meta._parsed;\n      var sorted = meta._sorted && scale === meta.iScale;\n      var ilen = _parsed.length;\n\n      var otherScale = me._getOtherScale(scale);\n\n      var stack = canStack && meta._stacked && {\n        keys: getSortedDatasetIndices(me.chart, true),\n        values: null\n      };\n      var range = {\n        min: Number.POSITIVE_INFINITY,\n        max: Number.NEGATIVE_INFINITY\n      };\n\n      var _getUserBounds = getUserBounds(otherScale),\n          otherMin = _getUserBounds.min,\n          otherMax = _getUserBounds.max;\n\n      var i, value, parsed, otherValue;\n\n      function _skip() {\n        parsed = _parsed[i];\n        value = parsed[scale.axis];\n        otherValue = parsed[otherScale.axis];\n        return !isNumberFinite(value) || otherMin > otherValue || otherMax < otherValue;\n      }\n\n      for (i = 0; i < ilen; ++i) {\n        if (_skip()) {\n          continue;\n        }\n\n        me.updateRangeFromParsed(range, scale, parsed, stack);\n\n        if (sorted) {\n          break;\n        }\n      }\n\n      if (sorted) {\n        for (i = ilen - 1; i >= 0; --i) {\n          if (_skip()) {\n            continue;\n          }\n\n          me.updateRangeFromParsed(range, scale, parsed, stack);\n          break;\n        }\n      }\n\n      return range;\n    }\n  }, {\n    key: \"getAllParsedValues\",\n    value: function getAllParsedValues(scale) {\n      var parsed = this._cachedMeta._parsed;\n      var values = [];\n      var i, ilen, value;\n\n      for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n        value = parsed[i][scale.axis];\n\n        if (isNumberFinite(value)) {\n          values.push(value);\n        }\n      }\n\n      return values;\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      return false;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var iScale = meta.iScale;\n      var vScale = meta.vScale;\n      var parsed = me.getParsed(index);\n      return {\n        label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n        value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n      };\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(mode) {\n      var me = this;\n      var meta = me._cachedMeta;\n      me.configure();\n      me._cachedDataOpts = {};\n      me.update(mode || 'default');\n      meta._clip = toClip(valueOrDefault(me.options.clip, defaultClip(meta.xScale, meta.yScale, me.getMaxOverflow())));\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {}\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n      var ctx = me._ctx;\n      var chart = me.chart;\n      var meta = me._cachedMeta;\n      var elements = meta.data || [];\n      var area = chart.chartArea;\n      var active = [];\n      var start = me._drawStart || 0;\n      var count = me._drawCount || elements.length - start;\n      var i;\n\n      if (meta.dataset) {\n        meta.dataset.draw(ctx, area, start, count);\n      }\n\n      for (i = start; i < start + count; ++i) {\n        var element = elements[i];\n\n        if (element.active) {\n          active.push(element);\n        } else {\n          element.draw(ctx, area);\n        }\n      }\n\n      for (i = 0; i < active.length; ++i) {\n        active[i].draw(ctx, area);\n      }\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle(index, active) {\n      var mode = active ? 'active' : 'default';\n      return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext(index, active, mode) {\n      var me = this;\n      var dataset = me.getDataset();\n      var context;\n\n      if (index >= 0 && index < me._cachedMeta.data.length) {\n        var element = me._cachedMeta.data[index];\n        context = element.$context || (element.$context = createDataContext(me.getContext(), index, element));\n        context.parsed = me.getParsed(index);\n        context.raw = dataset.data[index];\n      } else {\n        context = me.$context || (me.$context = createDatasetContext(me.chart.getContext(), me.index));\n        context.dataset = dataset;\n      }\n\n      context.active = !!active;\n      context.mode = mode;\n      return context;\n    }\n  }, {\n    key: \"resolveDatasetElementOptions\",\n    value: function resolveDatasetElementOptions(mode) {\n      return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n  }, {\n    key: \"resolveDataElementOptions\",\n    value: function resolveDataElementOptions(index, mode) {\n      return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n  }, {\n    key: \"_resolveElementOptions\",\n    value: function _resolveElementOptions(elementType) {\n      var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'default';\n      var index = arguments.length > 2 ? arguments[2] : undefined;\n      var me = this;\n      var active = mode === 'active';\n      var cache = me._cachedDataOpts;\n      var cacheKey = elementType + '-' + mode;\n      var cached = cache[cacheKey];\n      var sharing = me.enableOptionSharing && defined(index);\n\n      if (cached) {\n        return cloneIfNotShared(cached, sharing);\n      }\n\n      var config = me.chart.config;\n      var scopeKeys = config.datasetElementScopeKeys(me._type, elementType);\n      var prefixes = active ? [\"\".concat(elementType, \"Hover\"), 'hover', elementType, ''] : [elementType, ''];\n      var scopes = config.getOptionScopes(me.getDataset(), scopeKeys);\n      var names = Object.keys(defaults.elements[elementType]);\n\n      var context = function context() {\n        return me.getContext(index, active);\n      };\n\n      var values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n      if (values.$shared) {\n        values.$shared = sharing;\n        cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n      }\n\n      return values;\n    }\n  }, {\n    key: \"_resolveAnimations\",\n    value: function _resolveAnimations(index, transition, active) {\n      var me = this;\n      var chart = me.chart;\n      var cache = me._cachedDataOpts;\n      var cacheKey = \"animation-\".concat(transition);\n      var cached = cache[cacheKey];\n\n      if (cached) {\n        return cached;\n      }\n\n      var options;\n\n      if (chart.options.animation !== false) {\n        var config = me.chart.config;\n        var scopeKeys = config.datasetAnimationScopeKeys(me._type, transition);\n        var scopes = config.getOptionScopes(me.getDataset(), scopeKeys);\n        options = config.createResolver(scopes, me.getContext(index, active, transition));\n      }\n\n      var animations = new Animations(chart, options && options.animations);\n\n      if (options && options._cacheable) {\n        cache[cacheKey] = Object.freeze(animations);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"getSharedOptions\",\n    value: function getSharedOptions(options) {\n      if (!options.$shared) {\n        return;\n      }\n\n      return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n  }, {\n    key: \"includeOptions\",\n    value: function includeOptions(mode, sharedOptions) {\n      return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n  }, {\n    key: \"updateElement\",\n    value: function updateElement(element, index, properties, mode) {\n      if (isDirectUpdateMode(mode)) {\n        Object.assign(element, properties);\n      } else {\n        this._resolveAnimations(index, mode).update(element, properties);\n      }\n    }\n  }, {\n    key: \"updateSharedOptions\",\n    value: function updateSharedOptions(sharedOptions, mode, newOptions) {\n      if (sharedOptions && !isDirectUpdateMode(mode)) {\n        this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n      }\n    }\n  }, {\n    key: \"_setStyle\",\n    value: function _setStyle(element, index, mode, active) {\n      element.active = active;\n      var options = this.getStyle(index, active);\n\n      this._resolveAnimations(index, mode, active).update(element, {\n        options: !active && this.getSharedOptions(options) || options\n      });\n    }\n  }, {\n    key: \"removeHoverStyle\",\n    value: function removeHoverStyle(element, datasetIndex, index) {\n      this._setStyle(element, index, 'active', false);\n    }\n  }, {\n    key: \"setHoverStyle\",\n    value: function setHoverStyle(element, datasetIndex, index) {\n      this._setStyle(element, index, 'active', true);\n    }\n  }, {\n    key: \"_removeDatasetHoverStyle\",\n    value: function _removeDatasetHoverStyle() {\n      var element = this._cachedMeta.dataset;\n\n      if (element) {\n        this._setStyle(element, undefined, 'active', false);\n      }\n    }\n  }, {\n    key: \"_setDatasetHoverStyle\",\n    value: function _setDatasetHoverStyle() {\n      var element = this._cachedMeta.dataset;\n\n      if (element) {\n        this._setStyle(element, undefined, 'active', true);\n      }\n    }\n  }, {\n    key: \"_resyncElements\",\n    value: function _resyncElements(resetNewElements) {\n      var me = this;\n      var numMeta = me._cachedMeta.data.length;\n      var numData = me._data.length;\n\n      if (numData > numMeta) {\n        me._insertElements(numMeta, numData - numMeta, resetNewElements);\n      } else if (numData < numMeta) {\n        me._removeElements(numData, numMeta - numData);\n      }\n\n      var count = Math.min(numData, numMeta);\n\n      if (count) {\n        me.parse(0, count);\n      }\n    }\n  }, {\n    key: \"_insertElements\",\n    value: function _insertElements(start, count) {\n      var resetNewElements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var me = this;\n      var meta = me._cachedMeta;\n      var data = meta.data;\n      var end = start + count;\n      var i;\n\n      var move = function move(arr) {\n        arr.length += count;\n\n        for (i = arr.length - 1; i >= end; i--) {\n          arr[i] = arr[i - count];\n        }\n      };\n\n      move(data);\n\n      for (i = start; i < end; ++i) {\n        data[i] = new me.dataElementType();\n      }\n\n      if (me._parsing) {\n        move(meta._parsed);\n      }\n\n      me.parse(start, count);\n\n      if (resetNewElements) {\n        me.updateElements(data, start, count, 'reset');\n      }\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(element, start, count, mode) {}\n  }, {\n    key: \"_removeElements\",\n    value: function _removeElements(start, count) {\n      var me = this;\n      var meta = me._cachedMeta;\n\n      if (me._parsing) {\n        var removed = meta._parsed.splice(start, count);\n\n        if (meta._stacked) {\n          clearStacks(meta, removed);\n        }\n      }\n\n      meta.data.splice(start, count);\n    }\n  }, {\n    key: \"_onDataPush\",\n    value: function _onDataPush() {\n      var count = arguments.length;\n\n      this._insertElements(this.getDataset().data.length - count, count);\n    }\n  }, {\n    key: \"_onDataPop\",\n    value: function _onDataPop() {\n      this._removeElements(this._cachedMeta.data.length - 1, 1);\n    }\n  }, {\n    key: \"_onDataShift\",\n    value: function _onDataShift() {\n      this._removeElements(0, 1);\n    }\n  }, {\n    key: \"_onDataSplice\",\n    value: function _onDataSplice(start, count) {\n      this._removeElements(start, count);\n\n      this._insertElements(start, arguments.length - 2);\n    }\n  }, {\n    key: \"_onDataUnshift\",\n    value: function _onDataUnshift() {\n      this._insertElements(0, arguments.length);\n    }\n  }]);\n\n  return DatasetController;\n}();\n\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale) {\n  if (!scale._cache.$bar) {\n    var metas = scale.getMatchingVisibleMetas('bar');\n    var values = [];\n\n    for (var i = 0, ilen = metas.length; i < ilen; i++) {\n      values = values.concat(metas[i].controller.getAllParsedValues(scale));\n    }\n\n    scale._cache.$bar = _arrayUnique(values.sort(function (a, b) {\n      return a - b;\n    }));\n  }\n\n  return scale._cache.$bar;\n}\n\nfunction computeMinSampleSize(scale) {\n  var values = getAllScaleValues(scale);\n  var min = scale._length;\n  var i, ilen, curr, prev;\n\n  var updateMinAndPrev = function updateMinAndPrev() {\n    min = Math.min(min, i && Math.abs(curr - prev) || min);\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  var thickness = options.barThickness;\n  var size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio: ratio,\n    start: ruler.pixels[index] - size / 2\n  };\n}\n\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  var pixels = ruler.pixels;\n  var curr = pixels[index];\n  var prev = index > 0 ? pixels[index - 1] : null;\n  var next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  var percent = options.categoryPercentage;\n\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n\n  var start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  var size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start: start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  var startValue = vScale.parse(entry[0], i);\n  var endValue = vScale.parse(entry[1], i);\n  var min = Math.min(startValue, endValue);\n  var max = Math.max(startValue, endValue);\n  var barStart = min;\n  var barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart: barStart,\n    barEnd: barEnd,\n    start: startValue,\n    end: endValue,\n    min: min,\n    max: max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  var iScale = meta.iScale;\n  var vScale = meta.vScale;\n  var labels = iScale.getLabels();\n  var singleScale = iScale === vScale;\n  var parsed = [];\n  var i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nvar BarController = /*#__PURE__*/function (_DatasetController) {\n  _inherits(BarController, _DatasetController);\n\n  var _super = _createSuper(BarController);\n\n  function BarController() {\n    _classCallCheck(this, BarController);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(BarController, [{\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      return parseArrayOrPrimitive(meta, data, start, count);\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      return parseArrayOrPrimitive(meta, data, start, count);\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var _this$_parsing2 = this._parsing,\n          _this$_parsing2$xAxis = _this$_parsing2.xAxisKey,\n          xAxisKey = _this$_parsing2$xAxis === void 0 ? 'x' : _this$_parsing2$xAxis,\n          _this$_parsing2$yAxis = _this$_parsing2.yAxisKey,\n          yAxisKey = _this$_parsing2$yAxis === void 0 ? 'y' : _this$_parsing2$yAxis;\n      var iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n      var vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n      var parsed = [];\n      var i, ilen, item, obj;\n\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        obj = data[i];\n        item = {};\n        item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n        parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"updateRangeFromParsed\",\n    value: function updateRangeFromParsed(range, scale, parsed, stack) {\n      _get(_getPrototypeOf(BarController.prototype), \"updateRangeFromParsed\", this).call(this, range, scale, parsed, stack);\n\n      var custom = parsed._custom;\n\n      if (custom && scale === this._cachedMeta.vScale) {\n        range.min = Math.min(range.min, custom.min);\n        range.max = Math.max(range.max, custom.max);\n      }\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var parsed = me.getParsed(index);\n      var custom = parsed._custom;\n      var value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n      return {\n        label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n        value: value\n      };\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var me = this;\n      me.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(BarController.prototype), \"initialize\", this).call(this);\n\n      var meta = me._cachedMeta;\n      meta.stack = me.getDataset().stack;\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var meta = me._cachedMeta;\n      me.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(bars, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var vScale = me._cachedMeta.vScale;\n      var base = vScale.getBasePixel();\n      var horizontal = vScale.isHorizontal();\n\n      var ruler = me._getRuler();\n\n      var firstOpts = me.resolveDataElementOptions(start, mode);\n      var sharedOptions = me.getSharedOptions(firstOpts);\n      var includeOptions = me.includeOptions(mode, sharedOptions);\n      me.updateSharedOptions(sharedOptions, mode, firstOpts);\n\n      for (var i = start; i < start + count; i++) {\n        var parsed = me.getParsed(i);\n        var vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n          base: base,\n          head: base\n        } : me._calculateBarValuePixels(i);\n\n        var ipixels = me._calculateBarIndexPixels(i, ruler);\n\n        var properties = {\n          horizontal: horizontal,\n          base: vpixels.base,\n          x: horizontal ? vpixels.head : ipixels.center,\n          y: horizontal ? ipixels.center : vpixels.head,\n          height: horizontal ? ipixels.size : undefined,\n          width: horizontal ? undefined : ipixels.size\n        };\n\n        if (includeOptions) {\n          properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n        }\n\n        me.updateElement(bars[i], i, properties, mode);\n      }\n    }\n  }, {\n    key: \"_getStacks\",\n    value: function _getStacks(last, dataIndex) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var iScale = meta.iScale;\n      var metasets = iScale.getMatchingVisibleMetas(me._type);\n      var stacked = iScale.options.stacked;\n      var ilen = metasets.length;\n      var stacks = [];\n      var i, item;\n\n      for (i = 0; i < ilen; ++i) {\n        item = metasets[i];\n\n        if (typeof dataIndex !== 'undefined') {\n          var val = item.controller.getParsed(dataIndex)[item.controller._cachedMeta.vScale.axis];\n\n          if (isNullOrUndef(val) || isNaN(val)) {\n            continue;\n          }\n        }\n\n        if (stacked === false || stacks.indexOf(item.stack) === -1 || stacked === undefined && item.stack === undefined) {\n          stacks.push(item.stack);\n        }\n\n        if (item.index === last) {\n          break;\n        }\n      }\n\n      if (!stacks.length) {\n        stacks.push(undefined);\n      }\n\n      return stacks;\n    }\n  }, {\n    key: \"_getStackCount\",\n    value: function _getStackCount(index) {\n      return this._getStacks(undefined, index).length;\n    }\n  }, {\n    key: \"_getStackIndex\",\n    value: function _getStackIndex(datasetIndex, name) {\n      var stacks = this._getStacks(datasetIndex);\n\n      var index = name !== undefined ? stacks.indexOf(name) : -1;\n      return index === -1 ? stacks.length - 1 : index;\n    }\n  }, {\n    key: \"_getRuler\",\n    value: function _getRuler() {\n      var me = this;\n      var opts = me.options;\n      var meta = me._cachedMeta;\n      var iScale = meta.iScale;\n      var pixels = [];\n      var i, ilen;\n\n      for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n        pixels.push(iScale.getPixelForValue(me.getParsed(i)[iScale.axis], i));\n      }\n\n      var barThickness = opts.barThickness;\n      var min = barThickness || computeMinSampleSize(iScale);\n      return {\n        min: min,\n        pixels: pixels,\n        start: iScale._startPixel,\n        end: iScale._endPixel,\n        stackCount: me._getStackCount(),\n        scale: iScale,\n        grouped: opts.grouped,\n        ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n      };\n    }\n  }, {\n    key: \"_calculateBarValuePixels\",\n    value: function _calculateBarValuePixels(index) {\n      var me = this;\n      var _me$_cachedMeta = me._cachedMeta,\n          vScale = _me$_cachedMeta.vScale,\n          _stacked = _me$_cachedMeta._stacked;\n      var _me$options = me.options,\n          baseValue = _me$options.base,\n          minBarLength = _me$options.minBarLength;\n      var parsed = me.getParsed(index);\n      var custom = parsed._custom;\n      var floating = isFloatBar(custom);\n      var value = parsed[vScale.axis];\n      var start = 0;\n      var length = _stacked ? me.applyStack(vScale, parsed, _stacked) : value;\n      var head, size;\n\n      if (length !== value) {\n        start = length - value;\n        length = value;\n      }\n\n      if (floating) {\n        value = custom.barStart;\n        length = custom.barEnd - custom.barStart;\n\n        if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n          start = 0;\n        }\n\n        start += value;\n      }\n\n      var startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n      var base = vScale.getPixelForValue(startValue);\n\n      if (this.chart.getDataVisibility(index)) {\n        head = vScale.getPixelForValue(start + length);\n      } else {\n        head = base;\n      }\n\n      size = head - base;\n\n      if (minBarLength !== undefined && Math.abs(size) < minBarLength) {\n        size = size < 0 ? -minBarLength : minBarLength;\n\n        if (value === 0) {\n          base -= size / 2;\n        }\n\n        head = base + size;\n      }\n\n      var actualBase = baseValue || 0;\n\n      if (base === vScale.getPixelForValue(actualBase)) {\n        var halfGrid = vScale.getLineWidthForValue(actualBase) / 2;\n\n        if (size > 0) {\n          base += halfGrid;\n          size -= halfGrid;\n        } else if (size < 0) {\n          base -= halfGrid;\n          size += halfGrid;\n        }\n      }\n\n      return {\n        size: size,\n        base: base,\n        head: head,\n        center: head + size / 2\n      };\n    }\n  }, {\n    key: \"_calculateBarIndexPixels\",\n    value: function _calculateBarIndexPixels(index, ruler) {\n      var me = this;\n      var scale = ruler.scale;\n      var options = me.options;\n      var maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n      var center, size;\n\n      if (ruler.grouped) {\n        var stackCount = options.skipNull ? me._getStackCount(index) : ruler.stackCount;\n        var range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n        var stackIndex = me._getStackIndex(me.index, me._cachedMeta.stack);\n\n        center = range.start + range.chunk * stackIndex + range.chunk / 2;\n        size = Math.min(maxBarThickness, range.chunk * range.ratio);\n      } else {\n        center = scale.getPixelForValue(me.getParsed(index)[scale.axis], index);\n        size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n      }\n\n      return {\n        base: center - size / 2,\n        head: center + size / 2,\n        center: center,\n        size: size\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n      var chart = me.chart;\n      var meta = me._cachedMeta;\n      var vScale = meta.vScale;\n      var rects = meta.data;\n      var ilen = rects.length;\n      var i = 0;\n      clipArea(chart.ctx, chart.chartArea);\n\n      for (; i < ilen; ++i) {\n        if (me.getParsed(i)[vScale.axis] !== null) {\n          rects[i].draw(me._ctx);\n        }\n      }\n\n      unclipArea(chart.ctx);\n    }\n  }]);\n\n  return BarController;\n}(DatasetController);\n\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  interaction: {\n    mode: 'index'\n  },\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true\n    }\n  }\n};\n\nvar BubbleController = /*#__PURE__*/function (_DatasetController2) {\n  _inherits(BubbleController, _DatasetController2);\n\n  var _super2 = _createSuper(BubbleController);\n\n  function BubbleController() {\n    _classCallCheck(this, BubbleController);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(BubbleController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(BubbleController.prototype), \"initialize\", this).call(this);\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var _this$_parsing3 = this._parsing,\n          _this$_parsing3$xAxis = _this$_parsing3.xAxisKey,\n          xAxisKey = _this$_parsing3$xAxis === void 0 ? 'x' : _this$_parsing3$xAxis,\n          _this$_parsing3$yAxis = _this$_parsing3.yAxisKey,\n          yAxisKey = _this$_parsing3$yAxis === void 0 ? 'y' : _this$_parsing3$yAxis;\n      var parsed = [];\n      var i, ilen, item;\n\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        item = data[i];\n        parsed.push({\n          x: xScale.parse(resolveObjectKey(item, xAxisKey), i),\n          y: yScale.parse(resolveObjectKey(item, yAxisKey), i),\n          _custom: item && item.r && +item.r\n        });\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      var _this$_cachedMeta = this._cachedMeta,\n          data = _this$_cachedMeta.data,\n          _parsed = _this$_cachedMeta._parsed;\n      var max = 0;\n\n      for (var i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size() / 2, _parsed[i]._custom);\n      }\n\n      return max > 0 && max;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var parsed = me.getParsed(index);\n      var x = xScale.getLabelForValue(parsed.x);\n      var y = yScale.getLabelForValue(parsed.y);\n      var r = parsed._custom;\n      return {\n        label: meta.label,\n        value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var points = me._cachedMeta.data;\n      me.updateElements(points, 0, points.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var _me$_cachedMeta2 = me._cachedMeta,\n          xScale = _me$_cachedMeta2.xScale,\n          yScale = _me$_cachedMeta2.yScale;\n      var firstOpts = me.resolveDataElementOptions(start, mode);\n      var sharedOptions = me.getSharedOptions(firstOpts);\n      var includeOptions = me.includeOptions(mode, sharedOptions);\n\n      for (var i = start; i < start + count; i++) {\n        var point = points[i];\n        var parsed = !reset && me.getParsed(i);\n        var x = reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(parsed.x);\n        var y = reset ? yScale.getBasePixel() : yScale.getPixelForValue(parsed.y);\n        var properties = {\n          x: x,\n          y: y,\n          skip: isNaN(x) || isNaN(y)\n        };\n\n        if (includeOptions) {\n          properties.options = me.resolveDataElementOptions(i, mode);\n\n          if (reset) {\n            properties.options.radius = 0;\n          }\n        }\n\n        me.updateElement(point, i, properties, mode);\n      }\n\n      me.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"resolveDataElementOptions\",\n    value: function resolveDataElementOptions(index, mode) {\n      var parsed = this.getParsed(index);\n\n      var values = _get(_getPrototypeOf(BubbleController.prototype), \"resolveDataElementOptions\", this).call(this, index, mode);\n\n      if (values.$shared) {\n        values = Object.assign({}, values, {\n          $shared: false\n        });\n      }\n\n      var radius = values.radius;\n\n      if (mode !== 'active') {\n        values.radius = 0;\n      }\n\n      values.radius += valueOrDefault(parsed && parsed._custom, radius);\n      return values;\n    }\n  }]);\n\n  return BubbleController;\n}(DatasetController);\n\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  var ratioX = 1;\n  var ratioY = 1;\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (circumference < TAU) {\n    var startAngle = rotation;\n    var endAngle = startAngle + circumference;\n    var startX = Math.cos(startAngle);\n    var startY = Math.sin(startAngle);\n    var endX = Math.cos(endAngle);\n    var endY = Math.sin(endAngle);\n\n    var calcMax = function calcMax(angle, a, b) {\n      return _angleBetween(angle, startAngle, endAngle) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    };\n\n    var calcMin = function calcMin(angle, a, b) {\n      return _angleBetween(angle, startAngle, endAngle) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    };\n\n    var maxX = calcMax(0, startX, endX);\n    var maxY = calcMax(HALF_PI, startY, endY);\n    var minX = calcMin(PI, startX, endX);\n    var minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n\n  return {\n    ratioX: ratioX,\n    ratioY: ratioY,\n    offsetX: offsetX,\n    offsetY: offsetY\n  };\n}\n\nvar DoughnutController = /*#__PURE__*/function (_DatasetController3) {\n  _inherits(DoughnutController, _DatasetController3);\n\n  var _super3 = _createSuper(DoughnutController);\n\n  function DoughnutController(chart, datasetIndex) {\n    var _this;\n\n    _classCallCheck(this, DoughnutController);\n\n    _this = _super3.call(this, chart, datasetIndex);\n    _this.enableOptionSharing = true;\n    _this.innerRadius = undefined;\n    _this.outerRadius = undefined;\n    _this.offsetX = undefined;\n    _this.offsetY = undefined;\n    return _this;\n  }\n\n  _createClass(DoughnutController, [{\n    key: \"linkScales\",\n    value: function linkScales() {}\n  }, {\n    key: \"parse\",\n    value: function parse(start, count) {\n      var data = this.getDataset().data;\n      var meta = this._cachedMeta;\n      var i, ilen;\n\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = +data[i];\n      }\n    }\n  }, {\n    key: \"_getRotation\",\n    value: function _getRotation() {\n      return toRadians(this.options.rotation - 90);\n    }\n  }, {\n    key: \"_getCircumference\",\n    value: function _getCircumference() {\n      return toRadians(this.options.circumference);\n    }\n  }, {\n    key: \"_getRotationExtents\",\n    value: function _getRotationExtents() {\n      var min = TAU;\n      var max = -TAU;\n      var me = this;\n\n      for (var i = 0; i < me.chart.data.datasets.length; ++i) {\n        if (me.chart.isDatasetVisible(i)) {\n          var controller = me.chart.getDatasetMeta(i).controller;\n\n          var rotation = controller._getRotation();\n\n          var circumference = controller._getCircumference();\n\n          min = Math.min(min, rotation);\n          max = Math.max(max, rotation + circumference);\n        }\n      }\n\n      return {\n        rotation: min,\n        circumference: max - min\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var chart = me.chart;\n      var chartArea = chart.chartArea;\n      var meta = me._cachedMeta;\n      var arcs = meta.data;\n      var spacing = me.getMaxBorderWidth() + me.getMaxOffset(arcs);\n      var maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n      var cutout = Math.min(toPercentage(me.options.cutout, maxSize), 1);\n\n      var chartWeight = me._getRingWeight(me.index);\n\n      var _me$_getRotationExten = me._getRotationExtents(),\n          circumference = _me$_getRotationExten.circumference,\n          rotation = _me$_getRotationExten.rotation;\n\n      var _getRatioAndOffset = getRatioAndOffset(rotation, circumference, cutout),\n          ratioX = _getRatioAndOffset.ratioX,\n          ratioY = _getRatioAndOffset.ratioY,\n          offsetX = _getRatioAndOffset.offsetX,\n          offsetY = _getRatioAndOffset.offsetY;\n\n      var maxWidth = (chartArea.width - spacing) / ratioX;\n      var maxHeight = (chartArea.height - spacing) / ratioY;\n      var maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n      var outerRadius = toDimension(me.options.radius, maxRadius);\n      var innerRadius = Math.max(outerRadius * cutout, 0);\n\n      var radiusLength = (outerRadius - innerRadius) / me._getVisibleDatasetWeightTotal();\n\n      me.offsetX = offsetX * outerRadius;\n      me.offsetY = offsetY * outerRadius;\n      meta.total = me.calculateTotal();\n      me.outerRadius = outerRadius - radiusLength * me._getRingWeightOffset(me.index);\n      me.innerRadius = Math.max(me.outerRadius - radiusLength * chartWeight, 0);\n      me.updateElements(arcs, 0, arcs.length, mode);\n    }\n  }, {\n    key: \"_circumference\",\n    value: function _circumference(i, reset) {\n      var me = this;\n      var opts = me.options;\n      var meta = me._cachedMeta;\n\n      var circumference = me._getCircumference();\n\n      if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null) {\n        return 0;\n      }\n\n      return me.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(arcs, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var chart = me.chart;\n      var chartArea = chart.chartArea;\n      var opts = chart.options;\n      var animationOpts = opts.animation;\n      var centerX = (chartArea.left + chartArea.right) / 2;\n      var centerY = (chartArea.top + chartArea.bottom) / 2;\n      var animateScale = reset && animationOpts.animateScale;\n      var innerRadius = animateScale ? 0 : me.innerRadius;\n      var outerRadius = animateScale ? 0 : me.outerRadius;\n      var firstOpts = me.resolveDataElementOptions(start, mode);\n      var sharedOptions = me.getSharedOptions(firstOpts);\n      var includeOptions = me.includeOptions(mode, sharedOptions);\n\n      var startAngle = me._getRotation();\n\n      var i;\n\n      for (i = 0; i < start; ++i) {\n        startAngle += me._circumference(i, reset);\n      }\n\n      for (i = start; i < start + count; ++i) {\n        var circumference = me._circumference(i, reset);\n\n        var arc = arcs[i];\n        var properties = {\n          x: centerX + me.offsetX,\n          y: centerY + me.offsetY,\n          startAngle: startAngle,\n          endAngle: startAngle + circumference,\n          circumference: circumference,\n          outerRadius: outerRadius,\n          innerRadius: innerRadius\n        };\n\n        if (includeOptions) {\n          properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n        }\n\n        startAngle += circumference;\n        me.updateElement(arc, i, properties, mode);\n      }\n\n      me.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"calculateTotal\",\n    value: function calculateTotal() {\n      var meta = this._cachedMeta;\n      var metaData = meta.data;\n      var total = 0;\n      var i;\n\n      for (i = 0; i < metaData.length; i++) {\n        var value = meta._parsed[i];\n\n        if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i)) {\n          total += Math.abs(value);\n        }\n      }\n\n      return total;\n    }\n  }, {\n    key: \"calculateCircumference\",\n    value: function calculateCircumference(value) {\n      var total = this._cachedMeta.total;\n\n      if (total > 0 && !isNaN(value)) {\n        return TAU * (Math.abs(value) / total);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var chart = me.chart;\n      var labels = chart.data.labels || [];\n      var value = formatNumber(meta._parsed[index], chart.options.locale);\n      return {\n        label: labels[index] || '',\n        value: value\n      };\n    }\n  }, {\n    key: \"getMaxBorderWidth\",\n    value: function getMaxBorderWidth(arcs) {\n      var me = this;\n      var max = 0;\n      var chart = me.chart;\n      var i, ilen, meta, controller, options;\n\n      if (!arcs) {\n        for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n          if (chart.isDatasetVisible(i)) {\n            meta = chart.getDatasetMeta(i);\n            arcs = meta.data;\n            controller = meta.controller;\n\n            if (controller !== me) {\n              controller.configure();\n            }\n\n            break;\n          }\n        }\n      }\n\n      if (!arcs) {\n        return 0;\n      }\n\n      for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n        options = controller.resolveDataElementOptions(i);\n\n        if (options.borderAlign !== 'inner') {\n          max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n        }\n      }\n\n      return max;\n    }\n  }, {\n    key: \"getMaxOffset\",\n    value: function getMaxOffset(arcs) {\n      var max = 0;\n\n      for (var i = 0, ilen = arcs.length; i < ilen; ++i) {\n        var options = this.resolveDataElementOptions(i);\n        max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n      }\n\n      return max;\n    }\n  }, {\n    key: \"_getRingWeightOffset\",\n    value: function _getRingWeightOffset(datasetIndex) {\n      var ringWeightOffset = 0;\n\n      for (var i = 0; i < datasetIndex; ++i) {\n        if (this.chart.isDatasetVisible(i)) {\n          ringWeightOffset += this._getRingWeight(i);\n        }\n      }\n\n      return ringWeightOffset;\n    }\n  }, {\n    key: \"_getRingWeight\",\n    value: function _getRingWeight(datasetIndex) {\n      return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n  }, {\n    key: \"_getVisibleDatasetWeightTotal\",\n    value: function _getVisibleDatasetWeightTotal() {\n      return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n  }]);\n\n  return DoughnutController;\n}(DatasetController);\n\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth']\n    }\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  indexAxis: 'r'\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels: function generateLabels(chart) {\n          var data = chart.data;\n\n          if (data.labels.length && data.datasets.length) {\n            return data.labels.map(function (label, i) {\n              var meta = chart.getDatasetMeta(0);\n              var style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n\n          return [];\n        }\n      },\n      onClick: function onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(tooltipItem) {\n          var dataLabel = tooltipItem.label;\n          var value = ': ' + tooltipItem.formattedValue;\n\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nvar LineController = /*#__PURE__*/function (_DatasetController4) {\n  _inherits(LineController, _DatasetController4);\n\n  var _super4 = _createSuper(LineController);\n\n  function LineController() {\n    _classCallCheck(this, LineController);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(LineController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(LineController.prototype), \"initialize\", this).call(this);\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var line = meta.dataset,\n          _meta$data = meta.data,\n          points = _meta$data === void 0 ? [] : _meta$data,\n          _dataset = meta._dataset;\n      var animationsDisabled = me.chart._animationsDisabled;\n\n      var _getStartAndCountOfVi = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled),\n          start = _getStartAndCountOfVi.start,\n          count = _getStartAndCountOfVi.count;\n\n      me._drawStart = start;\n      me._drawCount = count;\n\n      if (scaleRangesChanged(meta)) {\n        start = 0;\n        count = points.length;\n      }\n\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n      var options = me.resolveDatasetElementOptions(mode);\n\n      if (!me.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      options.segment = me.options.segment;\n      me.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options: options\n      }, mode);\n      me.updateElements(points, start, count, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var _me$_cachedMeta3 = me._cachedMeta,\n          xScale = _me$_cachedMeta3.xScale,\n          yScale = _me$_cachedMeta3.yScale,\n          _stacked = _me$_cachedMeta3._stacked;\n      var firstOpts = me.resolveDataElementOptions(start, mode);\n      var sharedOptions = me.getSharedOptions(firstOpts);\n      var includeOptions = me.includeOptions(mode, sharedOptions);\n      var spanGaps = me.options.spanGaps;\n      var maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n      var directUpdate = me.chart._animationsDisabled || reset || mode === 'none';\n      var prevParsed = start > 0 && me.getParsed(start - 1);\n\n      for (var i = start; i < start + count; ++i) {\n        var point = points[i];\n        var parsed = me.getParsed(i);\n        var properties = directUpdate ? point : {};\n        var nullData = isNullOrUndef(parsed.y);\n        var x = properties.x = xScale.getPixelForValue(parsed.x, i);\n        var y = properties.y = reset || nullData ? yScale.getBasePixel() : yScale.getPixelForValue(_stacked ? me.applyStack(yScale, parsed, _stacked) : parsed.y, i);\n        properties.skip = isNaN(x) || isNaN(y) || nullData;\n        properties.stop = i > 0 && parsed.x - prevParsed.x > maxGapLength;\n        properties.parsed = parsed;\n\n        if (includeOptions) {\n          properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n        }\n\n        if (!directUpdate) {\n          me.updateElement(point, i, properties, mode);\n        }\n\n        prevParsed = parsed;\n      }\n\n      me.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      var me = this;\n      var meta = me._cachedMeta;\n      var dataset = meta.dataset;\n      var border = dataset.options && dataset.options.borderWidth || 0;\n      var data = meta.data || [];\n\n      if (!data.length) {\n        return border;\n      }\n\n      var firstPoint = data[0].size(me.resolveDataElementOptions(0));\n      var lastPoint = data[data.length - 1].size(me.resolveDataElementOptions(data.length - 1));\n      return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea);\n\n      _get(_getPrototypeOf(LineController.prototype), \"draw\", this).call(this);\n    }\n  }]);\n\n  return LineController;\n}(DatasetController);\n\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category'\n    },\n    _value_: {\n      type: 'linear'\n    }\n  }\n};\n\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  var pointCount = points.length;\n  var start = 0;\n  var count = pointCount;\n\n  if (meta._sorted) {\n    var iScale = meta.iScale,\n        _parsed = meta._parsed;\n    var axis = iScale.axis;\n\n    var _iScale$getUserBounds = iScale.getUserBounds(),\n        min = _iScale$getUserBounds.min,\n        max = _iScale$getUserBounds.max,\n        minDefined = _iScale$getUserBounds.minDefined,\n        maxDefined = _iScale$getUserBounds.maxDefined;\n\n    if (minDefined) {\n      start = _limitValue(Math.min(_lookupByKey(_parsed, iScale.axis, min).lo, animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n    }\n\n    if (maxDefined) {\n      count = _limitValue(Math.max(_lookupByKey(_parsed, iScale.axis, max).hi + 1, animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1), start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {\n    start: start,\n    count: count\n  };\n}\n\nfunction scaleRangesChanged(meta) {\n  var xScale = meta.xScale,\n      yScale = meta.yScale,\n      _scaleRanges = meta._scaleRanges;\n  var newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n\n  var changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nvar PolarAreaController = /*#__PURE__*/function (_DatasetController5) {\n  _inherits(PolarAreaController, _DatasetController5);\n\n  var _super5 = _createSuper(PolarAreaController);\n\n  function PolarAreaController(chart, datasetIndex) {\n    var _this2;\n\n    _classCallCheck(this, PolarAreaController);\n\n    _this2 = _super5.call(this, chart, datasetIndex);\n    _this2.innerRadius = undefined;\n    _this2.outerRadius = undefined;\n    return _this2;\n  }\n\n  _createClass(PolarAreaController, [{\n    key: \"update\",\n    value: function update(mode) {\n      var arcs = this._cachedMeta.data;\n\n      this._updateRadius();\n\n      this.updateElements(arcs, 0, arcs.length, mode);\n    }\n  }, {\n    key: \"_updateRadius\",\n    value: function _updateRadius() {\n      var me = this;\n      var chart = me.chart;\n      var chartArea = chart.chartArea;\n      var opts = chart.options;\n      var minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n      var outerRadius = Math.max(minSize / 2, 0);\n      var innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n      var radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n      me.outerRadius = outerRadius - radiusLength * me.index;\n      me.innerRadius = me.outerRadius - radiusLength;\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(arcs, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var chart = me.chart;\n      var dataset = me.getDataset();\n      var opts = chart.options;\n      var animationOpts = opts.animation;\n      var scale = me._cachedMeta.rScale;\n      var centerX = scale.xCenter;\n      var centerY = scale.yCenter;\n      var datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n      var angle = datasetStartAngle;\n      var i;\n      var defaultAngle = 360 / me.countVisibleElements();\n\n      for (i = 0; i < start; ++i) {\n        angle += me._computeAngle(i, mode, defaultAngle);\n      }\n\n      for (i = start; i < start + count; i++) {\n        var arc = arcs[i];\n        var startAngle = angle;\n\n        var endAngle = angle + me._computeAngle(i, mode, defaultAngle);\n\n        var outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n        angle = endAngle;\n\n        if (reset) {\n          if (animationOpts.animateScale) {\n            outerRadius = 0;\n          }\n\n          if (animationOpts.animateRotate) {\n            startAngle = endAngle = datasetStartAngle;\n          }\n        }\n\n        var properties = {\n          x: centerX,\n          y: centerY,\n          innerRadius: 0,\n          outerRadius: outerRadius,\n          startAngle: startAngle,\n          endAngle: endAngle,\n          options: me.resolveDataElementOptions(i, mode)\n        };\n        me.updateElement(arc, i, properties, mode);\n      }\n    }\n  }, {\n    key: \"countVisibleElements\",\n    value: function countVisibleElements() {\n      var _this3 = this;\n\n      var dataset = this.getDataset();\n      var meta = this._cachedMeta;\n      var count = 0;\n      meta.data.forEach(function (element, index) {\n        if (!isNaN(dataset.data[index]) && _this3.chart.getDataVisibility(index)) {\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"_computeAngle\",\n    value: function _computeAngle(index, mode, defaultAngle) {\n      return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n  }]);\n\n  return PolarAreaController;\n}(DatasetController);\n\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    }\n  },\n  indexAxis: 'r',\n  startAngle: 0\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels: function generateLabels(chart) {\n          var data = chart.data;\n\n          if (data.labels.length && data.datasets.length) {\n            return data.labels.map(function (label, i) {\n              var meta = chart.getDatasetMeta(0);\n              var style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n\n          return [];\n        }\n      },\n      onClick: function onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nvar PieController = /*#__PURE__*/function (_DoughnutController) {\n  _inherits(PieController, _DoughnutController);\n\n  var _super6 = _createSuper(PieController);\n\n  function PieController() {\n    _classCallCheck(this, PieController);\n\n    return _super6.apply(this, arguments);\n  }\n\n  return PieController;\n}(DoughnutController);\n\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nvar RadarController = /*#__PURE__*/function (_DatasetController6) {\n  _inherits(RadarController, _DatasetController6);\n\n  var _super7 = _createSuper(RadarController);\n\n  function RadarController() {\n    _classCallCheck(this, RadarController);\n\n    return _super7.apply(this, arguments);\n  }\n\n  _createClass(RadarController, [{\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var vScale = me._cachedMeta.vScale;\n      var parsed = me.getParsed(index);\n      return {\n        label: vScale.getLabels()[index],\n        value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var line = meta.dataset;\n      var points = meta.data || [];\n      var labels = meta.iScale.getLabels();\n      line.points = points;\n\n      if (mode !== 'resize') {\n        var options = me.resolveDatasetElementOptions(mode);\n\n        if (!me.options.showLine) {\n          options.borderWidth = 0;\n        }\n\n        var properties = {\n          _loop: true,\n          _fullLoop: labels.length === points.length,\n          options: options\n        };\n        me.updateElement(line, undefined, properties, mode);\n      }\n\n      me.updateElements(points, 0, points.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var me = this;\n      var dataset = me.getDataset();\n      var scale = me._cachedMeta.rScale;\n      var reset = mode === 'reset';\n\n      for (var i = start; i < start + count; i++) {\n        var point = points[i];\n        var options = me.resolveDataElementOptions(i, mode);\n        var pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n        var x = reset ? scale.xCenter : pointPosition.x;\n        var y = reset ? scale.yCenter : pointPosition.y;\n        var properties = {\n          x: x,\n          y: y,\n          angle: pointPosition.angle,\n          skip: isNaN(x) || isNaN(y),\n          options: options\n        };\n        me.updateElement(point, i, properties, mode);\n      }\n    }\n  }]);\n\n  return RadarController;\n}(DatasetController);\n\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  }\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear'\n    }\n  }\n};\n\nvar ScatterController = /*#__PURE__*/function (_LineController) {\n  _inherits(ScatterController, _LineController);\n\n  var _super8 = _createSuper(ScatterController);\n\n  function ScatterController() {\n    _classCallCheck(this, ScatterController);\n\n    return _super8.apply(this, arguments);\n  }\n\n  return ScatterController;\n}(LineController);\n\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\nvar controllers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  BarController: BarController,\n  BubbleController: BubbleController,\n  DoughnutController: DoughnutController,\n  LineController: LineController,\n  PolarAreaController: PolarAreaController,\n  PieController: PieController,\n  RadarController: RadarController,\n  ScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: either no adapter can be found or an incomplete integration was provided.');\n}\n\nvar DateAdapter = /*#__PURE__*/function () {\n  function DateAdapter(options) {\n    _classCallCheck(this, DateAdapter);\n\n    this.options = options || {};\n  }\n\n  _createClass(DateAdapter, [{\n    key: \"formats\",\n    value: function formats() {\n      return abstract();\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(value, format) {\n      return abstract();\n    }\n  }, {\n    key: \"format\",\n    value: function format(timestamp, _format) {\n      return abstract();\n    }\n  }, {\n    key: \"add\",\n    value: function add(timestamp, amount, unit) {\n      return abstract();\n    }\n  }, {\n    key: \"diff\",\n    value: function diff(a, b, unit) {\n      return abstract();\n    }\n  }, {\n    key: \"startOf\",\n    value: function startOf(timestamp, unit, weekday) {\n      return abstract();\n    }\n  }, {\n    key: \"endOf\",\n    value: function endOf(timestamp, unit) {\n      return abstract();\n    }\n  }]);\n\n  return DateAdapter;\n}();\n\nDateAdapter.override = function (members) {\n  Object.assign(DateAdapter.prototype, members);\n};\n\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n\n  return getRelativePosition$1(e, chart);\n}\n\nfunction evaluateAllVisibleItems(chart, handler) {\n  var metasets = chart.getSortedVisibleDatasetMetas();\n  var index, data, element;\n\n  for (var i = 0, ilen = metasets.length; i < ilen; ++i) {\n    var _metasets$i = metasets[i];\n    index = _metasets$i.index;\n    data = _metasets$i.data;\n\n    for (var j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\nfunction binarySearch(metaset, axis, value, intersect) {\n  var controller = metaset.controller,\n      data = metaset.data,\n      _sorted = metaset._sorted;\n  var iScale = controller._cachedMeta.iScale;\n\n  if (iScale && axis === iScale.axis && _sorted && data.length) {\n    var lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      var el = data[0];\n      var range = typeof el.getRange === 'function' && el.getRange(axis);\n\n      if (range) {\n        var start = lookupMethod(data, axis, value - range);\n        var end = lookupMethod(data, axis, value + range);\n        return {\n          lo: start.lo,\n          hi: end.hi\n        };\n      }\n    }\n  }\n\n  return {\n    lo: 0,\n    hi: data.length - 1\n  };\n}\n\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  var metasets = chart.getSortedVisibleDatasetMetas();\n  var value = position[axis];\n\n  for (var i = 0, ilen = metasets.length; i < ilen; ++i) {\n    var _metasets$i2 = metasets[i],\n        index = _metasets$i2.index,\n        data = _metasets$i2.data;\n\n    var _binarySearch = binarySearch(metasets[i], axis, value, intersect),\n        lo = _binarySearch.lo,\n        hi = _binarySearch.hi;\n\n    for (var j = lo; j <= hi; ++j) {\n      var element = data[j];\n\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\nfunction getDistanceMetricForAxis(axis) {\n  var useX = axis.indexOf('x') !== -1;\n  var useY = axis.indexOf('y') !== -1;\n  return function (pt1, pt2) {\n    var deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    var deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  var items = [];\n\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n\n  var evaluationFunc = function evaluationFunc(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n  };\n\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  var distanceMetric = getDistanceMetricForAxis(axis);\n  var minDistance = Number.POSITIVE_INFINITY;\n  var items = [];\n\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n\n  var evaluationFunc = function evaluationFunc(element, datasetIndex, index) {\n    if (intersect && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n\n    var center = element.getCenterPoint(useFinalPosition);\n    var distance = distanceMetric(position, center);\n\n    if (distance < minDistance) {\n      items = [{\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      }];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n  };\n\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  var position = getRelativePosition(e, chart);\n  var items = [];\n  var axis = options.axis;\n  var rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  var intersectsItem = false;\n  evaluateAllVisibleItems(chart, function (element, datasetIndex, index) {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n\n  return items;\n}\n\nvar Interaction = {\n  modes: {\n    index: function index(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'x';\n      var items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition) : getNearestItems(chart, position, axis, false, useFinalPosition);\n      var elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach(function (meta) {\n        var index = items[0].index;\n        var element = meta.data[index];\n\n        if (element && !element.skip) {\n          elements.push({\n            element: element,\n            datasetIndex: meta.index,\n            index: index\n          });\n        }\n      });\n      return elements;\n    },\n    dataset: function dataset(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      var items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition) : getNearestItems(chart, position, axis, false, useFinalPosition);\n\n      if (items.length > 0) {\n        var datasetIndex = items[0].datasetIndex;\n        var data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n\n        for (var i = 0; i < data.length; ++i) {\n          items.push({\n            element: data[i],\n            datasetIndex: datasetIndex,\n            index: i\n          });\n        }\n      }\n\n      return items;\n    },\n    point: function point(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest: function nearest(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x: function x(chart, e, options, useFinalPosition) {\n      options.axis = 'x';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    },\n    y: function y(chart, e, options, useFinalPosition) {\n      options.axis = 'y';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    }\n  }\n};\nvar STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(function (v) {\n    return v.pos === position;\n  });\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(function (v) {\n    return STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis;\n  });\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort(function (a, b) {\n    var v0 = reverse ? b : a;\n    var v1 = reverse ? a : b;\n    return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  var layoutBoxes = [];\n  var i, ilen, box;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    layoutBoxes.push({\n      index: i,\n      box: box,\n      pos: box.position,\n      horizontal: box.isHorizontal(),\n      weight: box.weight\n    });\n  }\n\n  return layoutBoxes;\n}\n\nfunction setLayoutDims(layouts, params) {\n  var i, ilen, layout;\n\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n\n    if (layout.horizontal) {\n      layout.width = layout.box.fullSize && params.availableWidth;\n      layout.height = params.hBoxMaxHeight;\n    } else {\n      layout.width = params.vBoxMaxWidth;\n      layout.height = layout.box.fullSize && params.availableHeight;\n    }\n  }\n}\n\nfunction buildLayoutBoxes(boxes) {\n  var layoutBoxes = wrapBoxes(boxes);\n  var fullSize = sortByWeight(layoutBoxes.filter(function (wrap) {\n    return wrap.box.fullSize;\n  }), true);\n  var left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  var right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  var top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  var bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  var centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  var centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize: fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout) {\n  var box = layout.box;\n  var maxPadding = chartArea.maxPadding;\n\n  if (!isObject(layout.pos)) {\n    if (layout.size) {\n      chartArea[layout.pos] -= layout.size;\n    }\n\n    layout.size = layout.horizontal ? box.height : box.width;\n    chartArea[layout.pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  var newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  var newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  var widthChanged = newWidth !== chartArea.w;\n  var heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal ? {\n    same: widthChanged,\n    other: heightChanged\n  } : {\n    same: heightChanged,\n    other: widthChanged\n  };\n}\n\nfunction handleMaxPadding(chartArea) {\n  var maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    var change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  var maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    var margin = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n    positions.forEach(function (pos) {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal ? marginForPositions(['left', 'right']) : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params) {\n  var refitBoxes = [];\n  var i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n\n    var _updateDims = updateDims(chartArea, params, layout),\n        same = _updateDims.same,\n        other = _updateDims.other;\n\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params) || changed;\n}\n\nfunction placeBoxes(boxes, chartArea, params) {\n  var userPadding = params.padding;\n  var x = chartArea.x;\n  var y = chartArea.y;\n  var i, ilen, layout, box;\n\n  for (i = 0, ilen = boxes.length; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    if (layout.horizontal) {\n      box.left = box.fullSize ? userPadding.left : chartArea.left;\n      box.right = box.fullSize ? params.outerWidth - userPadding.right : chartArea.left + chartArea.w;\n      box.top = y;\n      box.bottom = y + box.height;\n      box.width = box.right - box.left;\n      y = box.bottom;\n    } else {\n      box.left = x;\n      box.right = x + box.width;\n      box.top = box.fullSize ? userPadding.top : chartArea.top;\n      box.bottom = box.fullSize ? params.outerHeight - userPadding.right : chartArea.top + chartArea.h;\n      box.height = box.bottom - box.top;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\ndefaults.set('layout', {\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox: function addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n\n    item._layers = item._layers || function () {\n      return [{\n        z: 0,\n        draw: function draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n  removeBox: function removeBox(chart, layoutItem) {\n    var index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure: function configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update: function update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    var padding = toPadding(chart.options.layout.padding);\n    var availableWidth = width - padding.width;\n    var availableHeight = height - padding.height;\n    var boxes = buildLayoutBoxes(chart.boxes);\n    var verticalBoxes = boxes.vertical;\n    var horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, function (box) {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    var visibleVerticalBoxCount = verticalBoxes.reduce(function (total, wrap) {\n      return wrap.box.options && wrap.box.options.display === false ? total : total + 1;\n    }, 0) || 1;\n    var params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding: padding,\n      availableWidth: availableWidth,\n      availableHeight: availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    var maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    var chartArea = Object.assign({\n      maxPadding: maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params);\n    fitBoxes(verticalBoxes, chartArea, params);\n\n    if (fitBoxes(horizontalBoxes, chartArea, params)) {\n      fitBoxes(verticalBoxes, chartArea, params);\n    }\n\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w\n    };\n    each(boxes.chartArea, function (layout) {\n      var box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h);\n    });\n  }\n};\n\nvar BasePlatform = /*#__PURE__*/function () {\n  function BasePlatform() {\n    _classCallCheck(this, BasePlatform);\n  }\n\n  _createClass(BasePlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(canvas, aspectRatio) {}\n  }, {\n    key: \"releaseContext\",\n    value: function releaseContext(context) {\n      return false;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(chart, type, listener) {}\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(chart, type, listener) {}\n  }, {\n    key: \"getDevicePixelRatio\",\n    value: function getDevicePixelRatio() {\n      return 1;\n    }\n  }, {\n    key: \"getMaximumSize\",\n    value: function getMaximumSize(element, width, height, aspectRatio) {\n      width = Math.max(0, width || element.width);\n      height = height || element.height;\n      return {\n        width: width,\n        height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n      };\n    }\n  }, {\n    key: \"isAttached\",\n    value: function isAttached(canvas) {\n      return true;\n    }\n  }]);\n\n  return BasePlatform;\n}();\n\nvar BasicPlatform = /*#__PURE__*/function (_BasePlatform) {\n  _inherits(BasicPlatform, _BasePlatform);\n\n  var _super9 = _createSuper(BasicPlatform);\n\n  function BasicPlatform() {\n    _classCallCheck(this, BasicPlatform);\n\n    return _super9.apply(this, arguments);\n  }\n\n  _createClass(BasicPlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(item) {\n      return item && item.getContext && item.getContext('2d') || null;\n    }\n  }]);\n\n  return BasicPlatform;\n}(BasePlatform);\n\nvar EXPANDO_KEY = '$chartjs';\nvar EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nvar isNullOrEmpty = function isNullOrEmpty(value) {\n  return value === null || value === '';\n};\n\nfunction initCanvas(canvas, aspectRatio) {\n  var style = canvas.style;\n  var renderHeight = canvas.getAttribute('height');\n  var renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    var displayWidth = readUsedSize(canvas, 'width');\n\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      var displayHeight = readUsedSize(canvas, 'height');\n\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\nvar eventListenerOptions = supportsEventListenerOptions ? {\n  passive: true\n} : false;\n\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\n\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\n\nfunction fromNativeEvent(event, chart) {\n  var type = EVENT_TYPES[event.type] || event.type;\n\n  var _getRelativePosition$ = getRelativePosition$1(event, chart),\n      x = _getRelativePosition$.x,\n      y = _getRelativePosition$.y;\n\n  return {\n    type: type,\n    chart: chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null\n  };\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n\n  var container = canvas && _getParentNode(canvas);\n\n  var element = container || canvas;\n  var observer = new MutationObserver(function (entries) {\n    var parent = _getParentNode(element);\n\n    entries.forEach(function (entry) {\n      for (var i = 0; i < entry.addedNodes.length; i++) {\n        var added = entry.addedNodes[i];\n\n        if (added === element || added === parent) {\n          listener(entry.target);\n        }\n      }\n    });\n  });\n  observer.observe(document, {\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n\n  var container = canvas && _getParentNode(canvas);\n\n  if (!container) {\n    return;\n  }\n\n  var observer = new MutationObserver(function (entries) {\n    entries.forEach(function (entry) {\n      for (var i = 0; i < entry.removedNodes.length; i++) {\n        if (entry.removedNodes[i] === canvas) {\n          listener();\n          break;\n        }\n      }\n    });\n  });\n  observer.observe(container, {\n    childList: true\n  });\n  return observer;\n}\n\nvar drpListeningCharts = new Map();\nvar oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  var dpr = window.devicePixelRatio;\n\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach(function (resize, chart) {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n\n  var container = canvas && _getParentNode(canvas);\n\n  if (!container) {\n    return;\n  }\n\n  var resize = throttled(function (width, height) {\n    var w = container.clientWidth;\n    listener(width, height);\n\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  var observer = new ResizeObserver(function (entries) {\n    var entry = entries[0];\n    var width = entry.contentRect.width;\n    var height = entry.contentRect.height;\n\n    if (width === 0 && height === 0) {\n      return;\n    }\n\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  var canvas = chart.canvas;\n  var proxy = throttled(function (event) {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, function (args) {\n    var event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\n\nvar DomPlatform = /*#__PURE__*/function (_BasePlatform2) {\n  _inherits(DomPlatform, _BasePlatform2);\n\n  var _super10 = _createSuper(DomPlatform);\n\n  function DomPlatform() {\n    _classCallCheck(this, DomPlatform);\n\n    return _super10.apply(this, arguments);\n  }\n\n  _createClass(DomPlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(canvas, aspectRatio) {\n      var context = canvas && canvas.getContext && canvas.getContext('2d');\n\n      if (context && context.canvas === canvas) {\n        initCanvas(canvas, aspectRatio);\n        return context;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"releaseContext\",\n    value: function releaseContext(context) {\n      var canvas = context.canvas;\n\n      if (!canvas[EXPANDO_KEY]) {\n        return false;\n      }\n\n      var initial = canvas[EXPANDO_KEY].initial;\n      ['height', 'width'].forEach(function (prop) {\n        var value = initial[prop];\n\n        if (isNullOrUndef(value)) {\n          canvas.removeAttribute(prop);\n        } else {\n          canvas.setAttribute(prop, value);\n        }\n      });\n      var style = initial.style || {};\n      Object.keys(style).forEach(function (key) {\n        canvas.style[key] = style[key];\n      });\n      canvas.width = canvas.width;\n      delete canvas[EXPANDO_KEY];\n      return true;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(chart, type, listener) {\n      this.removeEventListener(chart, type);\n      var proxies = chart.$proxies || (chart.$proxies = {});\n      var handlers = {\n        attach: createAttachObserver,\n        detach: createDetachObserver,\n        resize: createResizeObserver\n      };\n      var handler = handlers[type] || createProxyAndListen;\n      proxies[type] = handler(chart, type, listener);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(chart, type) {\n      var proxies = chart.$proxies || (chart.$proxies = {});\n      var proxy = proxies[type];\n\n      if (!proxy) {\n        return;\n      }\n\n      var handlers = {\n        attach: releaseObserver,\n        detach: releaseObserver,\n        resize: releaseObserver\n      };\n      var handler = handlers[type] || removeListener;\n      handler(chart, type, proxy);\n      proxies[type] = undefined;\n    }\n  }, {\n    key: \"getDevicePixelRatio\",\n    value: function getDevicePixelRatio() {\n      return window.devicePixelRatio;\n    }\n  }, {\n    key: \"getMaximumSize\",\n    value: function getMaximumSize(canvas, width, height, aspectRatio) {\n      return _getMaximumSize(canvas, width, height, aspectRatio);\n    }\n  }, {\n    key: \"isAttached\",\n    value: function isAttached(canvas) {\n      var container = _getParentNode(canvas);\n\n      return !!(container && _getParentNode(container));\n    }\n  }]);\n\n  return DomPlatform;\n}(BasePlatform);\n\nvar Element = /*#__PURE__*/function () {\n  function Element() {\n    _classCallCheck(this, Element);\n\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n\n  _createClass(Element, [{\n    key: \"tooltipPosition\",\n    value: function tooltipPosition(useFinalPosition) {\n      var _this$getProps = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps.x,\n          y = _this$getProps.y;\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"hasValue\",\n    value: function hasValue() {\n      return isNumber(this.x) && isNumber(this.y);\n    }\n  }, {\n    key: \"getProps\",\n    value: function getProps(props, final) {\n      var me = this;\n      var anims = this.$animations;\n\n      if (!final || !anims) {\n        return me;\n      }\n\n      var ret = {};\n      props.forEach(function (prop) {\n        ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : me[prop];\n      });\n      return ret;\n    }\n  }]);\n\n  return Element;\n}();\n\nElement.defaults = {};\nElement.defaultRoutes = undefined;\nvar formatters = {\n  values: function values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric: function numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n\n    var locale = this.chart.options.locale;\n    var notation;\n    var delta = tickValue;\n\n    if (ticks.length > 1) {\n      var maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    var logDelta = log10(Math.abs(delta));\n    var numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    var options = {\n      notation: notation,\n      minimumFractionDigits: numDecimal,\n      maximumFractionDigits: numDecimal\n    };\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic: function logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n\n    var remain = tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n\n    return '';\n  }\n};\n\nfunction calculateDelta(tickValue, ticks) {\n  var delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  if (Math.abs(delta) > 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n\n  return delta;\n}\n\nvar Ticks = {\n  formatters: formatters\n};\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: function tickWidth(_ctx, options) {\n      return options.lineWidth;\n    },\n    tickColor: function tickColor(_ctx, options) {\n      return options.color;\n    },\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near'\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: function _scriptable(name) {\n    return !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser';\n  },\n  _indexable: function _indexable(name) {\n    return name !== 'borderDash' && name !== 'tickBorderDash';\n  }\n});\ndefaults.describe('scales', {\n  _fallback: 'scale'\n});\n\nfunction autoSkip(scale, ticks) {\n  var tickOpts = scale.options.ticks;\n  var ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  var majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  var numMajorIndices = majorIndices.length;\n  var first = majorIndices[0];\n  var last = majorIndices[numMajorIndices - 1];\n  var newTicks = [];\n\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  var spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    var i, ilen;\n    var avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  var offset = scale.options.offset;\n\n  var tickLength = scale._tickSize();\n\n  var maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  var maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  var evenMajorSpacing = getEvenSpacing(majorIndices);\n  var spacing = ticks.length / ticksLimit;\n\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  var factors = _factorize(evenMajorSpacing);\n\n  for (var i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    var factor = factors[i];\n\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n\n  return Math.max(spacing, 1);\n}\n\nfunction getMajorIndices(ticks) {\n  var result = [];\n  var i, ilen;\n\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n\n  return result;\n}\n\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  var count = 0;\n  var next = majorIndices[0];\n  var i;\n  spacing = Math.ceil(spacing);\n\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  var start = valueOrDefault(majorStart, 0);\n  var end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  var count = 0;\n  var length, i, next;\n  spacing = Math.ceil(spacing);\n\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\nfunction getEvenSpacing(arr) {\n  var len = arr.length;\n  var i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n\n  return diff;\n}\n\nvar reverseAlign = function reverseAlign(align) {\n  return align === 'left' ? 'right' : align === 'right' ? 'left' : align;\n};\n\nvar offsetFromEdge = function offsetFromEdge(scale, edge, offset) {\n  return edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\n};\n\nfunction sample(arr, numItems) {\n  var result = [];\n  var increment = arr.length / numItems;\n  var len = arr.length;\n  var i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n\n  return result;\n}\n\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  var length = scale.ticks.length;\n  var validIndex = Math.min(index, length - 1);\n  var start = scale._startPixel;\n  var end = scale._endPixel;\n  var epsilon = 1e-6;\n  var lineValue = scale.getPixelForTick(validIndex);\n  var offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n\n    lineValue += validIndex < index ? offset : -offset;\n\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n\n  return lineValue;\n}\n\nfunction garbageCollect(caches, length) {\n  each(caches, function (cache) {\n    var gc = cache.gc;\n    var gcLen = gc.length / 2;\n    var i;\n\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  var font = toFont(options.font, fallback);\n  var padding = toPadding(options.padding);\n  var lines = isArray(options.text) ? options.text.length : 1;\n  return lines * font.lineHeight + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return Object.assign(Object.create(parent), {\n    scale: scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return Object.assign(Object.create(parent), {\n    tick: tick,\n    index: index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  var ret = _toLeftRightCenter(align);\n\n  if (reverse && position !== 'right' || !reverse && position === 'right') {\n    ret = reverseAlign(ret);\n  }\n\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  var top = scale.top,\n      left = scale.left,\n      bottom = scale.bottom,\n      right = scale.right;\n  var rotation = 0;\n  var maxWidth, titleX, titleY;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    titleY = offsetFromEdge(scale, position, offset);\n    maxWidth = right - left;\n  } else {\n    titleX = offsetFromEdge(scale, position, offset);\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n\n  return {\n    titleX: titleX,\n    titleY: titleY,\n    maxWidth: maxWidth,\n    rotation: rotation\n  };\n}\n\nvar Scale = /*#__PURE__*/function (_Element) {\n  _inherits(Scale, _Element);\n\n  var _super11 = _createSuper(Scale);\n\n  function Scale(cfg) {\n    var _this4;\n\n    _classCallCheck(this, Scale);\n\n    _this4 = _super11.call(this);\n    _this4.id = cfg.id;\n    _this4.type = cfg.type;\n    _this4.options = undefined;\n    _this4.ctx = cfg.ctx;\n    _this4.chart = cfg.chart;\n    _this4.top = undefined;\n    _this4.bottom = undefined;\n    _this4.left = undefined;\n    _this4.right = undefined;\n    _this4.width = undefined;\n    _this4.height = undefined;\n    _this4._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    _this4.maxWidth = undefined;\n    _this4.maxHeight = undefined;\n    _this4.paddingTop = undefined;\n    _this4.paddingBottom = undefined;\n    _this4.paddingLeft = undefined;\n    _this4.paddingRight = undefined;\n    _this4.axis = undefined;\n    _this4.labelRotation = undefined;\n    _this4.min = undefined;\n    _this4.max = undefined;\n    _this4._range = undefined;\n    _this4.ticks = [];\n    _this4._gridLineItems = null;\n    _this4._labelItems = null;\n    _this4._labelSizes = null;\n    _this4._length = 0;\n    _this4._maxLength = 0;\n    _this4._longestTextCache = {};\n    _this4._startPixel = undefined;\n    _this4._endPixel = undefined;\n    _this4._reversePixels = false;\n    _this4._userMax = undefined;\n    _this4._userMin = undefined;\n    _this4._suggestedMax = undefined;\n    _this4._suggestedMin = undefined;\n    _this4._ticksLength = 0;\n    _this4._borderValue = 0;\n    _this4._cache = {};\n    _this4._dataLimitsCached = false;\n    _this4.$context = undefined;\n    return _this4;\n  }\n\n  _createClass(Scale, [{\n    key: \"init\",\n    value: function init(options) {\n      var me = this;\n      me.options = options.setContext(me.getContext());\n      me.axis = options.axis;\n      me._userMin = me.parse(options.min);\n      me._userMax = me.parse(options.max);\n      me._suggestedMin = me.parse(options.suggestedMin);\n      me._suggestedMax = me.parse(options.suggestedMax);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(raw, index) {\n      return raw;\n    }\n  }, {\n    key: \"getUserBounds\",\n    value: function getUserBounds() {\n      var _userMin = this._userMin,\n          _userMax = this._userMax,\n          _suggestedMin = this._suggestedMin,\n          _suggestedMax = this._suggestedMax;\n      _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n      _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n      _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n      _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n      return {\n        min: finiteOrDefault(_userMin, _suggestedMin),\n        max: finiteOrDefault(_userMax, _suggestedMax),\n        minDefined: isNumberFinite(_userMin),\n        maxDefined: isNumberFinite(_userMax)\n      };\n    }\n  }, {\n    key: \"getMinMax\",\n    value: function getMinMax(canStack) {\n      var me = this;\n\n      var _me$getUserBounds = me.getUserBounds(),\n          min = _me$getUserBounds.min,\n          max = _me$getUserBounds.max,\n          minDefined = _me$getUserBounds.minDefined,\n          maxDefined = _me$getUserBounds.maxDefined;\n\n      var range;\n\n      if (minDefined && maxDefined) {\n        return {\n          min: min,\n          max: max\n        };\n      }\n\n      var metas = me.getMatchingVisibleMetas();\n\n      for (var i = 0, ilen = metas.length; i < ilen; ++i) {\n        range = metas[i].controller.getMinMax(me, canStack);\n\n        if (!minDefined) {\n          min = Math.min(min, range.min);\n        }\n\n        if (!maxDefined) {\n          max = Math.max(max, range.max);\n        }\n      }\n\n      return {\n        min: finiteOrDefault(min, finiteOrDefault(max, min)),\n        max: finiteOrDefault(max, finiteOrDefault(min, max))\n      };\n    }\n  }, {\n    key: \"getPadding\",\n    value: function getPadding() {\n      var me = this;\n      return {\n        left: me.paddingLeft || 0,\n        top: me.paddingTop || 0,\n        right: me.paddingRight || 0,\n        bottom: me.paddingBottom || 0\n      };\n    }\n  }, {\n    key: \"getTicks\",\n    value: function getTicks() {\n      return this.ticks;\n    }\n  }, {\n    key: \"getLabels\",\n    value: function getLabels() {\n      var data = this.chart.data;\n      return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n  }, {\n    key: \"beforeLayout\",\n    value: function beforeLayout() {\n      this._cache = {};\n      this._dataLimitsCached = false;\n    }\n  }, {\n    key: \"beforeUpdate\",\n    value: function beforeUpdate() {\n      callback(this.options.beforeUpdate, [this]);\n    }\n  }, {\n    key: \"update\",\n    value: function update(maxWidth, maxHeight, margins) {\n      var me = this;\n      var tickOpts = me.options.ticks;\n      var sampleSize = tickOpts.sampleSize;\n      me.beforeUpdate();\n      me.maxWidth = maxWidth;\n      me.maxHeight = maxHeight;\n      me._margins = margins = Object.assign({\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n      }, margins);\n      me.ticks = null;\n      me._labelSizes = null;\n      me._gridLineItems = null;\n      me._labelItems = null;\n      me.beforeSetDimensions();\n      me.setDimensions();\n      me.afterSetDimensions();\n      me._maxLength = me.isHorizontal() ? me.width + margins.left + margins.right : me.height + margins.top + margins.bottom;\n\n      if (!me._dataLimitsCached) {\n        me.beforeDataLimits();\n        me.determineDataLimits();\n        me.afterDataLimits();\n        me._range = _addGrace(me, me.options.grace);\n        me._dataLimitsCached = true;\n      }\n\n      me.beforeBuildTicks();\n      me.ticks = me.buildTicks() || [];\n      me.afterBuildTicks();\n      var samplingEnabled = sampleSize < me.ticks.length;\n\n      me._convertTicksToLabels(samplingEnabled ? sample(me.ticks, sampleSize) : me.ticks);\n\n      me.configure();\n      me.beforeCalculateLabelRotation();\n      me.calculateLabelRotation();\n      me.afterCalculateLabelRotation();\n\n      if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n        me.ticks = autoSkip(me, me.ticks);\n        me._labelSizes = null;\n      }\n\n      if (samplingEnabled) {\n        me._convertTicksToLabels(me.ticks);\n      }\n\n      me.beforeFit();\n      me.fit();\n      me.afterFit();\n      me.afterUpdate();\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n      var reversePixels = me.options.reverse;\n      var startPixel, endPixel;\n\n      if (me.isHorizontal()) {\n        startPixel = me.left;\n        endPixel = me.right;\n      } else {\n        startPixel = me.top;\n        endPixel = me.bottom;\n        reversePixels = !reversePixels;\n      }\n\n      me._startPixel = startPixel;\n      me._endPixel = endPixel;\n      me._reversePixels = reversePixels;\n      me._length = endPixel - startPixel;\n      me._alignToPixels = me.options.alignToPixels;\n    }\n  }, {\n    key: \"afterUpdate\",\n    value: function afterUpdate() {\n      callback(this.options.afterUpdate, [this]);\n    }\n  }, {\n    key: \"beforeSetDimensions\",\n    value: function beforeSetDimensions() {\n      callback(this.options.beforeSetDimensions, [this]);\n    }\n  }, {\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      var me = this;\n\n      if (me.isHorizontal()) {\n        me.width = me.maxWidth;\n        me.left = 0;\n        me.right = me.width;\n      } else {\n        me.height = me.maxHeight;\n        me.top = 0;\n        me.bottom = me.height;\n      }\n\n      me.paddingLeft = 0;\n      me.paddingTop = 0;\n      me.paddingRight = 0;\n      me.paddingBottom = 0;\n    }\n  }, {\n    key: \"afterSetDimensions\",\n    value: function afterSetDimensions() {\n      callback(this.options.afterSetDimensions, [this]);\n    }\n  }, {\n    key: \"_callHooks\",\n    value: function _callHooks(name) {\n      var me = this;\n      me.chart.notifyPlugins(name, me.getContext());\n      callback(me.options[name], [me]);\n    }\n  }, {\n    key: \"beforeDataLimits\",\n    value: function beforeDataLimits() {\n      this._callHooks('beforeDataLimits');\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {}\n  }, {\n    key: \"afterDataLimits\",\n    value: function afterDataLimits() {\n      this._callHooks('afterDataLimits');\n    }\n  }, {\n    key: \"beforeBuildTicks\",\n    value: function beforeBuildTicks() {\n      this._callHooks('beforeBuildTicks');\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      return [];\n    }\n  }, {\n    key: \"afterBuildTicks\",\n    value: function afterBuildTicks() {\n      this._callHooks('afterBuildTicks');\n    }\n  }, {\n    key: \"beforeTickToLabelConversion\",\n    value: function beforeTickToLabelConversion() {\n      callback(this.options.beforeTickToLabelConversion, [this]);\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var me = this;\n      var tickOpts = me.options.ticks;\n      var i, ilen, tick;\n\n      for (i = 0, ilen = ticks.length; i < ilen; i++) {\n        tick = ticks[i];\n        tick.label = callback(tickOpts.callback, [tick.value, i, ticks], me);\n      }\n\n      for (i = 0; i < ilen; i++) {\n        if (isNullOrUndef(ticks[i].label)) {\n          ticks.splice(i, 1);\n          ilen--;\n          i--;\n        }\n      }\n    }\n  }, {\n    key: \"afterTickToLabelConversion\",\n    value: function afterTickToLabelConversion() {\n      callback(this.options.afterTickToLabelConversion, [this]);\n    }\n  }, {\n    key: \"beforeCalculateLabelRotation\",\n    value: function beforeCalculateLabelRotation() {\n      callback(this.options.beforeCalculateLabelRotation, [this]);\n    }\n  }, {\n    key: \"calculateLabelRotation\",\n    value: function calculateLabelRotation() {\n      var me = this;\n      var options = me.options;\n      var tickOpts = options.ticks;\n      var numTicks = me.ticks.length;\n      var minRotation = tickOpts.minRotation || 0;\n      var maxRotation = tickOpts.maxRotation;\n      var labelRotation = minRotation;\n      var tickWidth, maxHeight, maxLabelDiagonal;\n\n      if (!me._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !me.isHorizontal()) {\n        me.labelRotation = minRotation;\n        return;\n      }\n\n      var labelSizes = me._getLabelSizes();\n\n      var maxLabelWidth = labelSizes.widest.width;\n      var maxLabelHeight = labelSizes.highest.height;\n\n      var maxWidth = _limitValue(me.chart.width - maxLabelWidth, 0, me.maxWidth);\n\n      tickWidth = options.offset ? me.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n      if (maxLabelWidth + 6 > tickWidth) {\n        tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n        maxHeight = me.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, me.chart.options.font);\n        maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n        labelRotation = toDegrees(Math.min(Math.asin(Math.min((labelSizes.highest.height + 6) / tickWidth, 1)), Math.asin(Math.min(maxHeight / maxLabelDiagonal, 1)) - Math.asin(maxLabelHeight / maxLabelDiagonal)));\n        labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n      }\n\n      me.labelRotation = labelRotation;\n    }\n  }, {\n    key: \"afterCalculateLabelRotation\",\n    value: function afterCalculateLabelRotation() {\n      callback(this.options.afterCalculateLabelRotation, [this]);\n    }\n  }, {\n    key: \"beforeFit\",\n    value: function beforeFit() {\n      callback(this.options.beforeFit, [this]);\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var me = this;\n      var minSize = {\n        width: 0,\n        height: 0\n      };\n      var chart = me.chart,\n          _me$options2 = me.options,\n          tickOpts = _me$options2.ticks,\n          titleOpts = _me$options2.title,\n          gridOpts = _me$options2.grid;\n\n      var display = me._isVisible();\n\n      var isHorizontal = me.isHorizontal();\n\n      if (display) {\n        var titleHeight = getTitleHeight(titleOpts, chart.options.font);\n\n        if (isHorizontal) {\n          minSize.width = me.maxWidth;\n          minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n        } else {\n          minSize.height = me.maxHeight;\n          minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n        }\n\n        if (tickOpts.display && me.ticks.length) {\n          var _me$_getLabelSizes = me._getLabelSizes(),\n              first = _me$_getLabelSizes.first,\n              last = _me$_getLabelSizes.last,\n              widest = _me$_getLabelSizes.widest,\n              highest = _me$_getLabelSizes.highest;\n\n          var tickPadding = tickOpts.padding * 2;\n          var angleRadians = toRadians(me.labelRotation);\n          var cos = Math.cos(angleRadians);\n          var sin = Math.sin(angleRadians);\n\n          if (isHorizontal) {\n            var labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n            minSize.height = Math.min(me.maxHeight, minSize.height + labelHeight + tickPadding);\n          } else {\n            var labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n            minSize.width = Math.min(me.maxWidth, minSize.width + labelWidth + tickPadding);\n          }\n\n          me._calculatePadding(first, last, sin, cos);\n        }\n      }\n\n      me._handleMargins();\n\n      if (isHorizontal) {\n        me.width = me._length = chart.width - me._margins.left - me._margins.right;\n        me.height = minSize.height;\n      } else {\n        me.width = minSize.width;\n        me.height = me._length = chart.height - me._margins.top - me._margins.bottom;\n      }\n    }\n  }, {\n    key: \"_calculatePadding\",\n    value: function _calculatePadding(first, last, sin, cos) {\n      var me = this;\n      var _me$options3 = me.options,\n          _me$options3$ticks = _me$options3.ticks,\n          align = _me$options3$ticks.align,\n          padding = _me$options3$ticks.padding,\n          position = _me$options3.position;\n      var isRotated = me.labelRotation !== 0;\n      var labelsBelowTicks = position !== 'top' && me.axis === 'x';\n\n      if (me.isHorizontal()) {\n        var offsetLeft = me.getPixelForTick(0) - me.left;\n        var offsetRight = me.right - me.getPixelForTick(me.ticks.length - 1);\n        var paddingLeft = 0;\n        var paddingRight = 0;\n\n        if (isRotated) {\n          if (labelsBelowTicks) {\n            paddingLeft = cos * first.width;\n            paddingRight = sin * last.height;\n          } else {\n            paddingLeft = sin * first.height;\n            paddingRight = cos * last.width;\n          }\n        } else if (align === 'start') {\n          paddingRight = last.width;\n        } else if (align === 'end') {\n          paddingLeft = first.width;\n        } else {\n          paddingLeft = first.width / 2;\n          paddingRight = last.width / 2;\n        }\n\n        me.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * me.width / (me.width - offsetLeft), 0);\n        me.paddingRight = Math.max((paddingRight - offsetRight + padding) * me.width / (me.width - offsetRight), 0);\n      } else {\n        var paddingTop = last.height / 2;\n        var paddingBottom = first.height / 2;\n\n        if (align === 'start') {\n          paddingTop = 0;\n          paddingBottom = first.height;\n        } else if (align === 'end') {\n          paddingTop = last.height;\n          paddingBottom = 0;\n        }\n\n        me.paddingTop = paddingTop + padding;\n        me.paddingBottom = paddingBottom + padding;\n      }\n    }\n  }, {\n    key: \"_handleMargins\",\n    value: function _handleMargins() {\n      var me = this;\n\n      if (me._margins) {\n        me._margins.left = Math.max(me.paddingLeft, me._margins.left);\n        me._margins.top = Math.max(me.paddingTop, me._margins.top);\n        me._margins.right = Math.max(me.paddingRight, me._margins.right);\n        me._margins.bottom = Math.max(me.paddingBottom, me._margins.bottom);\n      }\n    }\n  }, {\n    key: \"afterFit\",\n    value: function afterFit() {\n      callback(this.options.afterFit, [this]);\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      var _this$options = this.options,\n          axis = _this$options.axis,\n          position = _this$options.position;\n      return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n  }, {\n    key: \"isFullSize\",\n    value: function isFullSize() {\n      return this.options.fullSize;\n    }\n  }, {\n    key: \"_convertTicksToLabels\",\n    value: function _convertTicksToLabels(ticks) {\n      var me = this;\n      me.beforeTickToLabelConversion();\n      me.generateTickLabels(ticks);\n      me.afterTickToLabelConversion();\n    }\n  }, {\n    key: \"_getLabelSizes\",\n    value: function _getLabelSizes() {\n      var me = this;\n      var labelSizes = me._labelSizes;\n\n      if (!labelSizes) {\n        var sampleSize = me.options.ticks.sampleSize;\n        var ticks = me.ticks;\n\n        if (sampleSize < ticks.length) {\n          ticks = sample(ticks, sampleSize);\n        }\n\n        me._labelSizes = labelSizes = me._computeLabelSizes(ticks, ticks.length);\n      }\n\n      return labelSizes;\n    }\n  }, {\n    key: \"_computeLabelSizes\",\n    value: function _computeLabelSizes(ticks, length) {\n      var ctx = this.ctx,\n          caches = this._longestTextCache;\n      var widths = [];\n      var heights = [];\n      var widestLabelSize = 0;\n      var highestLabelSize = 0;\n      var i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n      for (i = 0; i < length; ++i) {\n        label = ticks[i].label;\n        tickFont = this._resolveTickFontOptions(i);\n        ctx.font = fontString = tickFont.string;\n        cache = caches[fontString] = caches[fontString] || {\n          data: {},\n          gc: []\n        };\n        lineHeight = tickFont.lineHeight;\n        width = height = 0;\n\n        if (!isNullOrUndef(label) && !isArray(label)) {\n          width = _measureText(ctx, cache.data, cache.gc, width, label);\n          height = lineHeight;\n        } else if (isArray(label)) {\n          for (j = 0, jlen = label.length; j < jlen; ++j) {\n            nestedLabel = label[j];\n\n            if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n              width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n              height += lineHeight;\n            }\n          }\n        }\n\n        widths.push(width);\n        heights.push(height);\n        widestLabelSize = Math.max(width, widestLabelSize);\n        highestLabelSize = Math.max(height, highestLabelSize);\n      }\n\n      garbageCollect(caches, length);\n      var widest = widths.indexOf(widestLabelSize);\n      var highest = heights.indexOf(highestLabelSize);\n\n      var valueAt = function valueAt(idx) {\n        return {\n          width: widths[idx] || 0,\n          height: heights[idx] || 0\n        };\n      };\n\n      return {\n        first: valueAt(0),\n        last: valueAt(length - 1),\n        widest: valueAt(widest),\n        highest: valueAt(highest)\n      };\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return value;\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value, index) {\n      return NaN;\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {}\n  }, {\n    key: \"getPixelForTick\",\n    value: function getPixelForTick(index) {\n      var ticks = this.ticks;\n\n      if (index < 0 || index > ticks.length - 1) {\n        return null;\n      }\n\n      return this.getPixelForValue(ticks[index].value);\n    }\n  }, {\n    key: \"getPixelForDecimal\",\n    value: function getPixelForDecimal(decimal) {\n      var me = this;\n\n      if (me._reversePixels) {\n        decimal = 1 - decimal;\n      }\n\n      var pixel = me._startPixel + decimal * me._length;\n      return _int16Range(me._alignToPixels ? _alignPixel(me.chart, pixel, 0) : pixel);\n    }\n  }, {\n    key: \"getDecimalForPixel\",\n    value: function getDecimalForPixel(pixel) {\n      var decimal = (pixel - this._startPixel) / this._length;\n      return this._reversePixels ? 1 - decimal : decimal;\n    }\n  }, {\n    key: \"getBasePixel\",\n    value: function getBasePixel() {\n      return this.getPixelForValue(this.getBaseValue());\n    }\n  }, {\n    key: \"getBaseValue\",\n    value: function getBaseValue() {\n      var min = this.min,\n          max = this.max;\n      return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext(index) {\n      var me = this;\n      var ticks = me.ticks || [];\n\n      if (index >= 0 && index < ticks.length) {\n        var tick = ticks[index];\n        return tick.$context || (tick.$context = createTickContext(me.getContext(), index, tick));\n      }\n\n      return me.$context || (me.$context = createScaleContext(me.chart.getContext(), me));\n    }\n  }, {\n    key: \"_tickSize\",\n    value: function _tickSize() {\n      var me = this;\n      var optionTicks = me.options.ticks;\n      var rot = toRadians(me.labelRotation);\n      var cos = Math.abs(Math.cos(rot));\n      var sin = Math.abs(Math.sin(rot));\n\n      var labelSizes = me._getLabelSizes();\n\n      var padding = optionTicks.autoSkipPadding || 0;\n      var w = labelSizes ? labelSizes.widest.width + padding : 0;\n      var h = labelSizes ? labelSizes.highest.height + padding : 0;\n      return me.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n  }, {\n    key: \"_isVisible\",\n    value: function _isVisible() {\n      var display = this.options.display;\n\n      if (display !== 'auto') {\n        return !!display;\n      }\n\n      return this.getMatchingVisibleMetas().length > 0;\n    }\n  }, {\n    key: \"_computeGridLineItems\",\n    value: function _computeGridLineItems(chartArea) {\n      var me = this;\n      var axis = me.axis;\n      var chart = me.chart;\n      var options = me.options;\n      var grid = options.grid,\n          position = options.position;\n      var offset = grid.offset;\n      var isHorizontal = me.isHorizontal();\n      var ticks = me.ticks;\n      var ticksLength = ticks.length + (offset ? 1 : 0);\n      var tl = getTickMarkLength(grid);\n      var items = [];\n      var borderOpts = grid.setContext(me.getContext(0));\n      var axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n      var axisHalfWidth = axisWidth / 2;\n\n      var alignBorderValue = function alignBorderValue(pixel) {\n        return _alignPixel(chart, pixel, axisWidth);\n      };\n\n      var borderValue, i, lineValue, alignedLineValue;\n      var tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n      if (position === 'top') {\n        borderValue = alignBorderValue(me.bottom);\n        ty1 = me.bottom - tl;\n        ty2 = borderValue - axisHalfWidth;\n        y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n        y2 = chartArea.bottom;\n      } else if (position === 'bottom') {\n        borderValue = alignBorderValue(me.top);\n        y1 = chartArea.top;\n        y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n        ty1 = borderValue + axisHalfWidth;\n        ty2 = me.top + tl;\n      } else if (position === 'left') {\n        borderValue = alignBorderValue(me.right);\n        tx1 = me.right - tl;\n        tx2 = borderValue - axisHalfWidth;\n        x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n        x2 = chartArea.right;\n      } else if (position === 'right') {\n        borderValue = alignBorderValue(me.left);\n        x1 = chartArea.left;\n        x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n        tx1 = borderValue + axisHalfWidth;\n        tx2 = me.left + tl;\n      } else if (axis === 'x') {\n        if (position === 'center') {\n          borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n        } else if (isObject(position)) {\n          var positionAxisID = Object.keys(position)[0];\n          var value = position[positionAxisID];\n          borderValue = alignBorderValue(me.chart.scales[positionAxisID].getPixelForValue(value));\n        }\n\n        y1 = chartArea.top;\n        y2 = chartArea.bottom;\n        ty1 = borderValue + axisHalfWidth;\n        ty2 = ty1 + tl;\n      } else if (axis === 'y') {\n        if (position === 'center') {\n          borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n        } else if (isObject(position)) {\n          var _positionAxisID = Object.keys(position)[0];\n          var _value = position[_positionAxisID];\n          borderValue = alignBorderValue(me.chart.scales[_positionAxisID].getPixelForValue(_value));\n        }\n\n        tx1 = borderValue - axisHalfWidth;\n        tx2 = tx1 - tl;\n        x1 = chartArea.left;\n        x2 = chartArea.right;\n      }\n\n      for (i = 0; i < ticksLength; ++i) {\n        var optsAtIndex = grid.setContext(me.getContext(i));\n        var lineWidth = optsAtIndex.lineWidth;\n        var lineColor = optsAtIndex.color;\n        var borderDash = grid.borderDash || [];\n        var borderDashOffset = optsAtIndex.borderDashOffset;\n        var tickWidth = optsAtIndex.tickWidth;\n        var tickColor = optsAtIndex.tickColor;\n        var tickBorderDash = optsAtIndex.tickBorderDash || [];\n        var tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n        lineValue = getPixelForGridLine(me, i, offset);\n\n        if (lineValue === undefined) {\n          continue;\n        }\n\n        alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n        if (isHorizontal) {\n          tx1 = tx2 = x1 = x2 = alignedLineValue;\n        } else {\n          ty1 = ty2 = y1 = y2 = alignedLineValue;\n        }\n\n        items.push({\n          tx1: tx1,\n          ty1: ty1,\n          tx2: tx2,\n          ty2: ty2,\n          x1: x1,\n          y1: y1,\n          x2: x2,\n          y2: y2,\n          width: lineWidth,\n          color: lineColor,\n          borderDash: borderDash,\n          borderDashOffset: borderDashOffset,\n          tickWidth: tickWidth,\n          tickColor: tickColor,\n          tickBorderDash: tickBorderDash,\n          tickBorderDashOffset: tickBorderDashOffset\n        });\n      }\n\n      me._ticksLength = ticksLength;\n      me._borderValue = borderValue;\n      return items;\n    }\n  }, {\n    key: \"_computeLabelItems\",\n    value: function _computeLabelItems(chartArea) {\n      var me = this;\n      var axis = me.axis;\n      var options = me.options;\n      var position = options.position,\n          optionTicks = options.ticks;\n      var isHorizontal = me.isHorizontal();\n      var ticks = me.ticks;\n      var align = optionTicks.align,\n          crossAlign = optionTicks.crossAlign,\n          padding = optionTicks.padding,\n          mirror = optionTicks.mirror;\n      var tl = getTickMarkLength(options.grid);\n      var tickAndPadding = tl + padding;\n      var hTickAndPadding = mirror ? -padding : tickAndPadding;\n      var rotation = -toRadians(me.labelRotation);\n      var items = [];\n      var i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n      var textBaseline = 'middle';\n\n      if (position === 'top') {\n        y = me.bottom - hTickAndPadding;\n        textAlign = me._getXAxisLabelAlignment();\n      } else if (position === 'bottom') {\n        y = me.top + hTickAndPadding;\n        textAlign = me._getXAxisLabelAlignment();\n      } else if (position === 'left') {\n        var ret = me._getYAxisLabelAlignment(tl);\n\n        textAlign = ret.textAlign;\n        x = ret.x;\n      } else if (position === 'right') {\n        var _ret = me._getYAxisLabelAlignment(tl);\n\n        textAlign = _ret.textAlign;\n        x = _ret.x;\n      } else if (axis === 'x') {\n        if (position === 'center') {\n          y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n        } else if (isObject(position)) {\n          var positionAxisID = Object.keys(position)[0];\n          var value = position[positionAxisID];\n          y = me.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n        }\n\n        textAlign = me._getXAxisLabelAlignment();\n      } else if (axis === 'y') {\n        if (position === 'center') {\n          x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n        } else if (isObject(position)) {\n          var _positionAxisID2 = Object.keys(position)[0];\n          var _value2 = position[_positionAxisID2];\n          x = me.chart.scales[_positionAxisID2].getPixelForValue(_value2);\n        }\n\n        textAlign = me._getYAxisLabelAlignment(tl).textAlign;\n      }\n\n      if (axis === 'y') {\n        if (align === 'start') {\n          textBaseline = 'top';\n        } else if (align === 'end') {\n          textBaseline = 'bottom';\n        }\n      }\n\n      var labelSizes = me._getLabelSizes();\n\n      for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n        tick = ticks[i];\n        label = tick.label;\n        var optsAtIndex = optionTicks.setContext(me.getContext(i));\n        pixel = me.getPixelForTick(i) + optionTicks.labelOffset;\n        font = me._resolveTickFontOptions(i);\n        lineHeight = font.lineHeight;\n        lineCount = isArray(label) ? label.length : 1;\n        var halfCount = lineCount / 2;\n        var color = optsAtIndex.color;\n        var strokeColor = optsAtIndex.textStrokeColor;\n        var strokeWidth = optsAtIndex.textStrokeWidth;\n\n        if (isHorizontal) {\n          x = pixel;\n\n          if (position === 'top') {\n            if (crossAlign === 'near' || rotation !== 0) {\n              textOffset = -lineCount * lineHeight + lineHeight / 2;\n            } else if (crossAlign === 'center') {\n              textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n            } else {\n              textOffset = -labelSizes.highest.height + lineHeight / 2;\n            }\n          } else {\n            if (crossAlign === 'near' || rotation !== 0) {\n              textOffset = lineHeight / 2;\n            } else if (crossAlign === 'center') {\n              textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n            } else {\n              textOffset = labelSizes.highest.height - lineCount * lineHeight;\n            }\n          }\n\n          if (mirror) {\n            textOffset *= -1;\n          }\n        } else {\n          y = pixel;\n          textOffset = (1 - lineCount) * lineHeight / 2;\n        }\n\n        items.push({\n          rotation: rotation,\n          label: label,\n          font: font,\n          color: color,\n          strokeColor: strokeColor,\n          strokeWidth: strokeWidth,\n          textOffset: textOffset,\n          textAlign: textAlign,\n          textBaseline: textBaseline,\n          translation: [x, y]\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: \"_getXAxisLabelAlignment\",\n    value: function _getXAxisLabelAlignment() {\n      var me = this;\n      var _me$options4 = me.options,\n          position = _me$options4.position,\n          ticks = _me$options4.ticks;\n      var rotation = -toRadians(me.labelRotation);\n\n      if (rotation) {\n        return position === 'top' ? 'left' : 'right';\n      }\n\n      var align = 'center';\n\n      if (ticks.align === 'start') {\n        align = 'left';\n      } else if (ticks.align === 'end') {\n        align = 'right';\n      }\n\n      return align;\n    }\n  }, {\n    key: \"_getYAxisLabelAlignment\",\n    value: function _getYAxisLabelAlignment(tl) {\n      var me = this;\n      var _me$options5 = me.options,\n          position = _me$options5.position,\n          _me$options5$ticks = _me$options5.ticks,\n          crossAlign = _me$options5$ticks.crossAlign,\n          mirror = _me$options5$ticks.mirror,\n          padding = _me$options5$ticks.padding;\n\n      var labelSizes = me._getLabelSizes();\n\n      var tickAndPadding = tl + padding;\n      var widest = labelSizes.widest.width;\n      var textAlign;\n      var x;\n\n      if (position === 'left') {\n        if (mirror) {\n          textAlign = 'left';\n          x = me.right + padding;\n        } else {\n          x = me.right - tickAndPadding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'right';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x -= widest / 2;\n          } else {\n            textAlign = 'left';\n            x = me.left;\n          }\n        }\n      } else if (position === 'right') {\n        if (mirror) {\n          textAlign = 'right';\n          x = me.left + padding;\n        } else {\n          x = me.left + tickAndPadding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'left';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x += widest / 2;\n          } else {\n            textAlign = 'right';\n            x = me.right;\n          }\n        }\n      } else {\n        textAlign = 'right';\n      }\n\n      return {\n        textAlign: textAlign,\n        x: x\n      };\n    }\n  }, {\n    key: \"_computeLabelArea\",\n    value: function _computeLabelArea() {\n      var me = this;\n\n      if (me.options.ticks.mirror) {\n        return;\n      }\n\n      var chart = me.chart;\n      var position = me.options.position;\n\n      if (position === 'left' || position === 'right') {\n        return {\n          top: 0,\n          left: me.left,\n          bottom: chart.height,\n          right: me.right\n        };\n      }\n\n      if (position === 'top' || position === 'bottom') {\n        return {\n          top: me.top,\n          left: 0,\n          bottom: me.bottom,\n          right: chart.width\n        };\n      }\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground() {\n      var ctx = this.ctx,\n          backgroundColor = this.options.backgroundColor,\n          left = this.left,\n          top = this.top,\n          width = this.width,\n          height = this.height;\n\n      if (backgroundColor) {\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        ctx.fillRect(left, top, width, height);\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"getLineWidthForValue\",\n    value: function getLineWidthForValue(value) {\n      var me = this;\n      var grid = me.options.grid;\n\n      if (!me._isVisible() || !grid.display) {\n        return 0;\n      }\n\n      var ticks = me.ticks;\n      var index = ticks.findIndex(function (t) {\n        return t.value === value;\n      });\n\n      if (index >= 0) {\n        var opts = grid.setContext(me.getContext(index));\n        return opts.lineWidth;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"drawGrid\",\n    value: function drawGrid(chartArea) {\n      var me = this;\n      var grid = me.options.grid;\n      var ctx = me.ctx;\n      var chart = me.chart;\n      var borderOpts = grid.setContext(me.getContext());\n      var axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n\n      var items = me._gridLineItems || (me._gridLineItems = me._computeGridLineItems(chartArea));\n\n      var i, ilen;\n\n      var drawLine = function drawLine(p1, p2, style) {\n        if (!style.width || !style.color) {\n          return;\n        }\n\n        ctx.save();\n        ctx.lineWidth = style.width;\n        ctx.strokeStyle = style.color;\n        ctx.setLineDash(style.borderDash || []);\n        ctx.lineDashOffset = style.borderDashOffset;\n        ctx.beginPath();\n        ctx.moveTo(p1.x, p1.y);\n        ctx.lineTo(p2.x, p2.y);\n        ctx.stroke();\n        ctx.restore();\n      };\n\n      if (grid.display) {\n        for (i = 0, ilen = items.length; i < ilen; ++i) {\n          var item = items[i];\n\n          if (grid.drawOnChartArea) {\n            drawLine({\n              x: item.x1,\n              y: item.y1\n            }, {\n              x: item.x2,\n              y: item.y2\n            }, item);\n          }\n\n          if (grid.drawTicks) {\n            drawLine({\n              x: item.tx1,\n              y: item.ty1\n            }, {\n              x: item.tx2,\n              y: item.ty2\n            }, {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            });\n          }\n        }\n      }\n\n      if (axisWidth) {\n        var lastLineWidth = borderOpts.lineWidth;\n        var borderValue = me._borderValue;\n        var x1, x2, y1, y2;\n\n        if (me.isHorizontal()) {\n          x1 = _alignPixel(chart, me.left, axisWidth) - axisWidth / 2;\n          x2 = _alignPixel(chart, me.right, lastLineWidth) + lastLineWidth / 2;\n          y1 = y2 = borderValue;\n        } else {\n          y1 = _alignPixel(chart, me.top, axisWidth) - axisWidth / 2;\n          y2 = _alignPixel(chart, me.bottom, lastLineWidth) + lastLineWidth / 2;\n          x1 = x2 = borderValue;\n        }\n\n        drawLine({\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }, {\n          width: axisWidth,\n          color: borderOpts.borderColor\n        });\n      }\n    }\n  }, {\n    key: \"drawLabels\",\n    value: function drawLabels(chartArea) {\n      var me = this;\n      var optionTicks = me.options.ticks;\n\n      if (!optionTicks.display) {\n        return;\n      }\n\n      var ctx = me.ctx;\n\n      var area = me._computeLabelArea();\n\n      if (area) {\n        clipArea(ctx, area);\n      }\n\n      var items = me._labelItems || (me._labelItems = me._computeLabelItems(chartArea));\n\n      var i, ilen;\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        var item = items[i];\n        var tickFont = item.font;\n        var label = item.label;\n        var y = item.textOffset;\n        renderText(ctx, label, 0, y, tickFont, item);\n      }\n\n      if (area) {\n        unclipArea(ctx);\n      }\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {\n      var ctx = this.ctx,\n          _this$options2 = this.options,\n          position = _this$options2.position,\n          title = _this$options2.title,\n          reverse = _this$options2.reverse;\n\n      if (!title.display) {\n        return;\n      }\n\n      var font = toFont(title.font);\n      var padding = toPadding(title.padding);\n      var align = title.align;\n      var offset = font.lineHeight / 2;\n\n      if (position === 'bottom') {\n        offset += padding.bottom;\n\n        if (isArray(title.text)) {\n          offset += font.lineHeight * (title.text.length - 1);\n        }\n      } else {\n        offset += padding.top;\n      }\n\n      var _titleArgs = titleArgs(this, offset, position, align),\n          titleX = _titleArgs.titleX,\n          titleY = _titleArgs.titleY,\n          maxWidth = _titleArgs.maxWidth,\n          rotation = _titleArgs.rotation;\n\n      renderText(ctx, title.text, 0, 0, font, {\n        color: title.color,\n        maxWidth: maxWidth,\n        rotation: rotation,\n        textAlign: titleAlign(align, position, reverse),\n        textBaseline: 'middle',\n        translation: [titleX, titleY]\n      });\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(chartArea) {\n      var me = this;\n\n      if (!me._isVisible()) {\n        return;\n      }\n\n      me.drawBackground();\n      me.drawGrid(chartArea);\n      me.drawTitle();\n      me.drawLabels(chartArea);\n    }\n  }, {\n    key: \"_layers\",\n    value: function _layers() {\n      var me = this;\n      var opts = me.options;\n      var tz = opts.ticks && opts.ticks.z || 0;\n      var gz = opts.grid && opts.grid.z || 0;\n\n      if (!me._isVisible() || tz === gz || me.draw !== Scale.prototype.draw) {\n        return [{\n          z: tz,\n          draw: function draw(chartArea) {\n            me.draw(chartArea);\n          }\n        }];\n      }\n\n      return [{\n        z: gz,\n        draw: function draw(chartArea) {\n          me.drawBackground();\n          me.drawGrid(chartArea);\n          me.drawTitle();\n        }\n      }, {\n        z: tz,\n        draw: function draw(chartArea) {\n          me.drawLabels(chartArea);\n        }\n      }];\n    }\n  }, {\n    key: \"getMatchingVisibleMetas\",\n    value: function getMatchingVisibleMetas(type) {\n      var me = this;\n      var metas = me.chart.getSortedVisibleDatasetMetas();\n      var axisID = me.axis + 'AxisID';\n      var result = [];\n      var i, ilen;\n\n      for (i = 0, ilen = metas.length; i < ilen; ++i) {\n        var meta = metas[i];\n\n        if (meta[axisID] === me.id && (!type || meta.type === type)) {\n          result.push(meta);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_resolveTickFontOptions\",\n    value: function _resolveTickFontOptions(index) {\n      var opts = this.options.ticks.setContext(this.getContext(index));\n      return toFont(opts.font);\n    }\n  }]);\n\n  return Scale;\n}(Element);\n\nvar TypedRegistry = /*#__PURE__*/function () {\n  function TypedRegistry(type, scope, override) {\n    _classCallCheck(this, TypedRegistry);\n\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  _createClass(TypedRegistry, [{\n    key: \"isForType\",\n    value: function isForType(type) {\n      return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n  }, {\n    key: \"register\",\n    value: function register(item) {\n      var me = this;\n      var proto = Object.getPrototypeOf(item);\n      var parentScope;\n\n      if (isIChartComponent(proto)) {\n        parentScope = me.register(proto);\n      }\n\n      var items = me.items;\n      var id = item.id;\n      var scope = me.scope + '.' + id;\n\n      if (!id) {\n        throw new Error('class does not have id: ' + item);\n      }\n\n      if (id in items) {\n        return scope;\n      }\n\n      items[id] = item;\n      registerDefaults(item, scope, parentScope);\n\n      if (me.override) {\n        defaults.override(item.id, item.overrides);\n      }\n\n      return scope;\n    }\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      return this.items[id];\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(item) {\n      var items = this.items;\n      var id = item.id;\n      var scope = this.scope;\n\n      if (id in items) {\n        delete items[id];\n      }\n\n      if (scope && id in defaults[scope]) {\n        delete defaults[scope][id];\n\n        if (this.override) {\n          delete overrides[id];\n        }\n      }\n    }\n  }]);\n\n  return TypedRegistry;\n}();\n\nfunction registerDefaults(item, scope, parentScope) {\n  var itemDefaults = merge(Object.create(null), [parentScope ? defaults.get(parentScope) : {}, defaults.get(scope), item.defaults]);\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(function (property) {\n    var propertyParts = property.split('.');\n    var sourceName = propertyParts.pop();\n    var sourceScope = [scope].concat(propertyParts).join('.');\n    var parts = routes[property].split('.');\n    var targetName = parts.pop();\n    var targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nvar Registry = /*#__PURE__*/function () {\n  function Registry() {\n    _classCallCheck(this, Registry);\n\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  _createClass(Registry, [{\n    key: \"add\",\n    value: function add() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this._each('register', args);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this._each('unregister', args);\n    }\n  }, {\n    key: \"addControllers\",\n    value: function addControllers() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this._each('register', args, this.controllers);\n    }\n  }, {\n    key: \"addElements\",\n    value: function addElements() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this._each('register', args, this.elements);\n    }\n  }, {\n    key: \"addPlugins\",\n    value: function addPlugins() {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      this._each('register', args, this.plugins);\n    }\n  }, {\n    key: \"addScales\",\n    value: function addScales() {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      this._each('register', args, this.scales);\n    }\n  }, {\n    key: \"getController\",\n    value: function getController(id) {\n      return this._get(id, this.controllers, 'controller');\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement(id) {\n      return this._get(id, this.elements, 'element');\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(id) {\n      return this._get(id, this.plugins, 'plugin');\n    }\n  }, {\n    key: \"getScale\",\n    value: function getScale(id) {\n      return this._get(id, this.scales, 'scale');\n    }\n  }, {\n    key: \"removeControllers\",\n    value: function removeControllers() {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      this._each('unregister', args, this.controllers);\n    }\n  }, {\n    key: \"removeElements\",\n    value: function removeElements() {\n      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n\n      this._each('unregister', args, this.elements);\n    }\n  }, {\n    key: \"removePlugins\",\n    value: function removePlugins() {\n      for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n\n      this._each('unregister', args, this.plugins);\n    }\n  }, {\n    key: \"removeScales\",\n    value: function removeScales() {\n      for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n\n      this._each('unregister', args, this.scales);\n    }\n  }, {\n    key: \"_each\",\n    value: function _each(method, args, typedRegistry) {\n      var me = this;\n\n      _toConsumableArray(args).forEach(function (arg) {\n        var reg = typedRegistry || me._getRegistryForType(arg);\n\n        if (typedRegistry || reg.isForType(arg) || reg === me.plugins && arg.id) {\n          me._exec(method, reg, arg);\n        } else {\n          each(arg, function (item) {\n            var itemReg = typedRegistry || me._getRegistryForType(item);\n\n            me._exec(method, itemReg, item);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_exec\",\n    value: function _exec(method, registry, component) {\n      var camelMethod = _capitalize(method);\n\n      callback(component['before' + camelMethod], [], component);\n      registry[method](component);\n      callback(component['after' + camelMethod], [], component);\n    }\n  }, {\n    key: \"_getRegistryForType\",\n    value: function _getRegistryForType(type) {\n      for (var i = 0; i < this._typedRegistries.length; i++) {\n        var reg = this._typedRegistries[i];\n\n        if (reg.isForType(type)) {\n          return reg;\n        }\n      }\n\n      return this.plugins;\n    }\n  }, {\n    key: \"_get\",\n    value: function _get(id, typedRegistry, type) {\n      var item = typedRegistry.get(id);\n\n      if (item === undefined) {\n        throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n      }\n\n      return item;\n    }\n  }]);\n\n  return Registry;\n}();\n\nvar registry = new Registry();\n\nvar PluginService = /*#__PURE__*/function () {\n  function PluginService() {\n    _classCallCheck(this, PluginService);\n\n    this._init = [];\n  }\n\n  _createClass(PluginService, [{\n    key: \"notify\",\n    value: function notify(chart, hook, args, filter) {\n      var me = this;\n\n      if (hook === 'beforeInit') {\n        me._init = me._createDescriptors(chart, true);\n\n        me._notify(me._init, chart, 'install');\n      }\n\n      var descriptors = filter ? me._descriptors(chart).filter(filter) : me._descriptors(chart);\n\n      var result = me._notify(descriptors, chart, hook, args);\n\n      if (hook === 'destroy') {\n        me._notify(descriptors, chart, 'stop');\n\n        me._notify(me._init, chart, 'uninstall');\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_notify\",\n    value: function _notify(descriptors, chart, hook, args) {\n      args = args || {};\n\n      var _iterator3 = _createForOfIteratorHelper(descriptors),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var descriptor = _step3.value;\n          var plugin = descriptor.plugin;\n          var method = plugin[hook];\n          var params = [chart, args, descriptor.options];\n\n          if (callback(method, params, plugin) === false && args.cancelable) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"invalidate\",\n    value: function invalidate() {\n      if (!isNullOrUndef(this._cache)) {\n        this._oldCache = this._cache;\n        this._cache = undefined;\n      }\n    }\n  }, {\n    key: \"_descriptors\",\n    value: function _descriptors(chart) {\n      if (this._cache) {\n        return this._cache;\n      }\n\n      var descriptors = this._cache = this._createDescriptors(chart);\n\n      this._notifyStateChanges(chart);\n\n      return descriptors;\n    }\n  }, {\n    key: \"_createDescriptors\",\n    value: function _createDescriptors(chart, all) {\n      var config = chart && chart.config;\n      var options = valueOrDefault(config.options && config.options.plugins, {});\n      var plugins = allPlugins(config);\n      return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n  }, {\n    key: \"_notifyStateChanges\",\n    value: function _notifyStateChanges(chart) {\n      var previousDescriptors = this._oldCache || [];\n      var descriptors = this._cache;\n\n      var diff = function diff(a, b) {\n        return a.filter(function (x) {\n          return !b.some(function (y) {\n            return x.plugin.id === y.plugin.id;\n          });\n        });\n      };\n\n      this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n\n      this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n  }]);\n\n  return PluginService;\n}();\n\nfunction allPlugins(config) {\n  var plugins = [];\n  var keys = Object.keys(registry.plugins.items);\n\n  for (var i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  var local = config.plugins || [];\n\n  for (var _i = 0; _i < local.length; _i++) {\n    var plugin = local[_i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n\n  return plugins;\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n\n  if (options === true) {\n    return {};\n  }\n\n  return options;\n}\n\nfunction createDescriptors(chart, plugins, options, all) {\n  var result = [];\n  var context = chart.getContext();\n\n  for (var i = 0; i < plugins.length; i++) {\n    var plugin = plugins[i];\n    var id = plugin.id;\n    var opts = getOpts(options[id], all);\n\n    if (opts === null) {\n      continue;\n    }\n\n    result.push({\n      plugin: plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, plugin, opts, context) {\n  var keys = config.pluginScopeKeys(plugin);\n  var scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n\nfunction getIndexAxis(type, options) {\n  var datasetDefaults = defaults.datasets[type] || {};\n  var datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  var axis = id;\n\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\n\nfunction mergeScaleConfig(config, options) {\n  var chartDefaults = overrides[config.type] || {\n    scales: {}\n  };\n  var configScales = options.scales || {};\n  var chartIndexAxis = getIndexAxis(config.type, options);\n  var firstIDs = Object.create(null);\n  var scales = Object.create(null);\n  Object.keys(configScales).forEach(function (id) {\n    var scaleConf = configScales[id];\n    var axis = determineAxis(id, scaleConf);\n    var defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    var defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{\n      axis: axis\n    }, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(function (dataset) {\n    var type = dataset.type || config.type;\n    var indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    var datasetDefaults = overrides[type] || {};\n    var defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(function (defaultID) {\n      var axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      var id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{\n        axis: axis\n      }, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(function (key) {\n    var scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\n\nfunction initOptions(config) {\n  var options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\n\nvar keyCache = new Map();\nvar keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  var keys = keyCache.get(cacheKey);\n\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n\n  return keys;\n}\n\nvar addIfFound = function addIfFound(set, obj, key) {\n  var opts = resolveObjectKey(obj, key);\n\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nvar Config = /*#__PURE__*/function () {\n  function Config(config) {\n    _classCallCheck(this, Config);\n\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  _createClass(Config, [{\n    key: \"type\",\n    get: function get() {\n      return this._config.type;\n    },\n    set: function set(type) {\n      this._config.type = type;\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this._config.data;\n    },\n    set: function set(data) {\n      this._config.data = initData(data);\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this._config.options;\n    },\n    set: function set(options) {\n      this._config.options = options;\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return this._config.plugins;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var config = this._config;\n      this.clearCache();\n      initOptions(config);\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      this._scopeCache.clear();\n\n      this._resolverCache.clear();\n    }\n  }, {\n    key: \"datasetScopeKeys\",\n    value: function datasetScopeKeys(datasetType) {\n      return cachedKeys(datasetType, function () {\n        return [[\"datasets.\".concat(datasetType), '']];\n      });\n    }\n  }, {\n    key: \"datasetAnimationScopeKeys\",\n    value: function datasetAnimationScopeKeys(datasetType, transition) {\n      return cachedKeys(\"\".concat(datasetType, \".transition.\").concat(transition), function () {\n        return [[\"datasets.\".concat(datasetType, \".transitions.\").concat(transition), \"transitions.\".concat(transition)], [\"datasets.\".concat(datasetType), '']];\n      });\n    }\n  }, {\n    key: \"datasetElementScopeKeys\",\n    value: function datasetElementScopeKeys(datasetType, elementType) {\n      return cachedKeys(\"\".concat(datasetType, \"-\").concat(elementType), function () {\n        return [[\"datasets.\".concat(datasetType, \".elements.\").concat(elementType), \"datasets.\".concat(datasetType), \"elements.\".concat(elementType), '']];\n      });\n    }\n  }, {\n    key: \"pluginScopeKeys\",\n    value: function pluginScopeKeys(plugin) {\n      var id = plugin.id;\n      var type = this.type;\n      return cachedKeys(\"\".concat(type, \"-plugin-\").concat(id), function () {\n        return [[\"plugins.\".concat(id)].concat(_toConsumableArray(plugin.additionalOptionScopes || []))];\n      });\n    }\n  }, {\n    key: \"_cachedScopes\",\n    value: function _cachedScopes(mainScope, resetCache) {\n      var _scopeCache = this._scopeCache;\n\n      var cache = _scopeCache.get(mainScope);\n\n      if (!cache || resetCache) {\n        cache = new Map();\n\n        _scopeCache.set(mainScope, cache);\n      }\n\n      return cache;\n    }\n  }, {\n    key: \"getOptionScopes\",\n    value: function getOptionScopes(mainScope, keyLists, resetCache) {\n      var options = this.options,\n          type = this.type;\n\n      var cache = this._cachedScopes(mainScope, resetCache);\n\n      var cached = cache.get(keyLists);\n\n      if (cached) {\n        return cached;\n      }\n\n      var scopes = new Set();\n      keyLists.forEach(function (keys) {\n        if (mainScope) {\n          scopes.add(mainScope);\n          keys.forEach(function (key) {\n            return addIfFound(scopes, mainScope, key);\n          });\n        }\n\n        keys.forEach(function (key) {\n          return addIfFound(scopes, options, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, overrides[type] || {}, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, defaults, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, descriptors, key);\n        });\n      });\n\n      var array = _toConsumableArray(scopes);\n\n      if (keysCached.has(keyLists)) {\n        cache.set(keyLists, array);\n      }\n\n      return array;\n    }\n  }, {\n    key: \"chartOptionScopes\",\n    value: function chartOptionScopes() {\n      var options = this.options,\n          type = this.type;\n      return [options, overrides[type] || {}, defaults.datasets[type] || {}, {\n        type: type\n      }, defaults, descriptors];\n    }\n  }, {\n    key: \"resolveNamedOptions\",\n    value: function resolveNamedOptions(scopes, names, context) {\n      var prefixes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [''];\n      var result = {\n        $shared: true\n      };\n\n      var _getResolver = getResolver(this._resolverCache, scopes, prefixes),\n          resolver = _getResolver.resolver,\n          subPrefixes = _getResolver.subPrefixes;\n\n      var options = resolver;\n\n      if (needContext(resolver, names)) {\n        result.$shared = false;\n        context = isFunction(context) ? context() : context;\n        var subResolver = this.createResolver(scopes, context, subPrefixes);\n        options = _attachContext(resolver, context, subResolver);\n      }\n\n      var _iterator4 = _createForOfIteratorHelper(names),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var prop = _step4.value;\n          result[prop] = options[prop];\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      return result;\n    }\n  }, {\n    key: \"createResolver\",\n    value: function createResolver(scopes, context) {\n      var prefixes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [''];\n      var descriptorDefaults = arguments.length > 3 ? arguments[3] : undefined;\n\n      var _getResolver2 = getResolver(this._resolverCache, scopes, prefixes),\n          resolver = _getResolver2.resolver;\n\n      return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n  }]);\n\n  return Config;\n}();\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  var cache = resolverCache.get(scopes);\n\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n\n  var cacheKey = prefixes.join();\n  var cached = cache.get(cacheKey);\n\n  if (!cached) {\n    var resolver = _createResolver(scopes, prefixes);\n\n    cached = {\n      resolver: resolver,\n      subPrefixes: prefixes.filter(function (p) {\n        return !p.toLowerCase().includes('hover');\n      })\n    };\n    cache.set(cacheKey, cached);\n  }\n\n  return cached;\n}\n\nfunction needContext(proxy, names) {\n  var _descriptors2 = _descriptors(proxy),\n      isScriptable = _descriptors2.isScriptable,\n      isIndexable = _descriptors2.isIndexable;\n\n  var _iterator5 = _createForOfIteratorHelper(names),\n      _step5;\n\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var prop = _step5.value;\n\n      if (isScriptable(prop) && isFunction(proxy[prop]) || isIndexable(prop) && isArray(proxy[prop])) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n\n  return false;\n}\n\nvar version = \"3.1.1\";\nvar KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\n\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\n\nfunction compare2Level(l1, l2) {\n  return function (a, b) {\n    return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  var chart = context.chart;\n  var animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  var chart = context.chart;\n  var animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\nfunction isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\nfunction getCanvas(item) {\n  if (isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n\n  return item;\n}\n\nvar instances = {};\n\nvar getChart = function getChart(key) {\n  var canvas = getCanvas(key);\n  return Object.values(instances).filter(function (c) {\n    return c.canvas === canvas;\n  }).pop();\n};\n\nvar Chart = /*#__PURE__*/function () {\n  function Chart(item, config) {\n    var _this5 = this;\n\n    _classCallCheck(this, Chart);\n\n    var me = this;\n    this.config = config = new Config(config);\n    var initialCanvas = getCanvas(item);\n    var existingChart = getChart(initialCanvas);\n\n    if (existingChart) {\n      throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas can be reused.');\n    }\n\n    var options = config.createResolver(config.chartOptionScopes(), me.getContext());\n    this.platform = me._initializePlatform(initialCanvas, config);\n    var context = me.platform.acquireContext(initialCanvas, options.aspectRatio);\n    var canvas = context && context.canvas;\n    var height = canvas && canvas.height;\n    var width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._sortedMetasets = [];\n    this.scales = {};\n    this.scale = undefined;\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(function () {\n      return _this5.update('resize');\n    }, options.resizeDelay || 0);\n    instances[me.id] = me;\n\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(me, 'complete', onAnimationsComplete);\n    animator.listen(me, 'progress', onAnimationProgress);\n\n    me._initialize();\n\n    if (me.attached) {\n      me.update();\n    }\n  }\n\n  _createClass(Chart, [{\n    key: \"aspectRatio\",\n    get: function get() {\n      var _this$options3 = this.options,\n          aspectRatio = _this$options3.aspectRatio,\n          maintainAspectRatio = _this$options3.maintainAspectRatio,\n          width = this.width,\n          height = this.height,\n          _aspectRatio = this._aspectRatio;\n\n      if (!isNullOrUndef(aspectRatio)) {\n        return aspectRatio;\n      }\n\n      if (maintainAspectRatio && _aspectRatio) {\n        return _aspectRatio;\n      }\n\n      return height ? width / height : null;\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this.config.data;\n    },\n    set: function set(data) {\n      this.config.data = data;\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this._options;\n    },\n    set: function set(options) {\n      this.config.options = options;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      var me = this;\n      me.notifyPlugins('beforeInit');\n\n      if (me.options.responsive) {\n        me.resize();\n      } else {\n        retinaScale(me, me.options.devicePixelRatio);\n      }\n\n      me.bindEvents();\n      me.notifyPlugins('afterInit');\n      return me;\n    }\n  }, {\n    key: \"_initializePlatform\",\n    value: function _initializePlatform(canvas, config) {\n      if (config.platform) {\n        return new config.platform();\n      } else if (!isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return new BasicPlatform();\n      }\n\n      return new DomPlatform();\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      clearCanvas(this.canvas, this.ctx);\n      return this;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      animator.stop(this);\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(width, height) {\n      if (!animator.running(this)) {\n        this._resize(width, height);\n      } else {\n        this._resizeBeforeDraw = {\n          width: width,\n          height: height\n        };\n      }\n    }\n  }, {\n    key: \"_resize\",\n    value: function _resize(width, height) {\n      var me = this;\n      var options = me.options;\n      var canvas = me.canvas;\n      var aspectRatio = options.maintainAspectRatio && me.aspectRatio;\n      var newSize = me.platform.getMaximumSize(canvas, width, height, aspectRatio);\n      var oldRatio = me.currentDevicePixelRatio;\n      var newRatio = options.devicePixelRatio || me.platform.getDevicePixelRatio();\n\n      if (me.width === newSize.width && me.height === newSize.height && oldRatio === newRatio) {\n        return;\n      }\n\n      me.width = newSize.width;\n      me.height = newSize.height;\n      me._aspectRatio = me.aspectRatio;\n      retinaScale(me, newRatio, true);\n      me.notifyPlugins('resize', {\n        size: newSize\n      });\n      callback(options.onResize, [me, newSize], me);\n\n      if (me.attached) {\n        if (me._doResize()) {\n          me.render();\n        }\n      }\n    }\n  }, {\n    key: \"ensureScalesHaveIDs\",\n    value: function ensureScalesHaveIDs() {\n      var options = this.options;\n      var scalesOptions = options.scales || {};\n      each(scalesOptions, function (axisOptions, axisID) {\n        axisOptions.id = axisID;\n      });\n    }\n  }, {\n    key: \"buildOrUpdateScales\",\n    value: function buildOrUpdateScales() {\n      var me = this;\n      var options = me.options;\n      var scaleOpts = options.scales;\n      var scales = me.scales;\n      var updated = Object.keys(scales).reduce(function (obj, id) {\n        obj[id] = false;\n        return obj;\n      }, {});\n      var items = [];\n\n      if (scaleOpts) {\n        items = items.concat(Object.keys(scaleOpts).map(function (id) {\n          var scaleOptions = scaleOpts[id];\n          var axis = determineAxis(id, scaleOptions);\n          var isRadial = axis === 'r';\n          var isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        }));\n      }\n\n      each(items, function (item) {\n        var scaleOptions = item.options;\n        var id = scaleOptions.id;\n        var axis = determineAxis(id, scaleOptions);\n        var scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n        if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n          scaleOptions.position = item.dposition;\n        }\n\n        updated[id] = true;\n        var scale = null;\n\n        if (id in scales && scales[id].type === scaleType) {\n          scale = scales[id];\n        } else {\n          var scaleClass = registry.getScale(scaleType);\n          scale = new scaleClass({\n            id: id,\n            type: scaleType,\n            ctx: me.ctx,\n            chart: me\n          });\n          scales[scale.id] = scale;\n        }\n\n        scale.init(scaleOptions, options);\n      });\n      each(updated, function (hasUpdated, id) {\n        if (!hasUpdated) {\n          delete scales[id];\n        }\n      });\n      each(scales, function (scale) {\n        layouts.configure(me, scale, scale.options);\n        layouts.addBox(me, scale);\n      });\n    }\n  }, {\n    key: \"_updateMetasetIndex\",\n    value: function _updateMetasetIndex(meta, index) {\n      var metasets = this._metasets;\n      var oldIndex = meta.index;\n\n      if (oldIndex !== index) {\n        metasets[oldIndex] = metasets[index];\n        metasets[index] = meta;\n        meta.index = index;\n      }\n    }\n  }, {\n    key: \"_updateMetasets\",\n    value: function _updateMetasets() {\n      var me = this;\n      var metasets = me._metasets;\n      var numData = me.data.datasets.length;\n      var numMeta = metasets.length;\n\n      if (numMeta > numData) {\n        for (var i = numData; i < numMeta; ++i) {\n          me._destroyDatasetMeta(i);\n        }\n\n        metasets.splice(numData, numMeta - numData);\n      }\n\n      me._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n  }, {\n    key: \"_removeUnreferencedMetasets\",\n    value: function _removeUnreferencedMetasets() {\n      var me = this;\n      var metasets = me._metasets,\n          datasets = me.data.datasets;\n\n      if (metasets.length > datasets.length) {\n        delete me._stacks;\n      }\n\n      metasets.forEach(function (meta, index) {\n        if (datasets.filter(function (x) {\n          return x === meta._dataset;\n        }).length === 0) {\n          me._destroyDatasetMeta(index);\n        }\n      });\n    }\n  }, {\n    key: \"buildOrUpdateControllers\",\n    value: function buildOrUpdateControllers() {\n      var me = this;\n      var newControllers = [];\n      var datasets = me.data.datasets;\n      var i, ilen;\n\n      me._removeUnreferencedMetasets();\n\n      for (i = 0, ilen = datasets.length; i < ilen; i++) {\n        var dataset = datasets[i];\n        var meta = me.getDatasetMeta(i);\n        var type = dataset.type || me.config.type;\n\n        if (meta.type && meta.type !== type) {\n          me._destroyDatasetMeta(i);\n\n          meta = me.getDatasetMeta(i);\n        }\n\n        meta.type = type;\n        meta.indexAxis = dataset.indexAxis || getIndexAxis(type, me.options);\n        meta.order = dataset.order || 0;\n\n        me._updateMetasetIndex(meta, i);\n\n        meta.label = '' + dataset.label;\n        meta.visible = me.isDatasetVisible(i);\n\n        if (meta.controller) {\n          meta.controller.updateIndex(i);\n          meta.controller.linkScales();\n        } else {\n          var ControllerClass = registry.getController(type);\n          var _defaults$datasets$ty = defaults.datasets[type],\n              datasetElementType = _defaults$datasets$ty.datasetElementType,\n              dataElementType = _defaults$datasets$ty.dataElementType;\n          Object.assign(ControllerClass.prototype, {\n            dataElementType: registry.getElement(dataElementType),\n            datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n          });\n          meta.controller = new ControllerClass(me, i);\n          newControllers.push(meta.controller);\n        }\n      }\n\n      me._updateMetasets();\n\n      return newControllers;\n    }\n  }, {\n    key: \"_resetElements\",\n    value: function _resetElements() {\n      var me = this;\n      each(me.data.datasets, function (dataset, datasetIndex) {\n        me.getDatasetMeta(datasetIndex).controller.reset();\n      }, me);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._resetElements();\n\n      this.notifyPlugins('reset');\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var config = me.config;\n      config.update();\n      me._options = config.createResolver(config.chartOptionScopes(), me.getContext());\n      each(me.scales, function (scale) {\n        layouts.removeBox(me, scale);\n      });\n      var animsDisabled = me._animationsDisabled = !me.options.animation;\n      me.ensureScalesHaveIDs();\n      me.buildOrUpdateScales();\n\n      me._plugins.invalidate();\n\n      if (me.notifyPlugins('beforeUpdate', {\n        mode: mode,\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var newControllers = me.buildOrUpdateControllers();\n      me.notifyPlugins('beforeElementsUpdate');\n      var minPadding = 0;\n\n      for (var i = 0, ilen = me.data.datasets.length; i < ilen; i++) {\n        var _me$getDatasetMeta = me.getDatasetMeta(i),\n            controller = _me$getDatasetMeta.controller;\n\n        var reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n        controller.buildOrUpdateElements(reset);\n        minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n      }\n\n      me._minPadding = minPadding;\n\n      me._updateLayout(minPadding);\n\n      if (!animsDisabled) {\n        each(newControllers, function (controller) {\n          controller.reset();\n        });\n      }\n\n      me._updateDatasets(mode);\n\n      me.notifyPlugins('afterUpdate', {\n        mode: mode\n      });\n\n      me._layers.sort(compare2Level('z', '_idx'));\n\n      if (me._lastEvent) {\n        me._eventHandler(me._lastEvent, true);\n      }\n\n      me.render();\n    }\n  }, {\n    key: \"_updateLayout\",\n    value: function _updateLayout(minPadding) {\n      var me = this;\n\n      if (me.notifyPlugins('beforeLayout', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      layouts.update(me, me.width, me.height, minPadding);\n      var area = me.chartArea;\n      var noArea = area.width <= 0 || area.height <= 0;\n      me._layers = [];\n      each(me.boxes, function (box) {\n        var _me$_layers;\n\n        if (noArea && box.position === 'chartArea') {\n          return;\n        }\n\n        if (box.configure) {\n          box.configure();\n        }\n\n        (_me$_layers = me._layers).push.apply(_me$_layers, _toConsumableArray(box._layers()));\n      }, me);\n\n      me._layers.forEach(function (item, index) {\n        item._idx = index;\n      });\n\n      me.notifyPlugins('afterLayout');\n    }\n  }, {\n    key: \"_updateDatasets\",\n    value: function _updateDatasets(mode) {\n      var me = this;\n      var isFunction = typeof mode === 'function';\n\n      if (me.notifyPlugins('beforeDatasetsUpdate', {\n        mode: mode,\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      for (var i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n        me._updateDataset(i, isFunction ? mode({\n          datasetIndex: i\n        }) : mode);\n      }\n\n      me.notifyPlugins('afterDatasetsUpdate', {\n        mode: mode\n      });\n    }\n  }, {\n    key: \"_updateDataset\",\n    value: function _updateDataset(index, mode) {\n      var me = this;\n      var meta = me.getDatasetMeta(index);\n      var args = {\n        meta: meta,\n        index: index,\n        mode: mode,\n        cancelable: true\n      };\n\n      if (me.notifyPlugins('beforeDatasetUpdate', args) === false) {\n        return;\n      }\n\n      meta.controller._update(mode);\n\n      args.cancelable = false;\n      me.notifyPlugins('afterDatasetUpdate', args);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var me = this;\n\n      if (me.notifyPlugins('beforeRender', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      if (animator.has(me)) {\n        if (me.attached && !animator.running(me)) {\n          animator.start(me);\n        }\n      } else {\n        me.draw();\n        onAnimationsComplete({\n          chart: me\n        });\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n      var i;\n\n      if (me._resizeBeforeDraw) {\n        var _me$_resizeBeforeDraw = me._resizeBeforeDraw,\n            width = _me$_resizeBeforeDraw.width,\n            height = _me$_resizeBeforeDraw.height;\n\n        me._resize(width, height);\n\n        me._resizeBeforeDraw = null;\n      }\n\n      me.clear();\n\n      if (me.width <= 0 || me.height <= 0) {\n        return;\n      }\n\n      if (me.notifyPlugins('beforeDraw', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var layers = me._layers;\n\n      for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n        layers[i].draw(me.chartArea);\n      }\n\n      me._drawDatasets();\n\n      for (; i < layers.length; ++i) {\n        layers[i].draw(me.chartArea);\n      }\n\n      me.notifyPlugins('afterDraw');\n    }\n  }, {\n    key: \"_getSortedDatasetMetas\",\n    value: function _getSortedDatasetMetas(filterVisible) {\n      var me = this;\n      var metasets = me._sortedMetasets;\n      var result = [];\n      var i, ilen;\n\n      for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n        var meta = metasets[i];\n\n        if (!filterVisible || meta.visible) {\n          result.push(meta);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getSortedVisibleDatasetMetas\",\n    value: function getSortedVisibleDatasetMetas() {\n      return this._getSortedDatasetMetas(true);\n    }\n  }, {\n    key: \"_drawDatasets\",\n    value: function _drawDatasets() {\n      var me = this;\n\n      if (me.notifyPlugins('beforeDatasetsDraw', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var metasets = me.getSortedVisibleDatasetMetas();\n\n      for (var i = metasets.length - 1; i >= 0; --i) {\n        me._drawDataset(metasets[i]);\n      }\n\n      me.notifyPlugins('afterDatasetsDraw');\n    }\n  }, {\n    key: \"_drawDataset\",\n    value: function _drawDataset(meta) {\n      var me = this;\n      var ctx = me.ctx;\n      var clip = meta._clip;\n      var area = me.chartArea;\n      var args = {\n        meta: meta,\n        index: meta.index,\n        cancelable: true\n      };\n\n      if (me.notifyPlugins('beforeDatasetDraw', args) === false) {\n        return;\n      }\n\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? me.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? me.height : area.bottom + clip.bottom\n      });\n      meta.controller.draw();\n      unclipArea(ctx);\n      args.cancelable = false;\n      me.notifyPlugins('afterDatasetDraw', args);\n    }\n  }, {\n    key: \"getElementsAtEventForMode\",\n    value: function getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n      var method = Interaction.modes[mode];\n\n      if (typeof method === 'function') {\n        return method(this, e, options, useFinalPosition);\n      }\n\n      return [];\n    }\n  }, {\n    key: \"getDatasetMeta\",\n    value: function getDatasetMeta(datasetIndex) {\n      var me = this;\n      var dataset = me.data.datasets[datasetIndex];\n      var metasets = me._metasets;\n      var meta = metasets.filter(function (x) {\n        return x && x._dataset === dataset;\n      }).pop();\n\n      if (!meta) {\n        meta = metasets[datasetIndex] = {\n          type: null,\n          data: [],\n          dataset: null,\n          controller: null,\n          hidden: null,\n          xAxisID: null,\n          yAxisID: null,\n          order: dataset && dataset.order || 0,\n          index: datasetIndex,\n          _dataset: dataset,\n          _parsed: [],\n          _sorted: false\n        };\n      }\n\n      return meta;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      return this.$context || (this.$context = {\n        chart: this,\n        type: 'chart'\n      });\n    }\n  }, {\n    key: \"getVisibleDatasetCount\",\n    value: function getVisibleDatasetCount() {\n      return this.getSortedVisibleDatasetMetas().length;\n    }\n  }, {\n    key: \"isDatasetVisible\",\n    value: function isDatasetVisible(datasetIndex) {\n      var dataset = this.data.datasets[datasetIndex];\n\n      if (!dataset) {\n        return false;\n      }\n\n      var meta = this.getDatasetMeta(datasetIndex);\n      return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n  }, {\n    key: \"setDatasetVisibility\",\n    value: function setDatasetVisibility(datasetIndex, visible) {\n      var meta = this.getDatasetMeta(datasetIndex);\n      meta.hidden = !visible;\n    }\n  }, {\n    key: \"toggleDataVisibility\",\n    value: function toggleDataVisibility(index) {\n      this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n  }, {\n    key: \"getDataVisibility\",\n    value: function getDataVisibility(index) {\n      return !this._hiddenIndices[index];\n    }\n  }, {\n    key: \"_updateDatasetVisibility\",\n    value: function _updateDatasetVisibility(datasetIndex, visible) {\n      var me = this;\n      var mode = visible ? 'show' : 'hide';\n      var meta = me.getDatasetMeta(datasetIndex);\n\n      var anims = meta.controller._resolveAnimations(undefined, mode);\n\n      me.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {\n        visible: visible\n      });\n      me.update(function (ctx) {\n        return ctx.datasetIndex === datasetIndex ? mode : undefined;\n      });\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(datasetIndex) {\n      this._updateDatasetVisibility(datasetIndex, false);\n    }\n  }, {\n    key: \"show\",\n    value: function show(datasetIndex) {\n      this._updateDatasetVisibility(datasetIndex, true);\n    }\n  }, {\n    key: \"_destroyDatasetMeta\",\n    value: function _destroyDatasetMeta(datasetIndex) {\n      var me = this;\n      var meta = me._metasets && me._metasets[datasetIndex];\n\n      if (meta && meta.controller) {\n        meta.controller._destroy();\n\n        delete me._metasets[datasetIndex];\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var me = this;\n      var canvas = me.canvas,\n          ctx = me.ctx;\n      var i, ilen;\n      me.stop();\n      animator.remove(me);\n\n      for (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n        me._destroyDatasetMeta(i);\n      }\n\n      me.config.clearCache();\n\n      if (canvas) {\n        me.unbindEvents();\n        clearCanvas(canvas, ctx);\n        me.platform.releaseContext(ctx);\n        me.canvas = null;\n        me.ctx = null;\n      }\n\n      me.notifyPlugins('destroy');\n      delete instances[me.id];\n    }\n  }, {\n    key: \"toBase64Image\",\n    value: function toBase64Image() {\n      var _this$canvas;\n\n      return (_this$canvas = this.canvas).toDataURL.apply(_this$canvas, arguments);\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var me = this;\n      var listeners = me._listeners;\n      var platform = me.platform;\n\n      var _add = function _add(type, listener) {\n        platform.addEventListener(me, type, listener);\n        listeners[type] = listener;\n      };\n\n      var _remove = function _remove(type, listener) {\n        if (listeners[type]) {\n          platform.removeEventListener(me, type, listener);\n          delete listeners[type];\n        }\n      };\n\n      var listener = function listener(e, x, y) {\n        e.offsetX = x;\n        e.offsetY = y;\n\n        me._eventHandler(e);\n      };\n\n      each(me.options.events, function (type) {\n        return _add(type, listener);\n      });\n\n      if (me.options.responsive) {\n        listener = function listener(width, height) {\n          if (me.canvas) {\n            me.resize(width, height);\n          }\n        };\n\n        var detached;\n\n        var attached = function attached() {\n          _remove('attach', attached);\n\n          me.attached = true;\n          me.resize();\n\n          _add('resize', listener);\n\n          _add('detach', detached);\n        };\n\n        detached = function detached() {\n          me.attached = false;\n\n          _remove('resize', listener);\n\n          _add('attach', attached);\n        };\n\n        if (platform.isAttached(me.canvas)) {\n          attached();\n        } else {\n          detached();\n        }\n      } else {\n        me.attached = true;\n      }\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      var me = this;\n      var listeners = me._listeners;\n\n      if (!listeners) {\n        return;\n      }\n\n      delete me._listeners;\n      each(listeners, function (listener, type) {\n        me.platform.removeEventListener(me, type, listener);\n      });\n    }\n  }, {\n    key: \"updateHoverStyle\",\n    value: function updateHoverStyle(items, mode, enabled) {\n      var prefix = enabled ? 'set' : 'remove';\n      var meta, item, i, ilen;\n\n      if (mode === 'dataset') {\n        meta = this.getDatasetMeta(items[0].datasetIndex);\n        meta.controller['_' + prefix + 'DatasetHoverStyle']();\n      }\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        item = items[i];\n        var controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n\n        if (controller) {\n          controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n        }\n      }\n    }\n  }, {\n    key: \"getActiveElements\",\n    value: function getActiveElements() {\n      return this._active || [];\n    }\n  }, {\n    key: \"setActiveElements\",\n    value: function setActiveElements(activeElements) {\n      var me = this;\n      var lastActive = me._active || [];\n      var active = activeElements.map(function (_ref) {\n        var datasetIndex = _ref.datasetIndex,\n            index = _ref.index;\n        var meta = me.getDatasetMeta(datasetIndex);\n\n        if (!meta) {\n          throw new Error('No dataset found at index ' + datasetIndex);\n        }\n\n        return {\n          datasetIndex: datasetIndex,\n          element: meta.data[index],\n          index: index\n        };\n      });\n      var changed = !_elementsEqual(active, lastActive);\n\n      if (changed) {\n        me._active = active;\n\n        me._updateHoverStyles(active, lastActive);\n      }\n    }\n  }, {\n    key: \"notifyPlugins\",\n    value: function notifyPlugins(hook, args, filter) {\n      return this._plugins.notify(this, hook, args, filter);\n    }\n  }, {\n    key: \"_updateHoverStyles\",\n    value: function _updateHoverStyles(active, lastActive, replay) {\n      var me = this;\n      var hoverOptions = me.options.hover;\n\n      var diff = function diff(a, b) {\n        return a.filter(function (x) {\n          return !b.some(function (y) {\n            return x.datasetIndex === y.datasetIndex && x.index === y.index;\n          });\n        });\n      };\n\n      var deactivated = diff(lastActive, active);\n      var activated = replay ? active : diff(active, lastActive);\n\n      if (deactivated.length) {\n        me.updateHoverStyle(deactivated, hoverOptions.mode, false);\n      }\n\n      if (activated.length && hoverOptions.mode) {\n        me.updateHoverStyle(activated, hoverOptions.mode, true);\n      }\n    }\n  }, {\n    key: \"_eventHandler\",\n    value: function _eventHandler(e, replay) {\n      var _this6 = this;\n\n      var me = this;\n      var args = {\n        event: e,\n        replay: replay,\n        cancelable: true\n      };\n\n      var eventFilter = function eventFilter(plugin) {\n        return (plugin.options.events || _this6.options.events).includes(e.type);\n      };\n\n      if (me.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n        return;\n      }\n\n      var changed = me._handleEvent(e, replay);\n\n      args.cancelable = false;\n      me.notifyPlugins('afterEvent', args, eventFilter);\n\n      if (changed || args.changed) {\n        me.render();\n      }\n\n      return me;\n    }\n  }, {\n    key: \"_handleEvent\",\n    value: function _handleEvent(e, replay) {\n      var me = this;\n      var _me$_active = me._active,\n          lastActive = _me$_active === void 0 ? [] : _me$_active,\n          options = me.options;\n      var hoverOptions = options.hover;\n      var useFinalPosition = replay;\n      var active = [];\n      var changed = false;\n      var lastEvent = null;\n\n      if (e.type !== 'mouseout') {\n        active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n        lastEvent = e.type === 'click' ? me._lastEvent : e;\n      }\n\n      me._lastEvent = null;\n\n      if (_isPointInArea(e, me.chartArea, me._minPadding)) {\n        callback(options.onHover, [e, active, me], me);\n\n        if (e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu') {\n          callback(options.onClick, [e, active, me], me);\n        }\n      }\n\n      changed = !_elementsEqual(active, lastActive);\n\n      if (changed || replay) {\n        me._active = active;\n\n        me._updateHoverStyles(active, lastActive, replay);\n      }\n\n      me._lastEvent = lastEvent;\n      return changed;\n    }\n  }]);\n\n  return Chart;\n}();\n\nvar invalidatePlugins = function invalidatePlugins() {\n  return each(Chart.instances, function (chart) {\n    return chart._plugins.invalidate();\n  });\n};\n\nvar enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable: enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable: enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable: enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable: enumerable,\n    value: registry\n  },\n  version: {\n    enumerable: enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable: enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable: enumerable,\n    value: function value() {\n      registry.add.apply(registry, arguments);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable: enumerable,\n    value: function value() {\n      registry.remove.apply(registry, arguments);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element) {\n  var startAngle = element.startAngle,\n      endAngle = element.endAngle,\n      pixelMargin = element.pixelMargin,\n      x = element.x,\n      y = element.y,\n      outerRadius = element.outerRadius,\n      innerRadius = element.innerRadius;\n  var angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  var o = toRadiusCorners(arc.options.borderRadius);\n  var halfThickness = (outerRadius - innerRadius) / 2;\n  var innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  var computeOuterLimit = function computeOuterLimit(val) {\n    var outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n  };\n}\n\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta)\n  };\n}\n\nfunction pathArc(ctx, element) {\n  var x = element.x,\n      y = element.y,\n      startAngle = element.startAngle,\n      endAngle = element.endAngle,\n      pixelMargin = element.pixelMargin;\n  var outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  var innerRadius = element.innerRadius + pixelMargin;\n\n  var _parseBorderRadius$ = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle),\n      outerStart = _parseBorderRadius$.outerStart,\n      outerEnd = _parseBorderRadius$.outerEnd,\n      innerStart = _parseBorderRadius$.innerStart,\n      innerEnd = _parseBorderRadius$.innerEnd;\n\n  var outerStartAdjustedRadius = outerRadius - outerStart;\n  var outerEndAdjustedRadius = outerRadius - outerEnd;\n  var outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  var outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  var innerStartAdjustedRadius = innerRadius + innerStart;\n  var innerEndAdjustedRadius = innerRadius + innerEnd;\n  var innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  var innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n\n  if (outerEnd > 0) {\n    var pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n\n  var p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n\n  if (innerEnd > 0) {\n    var _pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter.x, _pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n\n  ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, startAngle + innerStart / innerRadius, true);\n\n  if (innerStart > 0) {\n    var _pCenter2 = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter2.x, _pCenter2.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n\n  var p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n\n  if (outerStart > 0) {\n    var _pCenter3 = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter3.x, _pCenter3.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(ctx, element) {\n  if (element.fullCircles) {\n    element.endAngle = element.startAngle + TAU;\n    pathArc(ctx, element);\n\n    for (var i = 0; i < element.fullCircles; ++i) {\n      ctx.fill();\n    }\n  }\n\n  if (!isNaN(element.circumference)) {\n    element.endAngle = element.startAngle + element.circumference % TAU;\n  }\n\n  pathArc(ctx, element);\n  ctx.fill();\n}\n\nfunction drawFullCircleBorders(ctx, element, inner) {\n  var x = element.x,\n      y = element.y,\n      startAngle = element.startAngle,\n      endAngle = element.endAngle,\n      pixelMargin = element.pixelMargin;\n  var outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  var innerRadius = element.innerRadius + pixelMargin;\n  var i;\n\n  if (inner) {\n    element.endAngle = element.startAngle + TAU;\n    clipArc(ctx, element);\n    element.endAngle = endAngle;\n\n    if (element.endAngle === element.startAngle) {\n      element.endAngle += TAU;\n      element.fullCircles--;\n    }\n  }\n\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n\n  for (i = 0; i < element.fullCircles; ++i) {\n    ctx.stroke();\n  }\n\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n\n  for (i = 0; i < element.fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\n\nfunction drawBorder(ctx, element) {\n  var options = element.options;\n  var inner = options.borderAlign === 'inner';\n\n  if (!options.borderWidth) {\n    return;\n  }\n\n  if (inner) {\n    ctx.lineWidth = options.borderWidth * 2;\n    ctx.lineJoin = 'round';\n  } else {\n    ctx.lineWidth = options.borderWidth;\n    ctx.lineJoin = 'bevel';\n  }\n\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n\n  if (inner) {\n    clipArc(ctx, element);\n  }\n\n  pathArc(ctx, element);\n  ctx.stroke();\n}\n\nvar ArcElement = /*#__PURE__*/function (_Element2) {\n  _inherits(ArcElement, _Element2);\n\n  var _super12 = _createSuper(ArcElement);\n\n  function ArcElement(cfg) {\n    var _this7;\n\n    _classCallCheck(this, ArcElement);\n\n    _this7 = _super12.call(this);\n    _this7.options = undefined;\n    _this7.circumference = undefined;\n    _this7.startAngle = undefined;\n    _this7.endAngle = undefined;\n    _this7.innerRadius = undefined;\n    _this7.outerRadius = undefined;\n    _this7.pixelMargin = 0;\n    _this7.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this7), cfg);\n    }\n\n    return _this7;\n  }\n\n  _createClass(ArcElement, [{\n    key: \"inRange\",\n    value: function inRange(chartX, chartY, useFinalPosition) {\n      var point = this.getProps(['x', 'y'], useFinalPosition);\n\n      var _getAngleFromPoint = getAngleFromPoint(point, {\n        x: chartX,\n        y: chartY\n      }),\n          angle = _getAngleFromPoint.angle,\n          distance = _getAngleFromPoint.distance;\n\n      var _this$getProps2 = this.getProps(['startAngle', 'endAngle', 'innerRadius', 'outerRadius', 'circumference'], useFinalPosition),\n          startAngle = _this$getProps2.startAngle,\n          endAngle = _this$getProps2.endAngle,\n          innerRadius = _this$getProps2.innerRadius,\n          outerRadius = _this$getProps2.outerRadius,\n          circumference = _this$getProps2.circumference;\n\n      var betweenAngles = circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n\n      var withinRadius = distance >= innerRadius && distance <= outerRadius;\n      return betweenAngles && withinRadius;\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps3 = this.getProps(['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius'], useFinalPosition),\n          x = _this$getProps3.x,\n          y = _this$getProps3.y,\n          startAngle = _this$getProps3.startAngle,\n          endAngle = _this$getProps3.endAngle,\n          innerRadius = _this$getProps3.innerRadius,\n          outerRadius = _this$getProps3.outerRadius;\n\n      var halfAngle = (startAngle + endAngle) / 2;\n      var halfRadius = (innerRadius + outerRadius) / 2;\n      return {\n        x: x + Math.cos(halfAngle) * halfRadius,\n        y: y + Math.sin(halfAngle) * halfRadius\n      };\n    }\n  }, {\n    key: \"tooltipPosition\",\n    value: function tooltipPosition(useFinalPosition) {\n      return this.getCenterPoint(useFinalPosition);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var me = this;\n      var options = me.options;\n      var offset = options.offset || 0;\n      me.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n      me.fullCircles = Math.floor(me.circumference / TAU);\n\n      if (me.circumference === 0 || me.innerRadius < 0 || me.outerRadius < 0) {\n        return;\n      }\n\n      ctx.save();\n\n      if (offset && me.circumference < TAU) {\n        var halfAngle = (me.startAngle + me.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n      }\n\n      ctx.fillStyle = options.backgroundColor;\n      ctx.strokeStyle = options.borderColor;\n      drawArc(ctx, me);\n      drawBorder(ctx, me);\n      ctx.restore();\n    }\n  }]);\n\n  return ArcElement;\n}(Element);\n\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  angle: undefined\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options) {\n  var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : options;\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension) {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment) {\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var count = points.length;\n  var _params$start = params.start,\n      paramsStart = _params$start === void 0 ? 0 : _params$start,\n      _params$end = params.end,\n      paramsEnd = _params$end === void 0 ? count - 1 : _params$end;\n  var segmentStart = segment.start,\n      segmentEnd = segment.end;\n  var start = Math.max(paramsStart, segmentStart);\n  var end = Math.min(paramsEnd, segmentEnd);\n  var outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count: count,\n    start: start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\nfunction pathSegment(ctx, line, segment, params) {\n  var points = line.points,\n      options = line.options;\n\n  var _pathVars = pathVars(points, segment, params),\n      count = _pathVars.count,\n      start = _pathVars.start,\n      loop = _pathVars.loop,\n      ilen = _pathVars.ilen;\n\n  var lineMethod = getLineMethod(options);\n\n  var _ref2 = params || {},\n      _ref2$move = _ref2.move,\n      move = _ref2$move === void 0 ? true : _ref2$move,\n      reverse = _ref2.reverse;\n\n  var i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\nfunction fastPathSegment(ctx, line, segment, params) {\n  var points = line.points;\n\n  var _pathVars2 = pathVars(points, segment, params),\n      count = _pathVars2.count,\n      start = _pathVars2.start,\n      ilen = _pathVars2.ilen;\n\n  var _ref3 = params || {},\n      _ref3$move = _ref3.move,\n      move = _ref3$move === void 0 ? true : _ref3$move,\n      reverse = _ref3.reverse;\n\n  var avgX = 0;\n  var countX = 0;\n  var i, point, prevX, minY, maxY, lastY;\n\n  var pointIndex = function pointIndex(index) {\n    return (start + (reverse ? ilen - index : index)) % count;\n  };\n\n  var drawX = function drawX() {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      continue;\n    }\n\n    var x = point.x;\n    var y = point.y;\n    var truncX = x | 0;\n\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n\n    lastY = y;\n  }\n\n  drawX();\n}\n\nfunction _getSegmentMethod(line) {\n  var opts = line.options;\n  var borderDash = opts.borderDash && opts.borderDash.length;\n  var useFastPath = !line._decimated && !line._loop && !opts.tension && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension) {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  var path = line._path;\n\n  if (!path) {\n    path = line._path = new Path2D();\n\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  var segments = line.segments,\n      options = line.options;\n\n  var segmentMethod = _getSegmentMethod(line);\n\n  var _iterator6 = _createForOfIteratorHelper(segments),\n      _step6;\n\n  try {\n    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n      var segment = _step6.value;\n      setStyle(ctx, options, segment.style);\n      ctx.beginPath();\n\n      if (segmentMethod(ctx, line, segment, {\n        start: start,\n        end: start + count - 1\n      })) {\n        ctx.closePath();\n      }\n\n      ctx.stroke();\n    }\n  } catch (err) {\n    _iterator6.e(err);\n  } finally {\n    _iterator6.f();\n  }\n}\n\nvar usePath2D = typeof Path2D === 'function';\n\nfunction _draw(ctx, line, start, count) {\n  if (usePath2D && line.segments.length === 1) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nvar LineElement = /*#__PURE__*/function (_Element3) {\n  _inherits(LineElement, _Element3);\n\n  var _super13 = _createSuper(LineElement);\n\n  function LineElement(cfg) {\n    var _this8;\n\n    _classCallCheck(this, LineElement);\n\n    _this8 = _super13.call(this);\n    _this8.animated = true;\n    _this8.options = undefined;\n    _this8._loop = undefined;\n    _this8._fullLoop = undefined;\n    _this8._path = undefined;\n    _this8._points = undefined;\n    _this8._segments = undefined;\n    _this8._decimated = false;\n    _this8._pointsUpdated = false;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this8), cfg);\n    }\n\n    return _this8;\n  }\n\n  _createClass(LineElement, [{\n    key: \"updateControlPoints\",\n    value: function updateControlPoints(chartArea) {\n      var me = this;\n      var options = me.options;\n\n      if (options.tension && !options.stepped && !me._pointsUpdated) {\n        var loop = options.spanGaps ? me._loop : me._fullLoop;\n\n        _updateBezierControlPoints(me._points, options, chartArea, loop);\n\n        me._pointsUpdated = true;\n      }\n    }\n  }, {\n    key: \"points\",\n    get: function get() {\n      return this._points;\n    },\n    set: function set(points) {\n      var me = this;\n      me._points = points;\n      delete me._segments;\n      delete me._path;\n      me._pointsUpdated = false;\n    }\n  }, {\n    key: \"segments\",\n    get: function get() {\n      return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      var segments = this.segments;\n      var points = this.points;\n      return segments.length && points[segments[0].start];\n    }\n  }, {\n    key: \"last\",\n    value: function last() {\n      var segments = this.segments;\n      var points = this.points;\n      var count = segments.length;\n      return count && points[segments[count - 1].end];\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(point, property) {\n      var me = this;\n      var options = me.options;\n      var value = point[property];\n      var points = me.points;\n\n      var segments = _boundSegments(me, {\n        property: property,\n        start: value,\n        end: value\n      });\n\n      if (!segments.length) {\n        return;\n      }\n\n      var result = [];\n\n      var _interpolate = _getInterpolationMethod(options);\n\n      var i, ilen;\n\n      for (i = 0, ilen = segments.length; i < ilen; ++i) {\n        var _segments$i = segments[i],\n            start = _segments$i.start,\n            end = _segments$i.end;\n        var p1 = points[start];\n        var p2 = points[end];\n\n        if (p1 === p2) {\n          result.push(p1);\n          continue;\n        }\n\n        var t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n\n        var interpolated = _interpolate(p1, p2, t, options.stepped);\n\n        interpolated[property] = point[property];\n        result.push(interpolated);\n      }\n\n      return result.length === 1 ? result[0] : result;\n    }\n  }, {\n    key: \"pathSegment\",\n    value: function pathSegment(ctx, segment, params) {\n      var segmentMethod = _getSegmentMethod(this);\n\n      return segmentMethod(ctx, this, segment, params);\n    }\n  }, {\n    key: \"path\",\n    value: function path(ctx, start, count) {\n      var me = this;\n      var segments = me.segments;\n\n      var segmentMethod = _getSegmentMethod(me);\n\n      var loop = me._loop;\n      start = start || 0;\n      count = count || me.points.length - start;\n\n      var _iterator7 = _createForOfIteratorHelper(segments),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var segment = _step7.value;\n          loop &= segmentMethod(ctx, me, segment, {\n            start: start,\n            end: start + count - 1\n          });\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      return !!loop;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx, chartArea, start, count) {\n      var me = this;\n      var options = me.options || {};\n      var points = me.points || [];\n\n      if (!points.length || !options.borderWidth) {\n        return;\n      }\n\n      ctx.save();\n\n      _draw(ctx, me, start, count);\n\n      ctx.restore();\n\n      if (me.animated) {\n        me._pointsUpdated = false;\n        me._path = undefined;\n      }\n    }\n  }]);\n\n  return LineElement;\n}(Element);\n\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: function _indexable(name) {\n    return name !== 'borderDash' && name !== 'fill';\n  }\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  var options = el.options;\n\n  var _el$getProps = el.getProps([axis], useFinalPosition),\n      value = _el$getProps[axis];\n\n  return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\n\nvar PointElement = /*#__PURE__*/function (_Element4) {\n  _inherits(PointElement, _Element4);\n\n  var _super14 = _createSuper(PointElement);\n\n  function PointElement(cfg) {\n    var _this9;\n\n    _classCallCheck(this, PointElement);\n\n    _this9 = _super14.call(this);\n    _this9.options = undefined;\n    _this9.parsed = undefined;\n    _this9.skip = undefined;\n    _this9.stop = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this9), cfg);\n    }\n\n    return _this9;\n  }\n\n  _createClass(PointElement, [{\n    key: \"inRange\",\n    value: function inRange(mouseX, mouseY, useFinalPosition) {\n      var options = this.options;\n\n      var _this$getProps4 = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps4.x,\n          y = _this$getProps4.y;\n\n      return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n  }, {\n    key: \"inXRange\",\n    value: function inXRange(mouseX, useFinalPosition) {\n      return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n  }, {\n    key: \"inYRange\",\n    value: function inYRange(mouseY, useFinalPosition) {\n      return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps5 = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps5.x,\n          y = _this$getProps5.y;\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"size\",\n    value: function size(options) {\n      options = options || this.options || {};\n      var radius = options.radius || 0;\n      radius = Math.max(radius, radius && options.hoverRadius || 0);\n      var borderWidth = radius && options.borderWidth || 0;\n      return (radius + borderWidth) * 2;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var me = this;\n      var options = me.options;\n\n      if (me.skip || options.radius < 0.1) {\n        return;\n      }\n\n      ctx.strokeStyle = options.borderColor;\n      ctx.lineWidth = options.borderWidth;\n      ctx.fillStyle = options.backgroundColor;\n      drawPoint(ctx, options, me.x, me.y);\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange() {\n      var options = this.options || {};\n      return options.radius + options.hitRadius;\n    }\n  }]);\n\n  return PointElement;\n}(Element);\n\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  var _bar$getProps = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition),\n      x = _bar$getProps.x,\n      y = _bar$getProps.y,\n      base = _bar$getProps.base,\n      width = _bar$getProps.width,\n      height = _bar$getProps.height;\n\n  var left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n}\n\nfunction parseBorderSkipped(bar) {\n  var edge = bar.options.borderSkipped;\n  var res = {};\n\n  if (!edge) {\n    return res;\n  }\n\n  edge = bar.horizontal ? parseEdge(edge, 'left', 'right', bar.base > bar.x) : parseEdge(edge, 'bottom', 'top', bar.base < bar.y);\n  res[edge] = true;\n  return res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : Math.max(Math.min(value, max), min);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  var value = bar.options.borderWidth;\n  var skip = parseBorderSkipped(bar);\n  var o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  var value = bar.options.borderRadius;\n  var o = toTRBLCorners(value);\n  var maxR = Math.min(maxW, maxH);\n  var skip = parseBorderSkipped(bar);\n  return {\n    topLeft: skipOrLimit(skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  var bounds = getBarBounds(bar);\n  var width = bounds.right - bounds.left;\n  var height = bounds.bottom - bounds.top;\n  var border = parseBorderWidth(bar, width / 2, height / 2);\n  var radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius: radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n      }\n    }\n  };\n}\n\nfunction _inRange(bar, x, y, useFinalPosition) {\n  var skipX = x === null;\n  var skipY = y === null;\n  var skipBoth = skipX && skipY;\n  var bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds && (skipX || x >= bounds.left && x <= bounds.right) && (skipY || y >= bounds.top && y <= bounds.bottom);\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nvar BarElement = /*#__PURE__*/function (_Element5) {\n  _inherits(BarElement, _Element5);\n\n  var _super15 = _createSuper(BarElement);\n\n  function BarElement(cfg) {\n    var _this10;\n\n    _classCallCheck(this, BarElement);\n\n    _this10 = _super15.call(this);\n    _this10.options = undefined;\n    _this10.horizontal = undefined;\n    _this10.base = undefined;\n    _this10.width = undefined;\n    _this10.height = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this10), cfg);\n    }\n\n    return _this10;\n  }\n\n  _createClass(BarElement, [{\n    key: \"draw\",\n    value: function draw(ctx) {\n      var options = this.options;\n\n      var _boundingRects = boundingRects(this),\n          inner = _boundingRects.inner,\n          outer = _boundingRects.outer;\n\n      var addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n      ctx.save();\n\n      if (outer.w !== inner.w || outer.h !== inner.h) {\n        ctx.beginPath();\n        addRectPath(ctx, outer);\n        ctx.clip();\n        addRectPath(ctx, inner);\n        ctx.fillStyle = options.borderColor;\n        ctx.fill('evenodd');\n      }\n\n      ctx.beginPath();\n      addRectPath(ctx, inner);\n      ctx.fillStyle = options.backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }, {\n    key: \"inRange\",\n    value: function inRange(mouseX, mouseY, useFinalPosition) {\n      return _inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n  }, {\n    key: \"inXRange\",\n    value: function inXRange(mouseX, useFinalPosition) {\n      return _inRange(this, mouseX, null, useFinalPosition);\n    }\n  }, {\n    key: \"inYRange\",\n    value: function inYRange(mouseY, useFinalPosition) {\n      return _inRange(this, null, mouseY, useFinalPosition);\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps6 = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition),\n          x = _this$getProps6.x,\n          y = _this$getProps6.y,\n          base = _this$getProps6.base,\n          horizontal = _this$getProps6.horizontal;\n\n      return {\n        x: horizontal ? (x + base) / 2 : x,\n        y: horizontal ? y : (y + base) / 2\n      };\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange(axis) {\n      return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n  }]);\n\n  return BarElement;\n}(Element);\n\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nvar elements = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ArcElement: ArcElement,\n  LineElement: LineElement,\n  PointElement: PointElement,\n  BarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  var samples = options.samples || availableWidth;\n\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n\n  var decimated = [];\n  var bucketWidth = (count - 2) / (samples - 2);\n  var sampledIndex = 0;\n  var endIndex = start + count - 1;\n  var a = start;\n  var i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n\n  for (i = 0; i < samples - 2; i++) {\n    var avgX = 0;\n    var avgY = 0;\n    var j = void 0;\n    var avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    var avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    var avgRangeLength = avgRangeEnd - avgRangeStart;\n\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    var rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    var rangeTo = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    var _data$a = data[a],\n        pointAx = _data$a.x,\n        pointAy = _data$a.y;\n    maxArea = area = -1;\n\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\n\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  var avgX = 0;\n  var countX = 0;\n  var i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  var decimated = [];\n  var endIndex = start + count - 1;\n  var xMin = data[start].x;\n  var xMax = data[endIndex].x;\n  var dx = xMax - xMin;\n\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    var truncX = x | 0;\n\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      var lastIndex = i - 1;\n\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        var intermediateIndex1 = Math.min(minIndex, maxIndex);\n        var intermediateIndex2 = Math.max(minIndex, maxIndex);\n\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push(_objectSpread(_objectSpread({}, data[intermediateIndex1]), {}, {\n            x: avgX\n          }));\n        }\n\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push(_objectSpread(_objectSpread({}, data[intermediateIndex2]), {}, {\n            x: avgX\n          }));\n        }\n      }\n\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n\n  return decimated;\n}\n\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    var data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {\n      value: data\n    });\n  }\n}\n\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach(function (dataset) {\n    cleanDecimatedDataset(dataset);\n  });\n}\n\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  var pointCount = points.length;\n  var start = 0;\n  var count;\n  var iScale = meta.iScale;\n\n  var _iScale$getUserBounds2 = iScale.getUserBounds(),\n      min = _iScale$getUserBounds2.min,\n      max = _iScale$getUserBounds2.max,\n      minDefined = _iScale$getUserBounds2.minDefined,\n      maxDefined = _iScale$getUserBounds2.maxDefined;\n\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n\n  return {\n    start: start,\n    count: count\n  };\n}\n\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false\n  },\n  beforeElementsUpdate: function beforeElementsUpdate(chart, args, options) {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n\n    var availableWidth = chart.width;\n    chart.data.datasets.forEach(function (dataset, datasetIndex) {\n      var _data = dataset._data,\n          indexAxis = dataset.indexAxis;\n      var meta = chart.getDatasetMeta(datasetIndex);\n      var data = _data || dataset.data;\n\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n\n      if (meta.type !== 'line') {\n        return;\n      }\n\n      var xAxis = chart.scales[meta.xAxisID];\n\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n\n      if (chart.options.parsing) {\n        return;\n      }\n\n      var _getStartAndCountOfVi2 = getStartAndCountOfVisiblePointsSimplified(meta, data),\n          start = _getStartAndCountOfVi2.start,\n          count = _getStartAndCountOfVi2.count;\n\n      if (count <= 4 * availableWidth) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            return this._decimated;\n          },\n          set: function set(d) {\n            this._data = d;\n          }\n        });\n      }\n\n      var decimated;\n\n      switch (options.algorithm) {\n        case 'lttb':\n          decimated = lttbDecimation(data, start, count, availableWidth, options);\n          break;\n\n        case 'min-max':\n          decimated = minMaxDecimation(data, start, count, availableWidth);\n          break;\n\n        default:\n          throw new Error(\"Unsupported decimation algorithm '\".concat(options.algorithm, \"'\"));\n      }\n\n      dataset._decimated = decimated;\n    });\n  },\n  destroy: function destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  var meta = chart.getDatasetMeta(index);\n  var visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\n\nfunction parseFillOption(line) {\n  var options = line.options;\n  var fillOption = options.fill;\n  var fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n\n  if (fill === false || fill === null) {\n    return false;\n  }\n\n  if (fill === true) {\n    return 'origin';\n  }\n\n  return fill;\n}\n\nfunction decodeFill(line, index, count) {\n  var fill = parseFillOption(line);\n\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n\n  var target = parseFloat(fill);\n\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n\n    return target;\n  }\n\n  return ['origin', 'start', 'end', 'stack'].indexOf(fill) >= 0 && fill;\n}\n\nfunction computeLinearBoundary(source) {\n  var _source$scale = source.scale,\n      scale = _source$scale === void 0 ? {} : _source$scale,\n      fill = source.fill;\n  var target = null;\n  var horizontal;\n\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n\n  return null;\n}\n\nvar simpleArc = /*#__PURE__*/function () {\n  function simpleArc(opts) {\n    _classCallCheck(this, simpleArc);\n\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n\n  _createClass(simpleArc, [{\n    key: \"pathSegment\",\n    value: function pathSegment(ctx, bounds, opts) {\n      var x = this.x,\n          y = this.y,\n          radius = this.radius;\n      bounds = bounds || {\n        start: 0,\n        end: TAU\n      };\n      ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n      return !opts.bounds;\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(point) {\n      var x = this.x,\n          y = this.y,\n          radius = this.radius;\n      var angle = point.angle;\n      return {\n        x: x + Math.cos(angle) * radius,\n        y: y + Math.sin(angle) * radius,\n        angle: angle\n      };\n    }\n  }]);\n\n  return simpleArc;\n}();\n\nfunction computeCircularBoundary(source) {\n  var scale = source.scale,\n      fill = source.fill;\n  var options = scale.options;\n  var length = scale.getLabels().length;\n  var target = [];\n  var start = options.reverse ? scale.max : scale.min;\n  var end = options.reverse ? scale.min : scale.max;\n  var i, center, value;\n\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n\n  return target;\n}\n\nfunction computeBoundary(source) {\n  var scale = source.scale || {};\n\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n\n  return computeLinearBoundary(source);\n}\n\nfunction pointsFromSegments(boundary, line) {\n  var _ref4 = boundary || {},\n      _ref4$x = _ref4.x,\n      x = _ref4$x === void 0 ? null : _ref4$x,\n      _ref4$y = _ref4.y,\n      y = _ref4$y === void 0 ? null : _ref4$y;\n\n  var linePoints = line.points;\n  var points = [];\n  line.segments.forEach(function (segment) {\n    var first = linePoints[segment.start];\n    var last = linePoints[segment.end];\n\n    if (y !== null) {\n      points.push({\n        x: first.x,\n        y: y\n      });\n      points.push({\n        x: last.x,\n        y: y\n      });\n    } else if (x !== null) {\n      points.push({\n        x: x,\n        y: first.y\n      });\n      points.push({\n        x: x,\n        y: last.y\n      });\n    }\n  });\n  return points;\n}\n\nfunction buildStackLine(source) {\n  var chart = source.chart,\n      scale = source.scale,\n      index = source.index,\n      line = source.line;\n  var points = [];\n  var segments = line.segments;\n  var sourcePoints = line.points;\n  var linesBelow = getLinesBelow(chart, index);\n  linesBelow.push(createBoundaryLine({\n    x: null,\n    y: scale.bottom\n  }, line));\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n\n    for (var j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n\n  return new LineElement({\n    points: points,\n    options: {}\n  });\n}\n\nvar isLineAndNotInHideAnimation = function isLineAndNotInHideAnimation(meta) {\n  return meta.type === 'line' && !meta.hidden;\n};\n\nfunction getLinesBelow(chart, index) {\n  var below = [];\n  var metas = chart.getSortedVisibleDatasetMetas();\n\n  for (var i = 0; i < metas.length; i++) {\n    var meta = metas[i];\n\n    if (meta.index === index) {\n      break;\n    }\n\n    if (isLineAndNotInHideAnimation(meta)) {\n      below.unshift(meta.dataset);\n    }\n  }\n\n  return below;\n}\n\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  var postponed = [];\n\n  for (var j = 0; j < linesBelow.length; j++) {\n    var line = linesBelow[j];\n\n    var _findPoint = findPoint(line, sourcePoint, 'x'),\n        first = _findPoint.first,\n        last = _findPoint.last,\n        point = _findPoint.point;\n\n    if (!point || first && last) {\n      continue;\n    }\n\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n\n      if (!last) {\n        break;\n      }\n    }\n  }\n\n  points.push.apply(points, postponed);\n}\n\nfunction findPoint(line, sourcePoint, property) {\n  var point = line.interpolate(sourcePoint, property);\n\n  if (!point) {\n    return {};\n  }\n\n  var pointValue = point[property];\n  var segments = line.segments;\n  var linePoints = line.points;\n  var first = false;\n  var last = false;\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    var firstValue = linePoints[segment.start][property];\n    var lastValue = linePoints[segment.end][property];\n\n    if (pointValue >= firstValue && pointValue <= lastValue) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n\n  return {\n    first: first,\n    last: last,\n    point: point\n  };\n}\n\nfunction getTarget(source) {\n  var chart = source.chart,\n      fill = source.fill,\n      line = source.line;\n\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n\n  var boundary = computeBoundary(source);\n\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n\n  return createBoundaryLine(boundary, line);\n}\n\nfunction createBoundaryLine(boundary, line) {\n  var points = [];\n  var _loop = false;\n\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n\n  return points.length ? new LineElement({\n    points: points,\n    options: {\n      tension: 0\n    },\n    _loop: _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nfunction resolveTarget(sources, index, propagate) {\n  var source = sources[index];\n  var fill = source.fill;\n  var visited = [index];\n  var target;\n\n  if (!propagate) {\n    return fill;\n  }\n\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n\n    target = sources[fill];\n\n    if (!target) {\n      return false;\n    }\n\n    if (target.visible) {\n      return fill;\n    }\n\n    visited.push(fill);\n    fill = target.fill;\n  }\n\n  return false;\n}\n\nfunction _clip(ctx, target, clipY) {\n  ctx.beginPath();\n  target.path(ctx);\n  ctx.lineTo(target.last().x, clipY);\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n\n  var start = first[property];\n  var end = last[property];\n\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n\n  return {\n    property: property,\n    start: start,\n    end: end\n  };\n}\n\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _segments(line, target, property) {\n  var segments = line.segments;\n  var points = line.points;\n  var tpoints = target.points;\n  var parts = [];\n\n  var _iterator8 = _createForOfIteratorHelper(segments),\n      _step8;\n\n  try {\n    for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n      var segment = _step8.value;\n      var bounds = getBounds(property, points[segment.start], points[segment.end], segment.loop);\n\n      if (!target.segments) {\n        parts.push({\n          source: segment,\n          target: bounds,\n          start: points[segment.start],\n          end: points[segment.end]\n        });\n        continue;\n      }\n\n      var targetSegments = _boundSegments(target, bounds);\n\n      var _iterator9 = _createForOfIteratorHelper(targetSegments),\n          _step9;\n\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var tgt = _step9.value;\n          var subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n\n          var fillSources = _boundSegment(segment, points, subBounds);\n\n          var _iterator10 = _createForOfIteratorHelper(fillSources),\n              _step10;\n\n          try {\n            for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n              var fillSource = _step10.value;\n              parts.push({\n                source: fillSource,\n                target: tgt,\n                start: _defineProperty({}, property, _getEdge(bounds, subBounds, 'start', Math.max)),\n                end: _defineProperty({}, property, _getEdge(bounds, subBounds, 'end', Math.min))\n              });\n            }\n          } catch (err) {\n            _iterator10.e(err);\n          } finally {\n            _iterator10.f();\n          }\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n    }\n  } catch (err) {\n    _iterator8.e(err);\n  } finally {\n    _iterator8.f();\n  }\n\n  return parts;\n}\n\nfunction clipBounds(ctx, scale, bounds) {\n  var _scale$chart$chartAre = scale.chart.chartArea,\n      top = _scale$chart$chartAre.top,\n      bottom = _scale$chart$chartAre.bottom;\n\n  var _ref5 = bounds || {},\n      property = _ref5.property,\n      start = _ref5.start,\n      end = _ref5.end;\n\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\n\nfunction interpolatedLineTo(ctx, target, point, property) {\n  var interpolatedPoint = target.interpolate(point, property);\n\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\nfunction _fill(ctx, cfg) {\n  var line = cfg.line,\n      target = cfg.target,\n      property = cfg.property,\n      color = cfg.color,\n      scale = cfg.scale;\n\n  var segments = _segments(line, target, property);\n\n  var _iterator11 = _createForOfIteratorHelper(segments),\n      _step11;\n\n  try {\n    for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n      var _step11$value = _step11.value,\n          src = _step11$value.source,\n          tgt = _step11$value.target,\n          start = _step11$value.start,\n          end = _step11$value.end;\n      var _src$style = src.style;\n      _src$style = _src$style === void 0 ? {} : _src$style;\n      var _src$style$background = _src$style.backgroundColor,\n          backgroundColor = _src$style$background === void 0 ? color : _src$style$background;\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      clipBounds(ctx, scale, getBounds(property, start, end));\n      ctx.beginPath();\n      var lineLoop = !!line.pathSegment(ctx, src);\n\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n\n      var targetLoop = !!target.pathSegment(ctx, tgt, {\n        move: lineLoop,\n        reverse: true\n      });\n      var loop = lineLoop && targetLoop;\n\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n\n      ctx.closePath();\n      ctx.fill(loop ? 'evenodd' : 'nonzero');\n      ctx.restore();\n    }\n  } catch (err) {\n    _iterator11.e(err);\n  } finally {\n    _iterator11.f();\n  }\n}\n\nfunction doFill(ctx, cfg) {\n  var line = cfg.line,\n      target = cfg.target,\n      above = cfg.above,\n      below = cfg.below,\n      area = cfg.area,\n      scale = cfg.scale;\n  var property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n\n    _fill(ctx, {\n      line: line,\n      target: target,\n      color: above,\n      scale: scale,\n      property: property\n    });\n\n    ctx.restore();\n    ctx.save();\n\n    _clip(ctx, target, area.bottom);\n  }\n\n  _fill(ctx, {\n    line: line,\n    target: target,\n    color: below,\n    scale: scale,\n    property: property\n  });\n\n  ctx.restore();\n}\n\nfunction drawfill(ctx, source, area) {\n  var target = getTarget(source);\n  var line = source.line,\n      scale = source.scale,\n      axis = source.axis;\n  var lineOpts = line.options;\n  var fillOption = lineOpts.fill;\n  var color = lineOpts.backgroundColor;\n\n  var _ref6 = fillOption || {},\n      _ref6$above = _ref6.above,\n      above = _ref6$above === void 0 ? color : _ref6$above,\n      _ref6$below = _ref6.below,\n      below = _ref6$below === void 0 ? color : _ref6$below;\n\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {\n      line: line,\n      target: target,\n      above: above,\n      below: below,\n      area: area,\n      scale: scale,\n      axis: axis\n    });\n    unclipArea(ctx);\n  }\n}\n\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate: function afterDatasetsUpdate(chart, _args, options) {\n    var count = (chart.data.datasets || []).length;\n    var sources = [];\n    var meta, i, line, source;\n\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart: chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line: line\n        };\n      }\n\n      meta.$filler = source;\n      sources.push(source);\n    }\n\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n\n      if (!source || source.fill === false) {\n        continue;\n      }\n\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDatasetsDraw: function beforeDatasetsDraw(chart, _args, options) {\n    var metasets = chart.getSortedVisibleDatasetMetas();\n    var area = chart.chartArea;\n\n    for (var i = metasets.length - 1; i >= 0; --i) {\n      var source = metasets[i].$filler;\n\n      if (source) {\n        source.line.updateControlPoints(area);\n\n        if (options.drawTime === 'beforeDatasetsDraw') {\n          drawfill(chart.ctx, source, area);\n        }\n      }\n    }\n  },\n  beforeDatasetDraw: function beforeDatasetDraw(chart, args, options) {\n    var source = args.meta.$filler;\n\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nvar getBoxSize = function getBoxSize(labelOpts, fontSize) {\n  var _labelOpts$boxHeight = labelOpts.boxHeight,\n      boxHeight = _labelOpts$boxHeight === void 0 ? fontSize : _labelOpts$boxHeight,\n      _labelOpts$boxWidth = labelOpts.boxWidth,\n      boxWidth = _labelOpts$boxWidth === void 0 ? fontSize : _labelOpts$boxWidth;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth: boxWidth,\n    boxHeight: boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nvar itemsEqual = function itemsEqual(a, b) {\n  return a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n};\n\nvar Legend = /*#__PURE__*/function (_Element6) {\n  _inherits(Legend, _Element6);\n\n  var _super16 = _createSuper(Legend);\n\n  function Legend(config) {\n    var _this11;\n\n    _classCallCheck(this, Legend);\n\n    _this11 = _super16.call(this);\n    _this11._added = false;\n    _this11.legendHitBoxes = [];\n    _this11._hoveredItem = null;\n    _this11.doughnutMode = false;\n    _this11.chart = config.chart;\n    _this11.options = config.options;\n    _this11.ctx = config.ctx;\n    _this11.legendItems = undefined;\n    _this11.columnSizes = undefined;\n    _this11.lineWidths = undefined;\n    _this11.maxHeight = undefined;\n    _this11.maxWidth = undefined;\n    _this11.top = undefined;\n    _this11.bottom = undefined;\n    _this11.left = undefined;\n    _this11.right = undefined;\n    _this11.height = undefined;\n    _this11.width = undefined;\n    _this11._margins = undefined;\n    _this11.position = undefined;\n    _this11.weight = undefined;\n    _this11.fullSize = undefined;\n    return _this11;\n  }\n\n  _createClass(Legend, [{\n    key: \"update\",\n    value: function update(maxWidth, maxHeight, margins) {\n      var me = this;\n      me.maxWidth = maxWidth;\n      me.maxHeight = maxHeight;\n      me._margins = margins;\n      me.setDimensions();\n      me.buildLabels();\n      me.fit();\n    }\n  }, {\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      var me = this;\n\n      if (me.isHorizontal()) {\n        me.width = me.maxWidth;\n        me.left = 0;\n        me.right = me.width;\n      } else {\n        me.height = me.maxHeight;\n        me.top = 0;\n        me.bottom = me.height;\n      }\n    }\n  }, {\n    key: \"buildLabels\",\n    value: function buildLabels() {\n      var me = this;\n      var labelOpts = me.options.labels || {};\n      var legendItems = callback(labelOpts.generateLabels, [me.chart], me) || [];\n\n      if (labelOpts.filter) {\n        legendItems = legendItems.filter(function (item) {\n          return labelOpts.filter(item, me.chart.data);\n        });\n      }\n\n      if (labelOpts.sort) {\n        legendItems = legendItems.sort(function (a, b) {\n          return labelOpts.sort(a, b, me.chart.data);\n        });\n      }\n\n      if (me.options.reverse) {\n        legendItems.reverse();\n      }\n\n      me.legendItems = legendItems;\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var me = this;\n      var options = me.options,\n          ctx = me.ctx;\n\n      if (!options.display) {\n        me.width = me.height = 0;\n        return;\n      }\n\n      var labelOpts = options.labels;\n      var labelFont = toFont(labelOpts.font);\n      var fontSize = labelFont.size;\n\n      var titleHeight = me._computeTitleHeight();\n\n      var _getBoxSize = getBoxSize(labelOpts, fontSize),\n          boxWidth = _getBoxSize.boxWidth,\n          itemHeight = _getBoxSize.itemHeight;\n\n      var width, height;\n      ctx.font = labelFont.string;\n\n      if (me.isHorizontal()) {\n        width = me.maxWidth;\n        height = me._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n      } else {\n        height = me.maxHeight;\n        width = me._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n      }\n\n      me.width = Math.min(width, options.maxWidth || me.maxWidth);\n      me.height = Math.min(height, options.maxHeight || me.maxHeight);\n    }\n  }, {\n    key: \"_fitRows\",\n    value: function _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n      var me = this;\n      var ctx = me.ctx,\n          maxWidth = me.maxWidth,\n          padding = me.options.labels.padding;\n      var hitboxes = me.legendHitBoxes = [];\n      var lineWidths = me.lineWidths = [0];\n      var lineHeight = itemHeight + padding;\n      var totalHeight = titleHeight;\n      ctx.textAlign = 'left';\n      ctx.textBaseline = 'middle';\n      var row = -1;\n      var top = -lineHeight;\n      me.legendItems.forEach(function (legendItem, i) {\n        var itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n\n        if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n          totalHeight += lineHeight;\n          lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n          top += lineHeight;\n          row++;\n        }\n\n        hitboxes[i] = {\n          left: 0,\n          top: top,\n          row: row,\n          width: itemWidth,\n          height: itemHeight\n        };\n        lineWidths[lineWidths.length - 1] += itemWidth + padding;\n      });\n      return totalHeight;\n    }\n  }, {\n    key: \"_fitCols\",\n    value: function _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n      var me = this;\n      var ctx = me.ctx,\n          maxHeight = me.maxHeight,\n          padding = me.options.labels.padding;\n      var hitboxes = me.legendHitBoxes = [];\n      var columnSizes = me.columnSizes = [];\n      var heightLimit = maxHeight - titleHeight;\n      var totalWidth = padding;\n      var currentColWidth = 0;\n      var currentColHeight = 0;\n      var left = 0;\n      var top = 0;\n      var col = 0;\n      me.legendItems.forEach(function (legendItem, i) {\n        var itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n\n        if (i > 0 && currentColHeight + fontSize + 2 * padding > heightLimit) {\n          totalWidth += currentColWidth + padding;\n          columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n          });\n          left += currentColWidth + padding;\n          col++;\n          top = 0;\n          currentColWidth = currentColHeight = 0;\n        }\n\n        currentColWidth = Math.max(currentColWidth, itemWidth);\n        currentColHeight += fontSize + padding;\n        hitboxes[i] = {\n          left: left,\n          top: top,\n          col: col,\n          width: itemWidth,\n          height: itemHeight\n        };\n        top += itemHeight + padding;\n      });\n      totalWidth += currentColWidth;\n      columnSizes.push({\n        width: currentColWidth,\n        height: currentColHeight\n      });\n      return totalWidth;\n    }\n  }, {\n    key: \"adjustHitBoxes\",\n    value: function adjustHitBoxes() {\n      var me = this;\n\n      if (!me.options.display) {\n        return;\n      }\n\n      var titleHeight = me._computeTitleHeight();\n\n      var hitboxes = me.legendHitBoxes,\n          _me$options6 = me.options,\n          align = _me$options6.align,\n          padding = _me$options6.labels.padding;\n\n      if (this.isHorizontal()) {\n        var row = 0;\n\n        var left = _alignStartEnd(align, me.left + padding, me.right - me.lineWidths[row]);\n\n        var _iterator12 = _createForOfIteratorHelper(hitboxes),\n            _step12;\n\n        try {\n          for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n            var hitbox = _step12.value;\n\n            if (row !== hitbox.row) {\n              row = hitbox.row;\n              left = _alignStartEnd(align, me.left + padding, me.right - me.lineWidths[row]);\n            }\n\n            hitbox.top += me.top + titleHeight + padding;\n            hitbox.left = left;\n            left += hitbox.width + padding;\n          }\n        } catch (err) {\n          _iterator12.e(err);\n        } finally {\n          _iterator12.f();\n        }\n      } else {\n        var col = 0;\n\n        var top = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - me.columnSizes[col].height);\n\n        var _iterator13 = _createForOfIteratorHelper(hitboxes),\n            _step13;\n\n        try {\n          for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n            var _hitbox = _step13.value;\n\n            if (_hitbox.col !== col) {\n              col = _hitbox.col;\n              top = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - me.columnSizes[col].height);\n            }\n\n            _hitbox.top = top;\n            _hitbox.left += me.left + padding;\n            top += _hitbox.height + padding;\n          }\n        } catch (err) {\n          _iterator13.e(err);\n        } finally {\n          _iterator13.f();\n        }\n      }\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n\n      if (me.options.display) {\n        var ctx = me.ctx;\n        clipArea(ctx, me);\n\n        me._draw();\n\n        unclipArea(ctx);\n      }\n    }\n  }, {\n    key: \"_draw\",\n    value: function _draw() {\n      var me = this;\n      var opts = me.options,\n          columnSizes = me.columnSizes,\n          lineWidths = me.lineWidths,\n          ctx = me.ctx;\n      var align = opts.align,\n          labelOpts = opts.labels;\n      var defaultColor = defaults.color;\n      var rtlHelper = getRtlAdapter(opts.rtl, me.left, me.width);\n      var labelFont = toFont(labelOpts.font);\n      var fontColor = labelOpts.color,\n          padding = labelOpts.padding;\n      var fontSize = labelFont.size;\n      var halfFontSize = fontSize / 2;\n      var cursor;\n      me.drawTitle();\n      ctx.textAlign = rtlHelper.textAlign('left');\n      ctx.textBaseline = 'middle';\n      ctx.lineWidth = 0.5;\n      ctx.font = labelFont.string;\n\n      var _getBoxSize2 = getBoxSize(labelOpts, fontSize),\n          boxWidth = _getBoxSize2.boxWidth,\n          boxHeight = _getBoxSize2.boxHeight,\n          itemHeight = _getBoxSize2.itemHeight;\n\n      var drawLegendBox = function drawLegendBox(x, y, legendItem) {\n        if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n          return;\n        }\n\n        ctx.save();\n        var lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n        ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n        if (labelOpts.usePointStyle) {\n          var drawOptions = {\n            radius: boxWidth * Math.SQRT2 / 2,\n            pointStyle: legendItem.pointStyle,\n            rotation: legendItem.rotation,\n            borderWidth: lineWidth\n          };\n          var centerX = rtlHelper.xPlus(x, boxWidth / 2);\n          var centerY = y + halfFontSize;\n          drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n          var yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n          var xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n          var borderRadius = toTRBLCorners(legendItem.borderRadius);\n          ctx.beginPath();\n\n          if (Object.values(borderRadius).some(function (v) {\n            return v !== 0;\n          })) {\n            addRoundedRectPath(ctx, {\n              x: xBoxLeft,\n              y: yBoxTop,\n              w: boxWidth,\n              h: boxHeight,\n              radius: borderRadius\n            });\n          } else {\n            ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n          }\n\n          ctx.fill();\n\n          if (lineWidth !== 0) {\n            ctx.stroke();\n          }\n        }\n\n        ctx.restore();\n      };\n\n      var fillText = function fillText(x, y, legendItem) {\n        renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n          strikethrough: legendItem.hidden,\n          textAlign: legendItem.textAlign\n        });\n      };\n\n      var isHorizontal = me.isHorizontal();\n\n      var titleHeight = this._computeTitleHeight();\n\n      if (isHorizontal) {\n        cursor = {\n          x: _alignStartEnd(align, me.left + padding, me.right - lineWidths[0]),\n          y: me.top + padding + titleHeight,\n          line: 0\n        };\n      } else {\n        cursor = {\n          x: me.left + padding,\n          y: _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - columnSizes[0].height),\n          line: 0\n        };\n      }\n\n      overrideTextDirection(me.ctx, opts.textDirection);\n      var lineHeight = itemHeight + padding;\n      me.legendItems.forEach(function (legendItem, i) {\n        ctx.strokeStyle = legendItem.fontColor || fontColor;\n        ctx.fillStyle = legendItem.fontColor || fontColor;\n        var textWidth = ctx.measureText(legendItem.text).width;\n        var textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n        var width = boxWidth + fontSize / 2 + textWidth;\n        var x = cursor.x;\n        var y = cursor.y;\n        rtlHelper.setWidth(me.width);\n\n        if (isHorizontal) {\n          if (i > 0 && x + width + padding > me.right) {\n            y = cursor.y += lineHeight;\n            cursor.line++;\n            x = cursor.x = _alignStartEnd(align, me.left + padding, me.right - lineWidths[cursor.line]);\n          }\n        } else if (i > 0 && y + lineHeight > me.bottom) {\n          x = cursor.x = x + columnSizes[cursor.line].width + padding;\n          cursor.line++;\n          y = cursor.y = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - columnSizes[cursor.line].height);\n        }\n\n        var realX = rtlHelper.x(x);\n        drawLegendBox(realX, y, legendItem);\n        x = _textX(textAlign, x + boxWidth + halfFontSize, me.right);\n        fillText(rtlHelper.x(x), y, legendItem);\n\n        if (isHorizontal) {\n          cursor.x += width + padding;\n        } else {\n          cursor.y += lineHeight;\n        }\n      });\n      restoreTextDirection(me.ctx, opts.textDirection);\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {\n      var me = this;\n      var opts = me.options;\n      var titleOpts = opts.title;\n      var titleFont = toFont(titleOpts.font);\n      var titlePadding = toPadding(titleOpts.padding);\n\n      if (!titleOpts.display) {\n        return;\n      }\n\n      var rtlHelper = getRtlAdapter(opts.rtl, me.left, me.width);\n      var ctx = me.ctx;\n      var position = titleOpts.position;\n      var halfFontSize = titleFont.size / 2;\n      var topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n      var y;\n      var left = me.left;\n      var maxWidth = me.width;\n\n      if (this.isHorizontal()) {\n        maxWidth = Math.max.apply(Math, _toConsumableArray(me.lineWidths));\n        y = me.top + topPaddingPlusHalfFontSize;\n        left = _alignStartEnd(opts.align, left, me.right - maxWidth);\n      } else {\n        var maxHeight = me.columnSizes.reduce(function (acc, size) {\n          return Math.max(acc, size.height);\n        }, 0);\n        y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, me.top, me.bottom - maxHeight - opts.labels.padding - me._computeTitleHeight());\n      }\n\n      var x = _alignStartEnd(position, left, left + maxWidth);\n\n      ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n      ctx.textBaseline = 'middle';\n      ctx.strokeStyle = titleOpts.color;\n      ctx.fillStyle = titleOpts.color;\n      ctx.font = titleFont.string;\n      renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n  }, {\n    key: \"_computeTitleHeight\",\n    value: function _computeTitleHeight() {\n      var titleOpts = this.options.title;\n      var titleFont = toFont(titleOpts.font);\n      var titlePadding = toPadding(titleOpts.padding);\n      return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n  }, {\n    key: \"_getLegendItemAt\",\n    value: function _getLegendItemAt(x, y) {\n      var me = this;\n      var i, hitBox, lh;\n\n      if (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\n        lh = me.legendHitBoxes;\n\n        for (i = 0; i < lh.length; ++i) {\n          hitBox = lh[i];\n\n          if (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n            return me.legendItems[i];\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(e) {\n      var me = this;\n      var opts = me.options;\n\n      if (!isListened(e.type, opts)) {\n        return;\n      }\n\n      var hoveredItem = me._getLegendItemAt(e.x, e.y);\n\n      if (e.type === 'mousemove') {\n        var previous = me._hoveredItem;\n        var sameItem = itemsEqual(previous, hoveredItem);\n\n        if (previous && !sameItem) {\n          callback(opts.onLeave, [e, previous, me], me);\n        }\n\n        me._hoveredItem = hoveredItem;\n\n        if (hoveredItem && !sameItem) {\n          callback(opts.onHover, [e, hoveredItem, me], me);\n        }\n      } else if (hoveredItem) {\n        callback(opts.onClick, [e, hoveredItem, me], me);\n      }\n    }\n  }]);\n\n  return Legend;\n}(Element);\n\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n\n  return false;\n}\n\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start: function start(chart, _args, options) {\n    var legend = chart.legend = new Legend({\n      ctx: chart.ctx,\n      options: options,\n      chart: chart\n    });\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop: function stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate: function afterUpdate(chart) {\n    var legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent: function afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick: function onClick(e, legendItem, legend) {\n      var index = legendItem.datasetIndex;\n      var ci = legend.chart;\n\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: function color(ctx) {\n        return ctx.chart.options.color;\n      },\n      boxWidth: 40,\n      padding: 10,\n      generateLabels: function generateLabels(chart) {\n        var datasets = chart.data.datasets;\n        var _chart$legend$options = chart.legend.options.labels,\n            usePointStyle = _chart$legend$options.usePointStyle,\n            pointStyle = _chart$legend$options.pointStyle,\n            textAlign = _chart$legend$options.textAlign,\n            color = _chart$legend$options.color;\n        return chart._getSortedDatasetMetas().map(function (meta) {\n          var style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          var borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: function color(ctx) {\n        return ctx.chart.options.color;\n      },\n      display: false,\n      position: 'center',\n      text: ''\n    }\n  },\n  descriptors: {\n    _scriptable: function _scriptable(name) {\n      return !name.startsWith('on');\n    },\n    labels: {\n      _scriptable: function _scriptable(name) {\n        return !['generateLabels', 'filter', 'sort'].includes(name);\n      }\n    }\n  }\n};\n\nvar Title = /*#__PURE__*/function (_Element7) {\n  _inherits(Title, _Element7);\n\n  var _super17 = _createSuper(Title);\n\n  function Title(config) {\n    var _this12;\n\n    _classCallCheck(this, Title);\n\n    _this12 = _super17.call(this);\n    _this12.chart = config.chart;\n    _this12.options = config.options;\n    _this12.ctx = config.ctx;\n    _this12._padding = undefined;\n    _this12.top = undefined;\n    _this12.bottom = undefined;\n    _this12.left = undefined;\n    _this12.right = undefined;\n    _this12.width = undefined;\n    _this12.height = undefined;\n    _this12.position = undefined;\n    _this12.weight = undefined;\n    _this12.fullSize = undefined;\n    return _this12;\n  }\n\n  _createClass(Title, [{\n    key: \"update\",\n    value: function update(maxWidth, maxHeight) {\n      var me = this;\n      var opts = me.options;\n      me.left = 0;\n      me.top = 0;\n\n      if (!opts.display) {\n        me.width = me.height = me.right = me.bottom = 0;\n        return;\n      }\n\n      me.width = me.right = maxWidth;\n      me.height = me.bottom = maxHeight;\n      var lineCount = isArray(opts.text) ? opts.text.length : 1;\n      me._padding = toPadding(opts.padding);\n\n      var textSize = lineCount * toFont(opts.font).lineHeight + me._padding.height;\n\n      if (me.isHorizontal()) {\n        me.height = textSize;\n      } else {\n        me.width = textSize;\n      }\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      var pos = this.options.position;\n      return pos === 'top' || pos === 'bottom';\n    }\n  }, {\n    key: \"_drawArgs\",\n    value: function _drawArgs(offset) {\n      var top = this.top,\n          left = this.left,\n          bottom = this.bottom,\n          right = this.right,\n          options = this.options;\n      var align = options.align;\n      var rotation = 0;\n      var maxWidth, titleX, titleY;\n\n      if (this.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        titleY = top + offset;\n        maxWidth = right - left;\n      } else {\n        if (options.position === 'left') {\n          titleX = left + offset;\n          titleY = _alignStartEnd(align, bottom, top);\n          rotation = PI * -0.5;\n        } else {\n          titleX = right - offset;\n          titleY = _alignStartEnd(align, top, bottom);\n          rotation = PI * 0.5;\n        }\n\n        maxWidth = bottom - top;\n      }\n\n      return {\n        titleX: titleX,\n        titleY: titleY,\n        maxWidth: maxWidth,\n        rotation: rotation\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n      var ctx = me.ctx;\n      var opts = me.options;\n\n      if (!opts.display) {\n        return;\n      }\n\n      var fontOpts = toFont(opts.font);\n      var lineHeight = fontOpts.lineHeight;\n      var offset = lineHeight / 2 + me._padding.top;\n\n      var _me$_drawArgs = me._drawArgs(offset),\n          titleX = _me$_drawArgs.titleX,\n          titleY = _me$_drawArgs.titleY,\n          maxWidth = _me$_drawArgs.maxWidth,\n          rotation = _me$_drawArgs.rotation;\n\n      renderText(ctx, opts.text, 0, 0, fontOpts, {\n        color: opts.color,\n        maxWidth: maxWidth,\n        rotation: rotation,\n        textAlign: _toLeftRightCenter(opts.align),\n        textBaseline: 'middle',\n        translation: [titleX, titleY]\n      });\n    }\n  }]);\n\n  return Title;\n}(Element);\n\nfunction createTitle(chart, titleOpts) {\n  var title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart: chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start: function start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop: function stop(chart) {\n    var titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold'\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false\n  }\n};\nvar positioners = {\n  average: function average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    var i, len;\n    var x = 0;\n    var y = 0;\n    var count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      var el = items[i].element;\n\n      if (el && el.hasValue()) {\n        var pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest: function nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    var x = eventPosition.x;\n    var y = eventPosition.y;\n    var minDistance = Number.POSITIVE_INFINITY;\n    var i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      var el = items[i].element;\n\n      if (el && el.hasValue()) {\n        var center = el.getCenterPoint();\n        var d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      var tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n};\n\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n\n  return str;\n}\n\nfunction createTooltipItem(chart, item) {\n  var element = item.element,\n      datasetIndex = item.datasetIndex,\n      index = item.index;\n  var controller = chart.getDatasetMeta(datasetIndex).controller;\n\n  var _controller$getLabelA = controller.getLabelAndValue(index),\n      label = _controller$getLabelA.label,\n      value = _controller$getLabelA.value;\n\n  return {\n    chart: chart,\n    label: label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex: datasetIndex,\n    element: element\n  };\n}\n\nfunction getTooltipSize(tooltip, options) {\n  var ctx = tooltip._chart.ctx;\n  var body = tooltip.body,\n      footer = tooltip.footer,\n      title = tooltip.title;\n  var boxWidth = options.boxWidth,\n      boxHeight = options.boxHeight;\n  var bodyFont = toFont(options.bodyFont);\n  var titleFont = toFont(options.titleFont);\n  var footerFont = toFont(options.footerFont);\n  var titleLineCount = title.length;\n  var footerLineCount = footer.length;\n  var bodyLineItemCount = body.length;\n  var padding = toPadding(options.padding);\n  var height = padding.height;\n  var width = 0;\n  var combinedBodyLength = body.reduce(function (count, bodyItem) {\n    return count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\n  }, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n  }\n\n  if (combinedBodyLength) {\n    var bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n  }\n\n  if (footerLineCount) {\n    height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  var widthPadding = 0;\n\n  var maxLineWidth = function maxLineWidth(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? boxWidth + 2 : 0;\n  each(body, function (bodyItem) {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {\n    width: width,\n    height: height\n  };\n}\n\nfunction determineYAlign(chart, size) {\n  var y = size.y,\n      height = size.height;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > chart.height - height / 2) {\n    return 'bottom';\n  }\n\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  var x = size.x,\n      width = size.width;\n  var caret = options.caretSize + options.caretPadding;\n\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  var x = size.x,\n      width = size.width;\n  var chartWidth = chart.width,\n      _chart$chartArea = chart.chartArea,\n      left = _chart$chartArea.left,\n      right = _chart$chartArea.right;\n  var xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\nfunction determineAlignment(chart, options, size) {\n  var yAlign = options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign: yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  var x = size.x,\n      width = size.width;\n\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  var y = size.y,\n      height = size.height;\n\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= height / 2;\n  }\n\n  return y;\n}\n\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  var caretSize = options.caretSize,\n      caretPadding = options.caretPadding,\n      cornerRadius = options.cornerRadius;\n  var xAlign = alignment.xAlign,\n      yAlign = alignment.yAlign;\n  var paddingAndSize = caretSize + caretPadding;\n  var radiusAndPadding = cornerRadius + caretPadding;\n  var x = alignX(size, xAlign);\n  var y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= radiusAndPadding;\n  } else if (xAlign === 'right') {\n    x += radiusAndPadding;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  var padding = toPadding(options.padding);\n  return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return Object.assign(Object.create(parent), {\n    tooltip: tooltip,\n    tooltipItems: tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  var override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nvar Tooltip = /*#__PURE__*/function (_Element8) {\n  _inherits(Tooltip, _Element8);\n\n  var _super18 = _createSuper(Tooltip);\n\n  function Tooltip(config) {\n    var _this13;\n\n    _classCallCheck(this, Tooltip);\n\n    _this13 = _super18.call(this);\n    _this13.opacity = 0;\n    _this13._active = [];\n    _this13._chart = config._chart;\n    _this13._eventPosition = undefined;\n    _this13._size = undefined;\n    _this13._cachedAnimations = undefined;\n    _this13._tooltipItems = [];\n    _this13.$animations = undefined;\n    _this13.$context = undefined;\n    _this13.options = config.options;\n    _this13.dataPoints = undefined;\n    _this13.title = undefined;\n    _this13.beforeBody = undefined;\n    _this13.body = undefined;\n    _this13.afterBody = undefined;\n    _this13.footer = undefined;\n    _this13.xAlign = undefined;\n    _this13.yAlign = undefined;\n    _this13.x = undefined;\n    _this13.y = undefined;\n    _this13.height = undefined;\n    _this13.width = undefined;\n    _this13.caretX = undefined;\n    _this13.caretY = undefined;\n    _this13.labelColors = undefined;\n    _this13.labelPointStyles = undefined;\n    _this13.labelTextColors = undefined;\n    return _this13;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"initialize\",\n    value: function initialize(options) {\n      this.options = options;\n      this._cachedAnimations = undefined;\n      this.$context = undefined;\n    }\n  }, {\n    key: \"_resolveAnimations\",\n    value: function _resolveAnimations() {\n      var me = this;\n      var cached = me._cachedAnimations;\n\n      if (cached) {\n        return cached;\n      }\n\n      var chart = me._chart;\n      var options = me.options.setContext(me.getContext());\n      var opts = options.enabled && chart.options.animation && options.animations;\n      var animations = new Animations(me._chart, opts);\n\n      if (opts._cacheable) {\n        me._cachedAnimations = Object.freeze(animations);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      var me = this;\n      return me.$context || (me.$context = createTooltipContext(me._chart.getContext(), me, me._tooltipItems));\n    }\n  }, {\n    key: \"getTitle\",\n    value: function getTitle(context, options) {\n      var me = this;\n      var callbacks = options.callbacks;\n      var beforeTitle = callbacks.beforeTitle.apply(me, [context]);\n      var title = callbacks.title.apply(me, [context]);\n      var afterTitle = callbacks.afterTitle.apply(me, [context]);\n      var lines = [];\n      lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n      lines = pushOrConcat(lines, splitNewlines(title));\n      lines = pushOrConcat(lines, splitNewlines(afterTitle));\n      return lines;\n    }\n  }, {\n    key: \"getBeforeBody\",\n    value: function getBeforeBody(tooltipItems, options) {\n      return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n    }\n  }, {\n    key: \"getBody\",\n    value: function getBody(tooltipItems, options) {\n      var me = this;\n      var callbacks = options.callbacks;\n      var bodyItems = [];\n      each(tooltipItems, function (context) {\n        var bodyItem = {\n          before: [],\n          lines: [],\n          after: []\n        };\n        var scoped = overrideCallbacks(callbacks, context);\n        pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(me, context)));\n        pushOrConcat(bodyItem.lines, scoped.label.call(me, context));\n        pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(me, context)));\n        bodyItems.push(bodyItem);\n      });\n      return bodyItems;\n    }\n  }, {\n    key: \"getAfterBody\",\n    value: function getAfterBody(tooltipItems, options) {\n      return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n    }\n  }, {\n    key: \"getFooter\",\n    value: function getFooter(tooltipItems, options) {\n      var me = this;\n      var callbacks = options.callbacks;\n      var beforeFooter = callbacks.beforeFooter.apply(me, [tooltipItems]);\n      var footer = callbacks.footer.apply(me, [tooltipItems]);\n      var afterFooter = callbacks.afterFooter.apply(me, [tooltipItems]);\n      var lines = [];\n      lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n      lines = pushOrConcat(lines, splitNewlines(footer));\n      lines = pushOrConcat(lines, splitNewlines(afterFooter));\n      return lines;\n    }\n  }, {\n    key: \"_createItems\",\n    value: function _createItems(options) {\n      var me = this;\n      var active = me._active;\n      var data = me._chart.data;\n      var labelColors = [];\n      var labelPointStyles = [];\n      var labelTextColors = [];\n      var tooltipItems = [];\n      var i, len;\n\n      for (i = 0, len = active.length; i < len; ++i) {\n        tooltipItems.push(createTooltipItem(me._chart, active[i]));\n      }\n\n      if (options.filter) {\n        tooltipItems = tooltipItems.filter(function (element, index, array) {\n          return options.filter(element, index, array, data);\n        });\n      }\n\n      if (options.itemSort) {\n        tooltipItems = tooltipItems.sort(function (a, b) {\n          return options.itemSort(a, b, data);\n        });\n      }\n\n      each(tooltipItems, function (context) {\n        var scoped = overrideCallbacks(options.callbacks, context);\n        labelColors.push(scoped.labelColor.call(me, context));\n        labelPointStyles.push(scoped.labelPointStyle.call(me, context));\n        labelTextColors.push(scoped.labelTextColor.call(me, context));\n      });\n      me.labelColors = labelColors;\n      me.labelPointStyles = labelPointStyles;\n      me.labelTextColors = labelTextColors;\n      me.dataPoints = tooltipItems;\n      return tooltipItems;\n    }\n  }, {\n    key: \"update\",\n    value: function update(changed, replay) {\n      var me = this;\n      var options = me.options.setContext(me.getContext());\n      var active = me._active;\n      var properties;\n      var tooltipItems = [];\n\n      if (!active.length) {\n        if (me.opacity !== 0) {\n          properties = {\n            opacity: 0\n          };\n        }\n      } else {\n        var position = positioners[options.position].call(me, active, me._eventPosition);\n        tooltipItems = me._createItems(options);\n        me.title = me.getTitle(tooltipItems, options);\n        me.beforeBody = me.getBeforeBody(tooltipItems, options);\n        me.body = me.getBody(tooltipItems, options);\n        me.afterBody = me.getAfterBody(tooltipItems, options);\n        me.footer = me.getFooter(tooltipItems, options);\n        var size = me._size = getTooltipSize(me, options);\n        var positionAndSize = Object.assign({}, position, size);\n        var alignment = determineAlignment(me._chart, options, positionAndSize);\n        var backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, me._chart);\n        me.xAlign = alignment.xAlign;\n        me.yAlign = alignment.yAlign;\n        properties = {\n          opacity: 1,\n          x: backgroundPoint.x,\n          y: backgroundPoint.y,\n          width: size.width,\n          height: size.height,\n          caretX: position.x,\n          caretY: position.y\n        };\n      }\n\n      me._tooltipItems = tooltipItems;\n      me.$context = undefined;\n\n      if (properties) {\n        me._resolveAnimations().update(me, properties);\n      }\n\n      if (changed && options.external) {\n        options.external.call(me, {\n          chart: me._chart,\n          tooltip: me,\n          replay: replay\n        });\n      }\n    }\n  }, {\n    key: \"drawCaret\",\n    value: function drawCaret(tooltipPoint, ctx, size, options) {\n      var caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n      ctx.lineTo(caretPosition.x1, caretPosition.y1);\n      ctx.lineTo(caretPosition.x2, caretPosition.y2);\n      ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n  }, {\n    key: \"getCaretPosition\",\n    value: function getCaretPosition(tooltipPoint, size, options) {\n      var xAlign = this.xAlign,\n          yAlign = this.yAlign;\n      var cornerRadius = options.cornerRadius,\n          caretSize = options.caretSize;\n      var ptX = tooltipPoint.x,\n          ptY = tooltipPoint.y;\n      var width = size.width,\n          height = size.height;\n      var x1, x2, x3, y1, y2, y3;\n\n      if (yAlign === 'center') {\n        y2 = ptY + height / 2;\n\n        if (xAlign === 'left') {\n          x1 = ptX;\n          x2 = x1 - caretSize;\n          y1 = y2 + caretSize;\n          y3 = y2 - caretSize;\n        } else {\n          x1 = ptX + width;\n          x2 = x1 + caretSize;\n          y1 = y2 - caretSize;\n          y3 = y2 + caretSize;\n        }\n\n        x3 = x1;\n      } else {\n        if (xAlign === 'left') {\n          x2 = ptX + cornerRadius + caretSize;\n        } else if (xAlign === 'right') {\n          x2 = ptX + width - cornerRadius - caretSize;\n        } else {\n          x2 = this.caretX;\n        }\n\n        if (yAlign === 'top') {\n          y1 = ptY;\n          y2 = y1 - caretSize;\n          x1 = x2 - caretSize;\n          x3 = x2 + caretSize;\n        } else {\n          y1 = ptY + height;\n          y2 = y1 + caretSize;\n          x1 = x2 + caretSize;\n          x3 = x2 - caretSize;\n        }\n\n        y3 = y1;\n      }\n\n      return {\n        x1: x1,\n        x2: x2,\n        x3: x3,\n        y1: y1,\n        y2: y2,\n        y3: y3\n      };\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle(pt, ctx, options) {\n      var me = this;\n      var title = me.title;\n      var length = title.length;\n      var titleFont, titleSpacing, i;\n\n      if (length) {\n        var rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n        pt.x = getAlignedX(me, options.titleAlign, options);\n        ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n        ctx.textBaseline = 'middle';\n        titleFont = toFont(options.titleFont);\n        titleSpacing = options.titleSpacing;\n        ctx.fillStyle = options.titleColor;\n        ctx.font = titleFont.string;\n\n        for (i = 0; i < length; ++i) {\n          ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n          pt.y += titleFont.lineHeight + titleSpacing;\n\n          if (i + 1 === length) {\n            pt.y += options.titleMarginBottom - titleSpacing;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_drawColorBox\",\n    value: function _drawColorBox(ctx, pt, i, rtlHelper, options) {\n      var me = this;\n      var labelColors = me.labelColors[i];\n      var labelPointStyle = me.labelPointStyles[i];\n      var boxHeight = options.boxHeight,\n          boxWidth = options.boxWidth;\n      var bodyFont = toFont(options.bodyFont);\n      var colorX = getAlignedX(me, 'left', options);\n      var rtlColorX = rtlHelper.x(colorX);\n      var yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n      var colorY = pt.y + yOffSet;\n\n      if (options.usePointStyle) {\n        var drawOptions = {\n          radius: Math.min(boxWidth, boxHeight) / 2,\n          pointStyle: labelPointStyle.pointStyle,\n          rotation: labelPointStyle.rotation,\n          borderWidth: 1\n        };\n        var centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n        var centerY = colorY + boxHeight / 2;\n        ctx.strokeStyle = options.multiKeyBackground;\n        ctx.fillStyle = options.multiKeyBackground;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n        ctx.strokeStyle = labelColors.borderColor;\n        ctx.fillStyle = labelColors.backgroundColor;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        ctx.lineWidth = labelColors.borderWidth || 1;\n        ctx.strokeStyle = labelColors.borderColor;\n        ctx.setLineDash(labelColors.borderDash || []);\n        ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n        var outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n        var innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n        var borderRadius = toTRBLCorners(labelColors.borderRadius);\n\n        if (Object.values(borderRadius).some(function (v) {\n          return v !== 0;\n        })) {\n          ctx.beginPath();\n          ctx.fillStyle = options.multiKeyBackground;\n          addRoundedRectPath(ctx, {\n            x: outerX,\n            y: colorY,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius\n          });\n          ctx.fill();\n          ctx.stroke();\n          ctx.fillStyle = labelColors.backgroundColor;\n          ctx.beginPath();\n          addRoundedRectPath(ctx, {\n            x: innerX,\n            y: colorY + 1,\n            w: boxWidth - 2,\n            h: boxHeight - 2,\n            radius: borderRadius\n          });\n          ctx.fill();\n        } else {\n          ctx.fillStyle = options.multiKeyBackground;\n          ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n          ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n          ctx.fillStyle = labelColors.backgroundColor;\n          ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n        }\n      }\n\n      ctx.fillStyle = me.labelTextColors[i];\n    }\n  }, {\n    key: \"drawBody\",\n    value: function drawBody(pt, ctx, options) {\n      var me = this;\n      var body = me.body;\n      var bodySpacing = options.bodySpacing,\n          bodyAlign = options.bodyAlign,\n          displayColors = options.displayColors,\n          boxHeight = options.boxHeight,\n          boxWidth = options.boxWidth;\n      var bodyFont = toFont(options.bodyFont);\n      var bodyLineHeight = bodyFont.lineHeight;\n      var xLinePadding = 0;\n      var rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n\n      var fillLineOfText = function fillLineOfText(line) {\n        ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n        pt.y += bodyLineHeight + bodySpacing;\n      };\n\n      var bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n      var bodyItem, textColor, lines, i, j, ilen, jlen;\n      ctx.textAlign = bodyAlign;\n      ctx.textBaseline = 'middle';\n      ctx.font = bodyFont.string;\n      pt.x = getAlignedX(me, bodyAlignForCalculation, options);\n      ctx.fillStyle = options.bodyColor;\n      each(me.beforeBody, fillLineOfText);\n      xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + 1 : boxWidth + 2 : 0;\n\n      for (i = 0, ilen = body.length; i < ilen; ++i) {\n        bodyItem = body[i];\n        textColor = me.labelTextColors[i];\n        ctx.fillStyle = textColor;\n        each(bodyItem.before, fillLineOfText);\n        lines = bodyItem.lines;\n\n        if (displayColors && lines.length) {\n          me._drawColorBox(ctx, pt, i, rtlHelper, options);\n\n          bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n        }\n\n        for (j = 0, jlen = lines.length; j < jlen; ++j) {\n          fillLineOfText(lines[j]);\n          bodyLineHeight = bodyFont.lineHeight;\n        }\n\n        each(bodyItem.after, fillLineOfText);\n      }\n\n      xLinePadding = 0;\n      bodyLineHeight = bodyFont.lineHeight;\n      each(me.afterBody, fillLineOfText);\n      pt.y -= bodySpacing;\n    }\n  }, {\n    key: \"drawFooter\",\n    value: function drawFooter(pt, ctx, options) {\n      var me = this;\n      var footer = me.footer;\n      var length = footer.length;\n      var footerFont, i;\n\n      if (length) {\n        var rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n        pt.x = getAlignedX(me, options.footerAlign, options);\n        pt.y += options.footerMarginTop;\n        ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n        ctx.textBaseline = 'middle';\n        footerFont = toFont(options.footerFont);\n        ctx.fillStyle = options.footerColor;\n        ctx.font = footerFont.string;\n\n        for (i = 0; i < length; ++i) {\n          ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n          pt.y += footerFont.lineHeight + options.footerSpacing;\n        }\n      }\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground(pt, ctx, tooltipSize, options) {\n      var xAlign = this.xAlign,\n          yAlign = this.yAlign;\n      var x = pt.x,\n          y = pt.y;\n      var width = tooltipSize.width,\n          height = tooltipSize.height;\n      var radius = options.cornerRadius;\n      ctx.fillStyle = options.backgroundColor;\n      ctx.strokeStyle = options.borderColor;\n      ctx.lineWidth = options.borderWidth;\n      ctx.beginPath();\n      ctx.moveTo(x + radius, y);\n\n      if (yAlign === 'top') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + width - radius, y);\n      ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\n      if (yAlign === 'center' && xAlign === 'right') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + width, y + height - radius);\n      ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\n      if (yAlign === 'bottom') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + radius, y + height);\n      ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\n      if (yAlign === 'center' && xAlign === 'left') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x, y + radius);\n      ctx.quadraticCurveTo(x, y, x + radius, y);\n      ctx.closePath();\n      ctx.fill();\n\n      if (options.borderWidth > 0) {\n        ctx.stroke();\n      }\n    }\n  }, {\n    key: \"_updateAnimationTarget\",\n    value: function _updateAnimationTarget(options) {\n      var me = this;\n      var chart = me._chart;\n      var anims = me.$animations;\n      var animX = anims && anims.x;\n      var animY = anims && anims.y;\n\n      if (animX || animY) {\n        var position = positioners[options.position].call(me, me._active, me._eventPosition);\n\n        if (!position) {\n          return;\n        }\n\n        var size = me._size = getTooltipSize(me, options);\n        var positionAndSize = Object.assign({}, position, me._size);\n        var alignment = determineAlignment(chart, options, positionAndSize);\n        var point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n\n        if (animX._to !== point.x || animY._to !== point.y) {\n          me.xAlign = alignment.xAlign;\n          me.yAlign = alignment.yAlign;\n          me.width = size.width;\n          me.height = size.height;\n          me.caretX = position.x;\n          me.caretY = position.y;\n\n          me._resolveAnimations().update(me, point);\n        }\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var me = this;\n      var options = me.options.setContext(me.getContext());\n      var opacity = me.opacity;\n\n      if (!opacity) {\n        return;\n      }\n\n      me._updateAnimationTarget(options);\n\n      var tooltipSize = {\n        width: me.width,\n        height: me.height\n      };\n      var pt = {\n        x: me.x,\n        y: me.y\n      };\n      opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n      var padding = toPadding(options.padding);\n      var hasTooltipContent = me.title.length || me.beforeBody.length || me.body.length || me.afterBody.length || me.footer.length;\n\n      if (options.enabled && hasTooltipContent) {\n        ctx.save();\n        ctx.globalAlpha = opacity;\n        me.drawBackground(pt, ctx, tooltipSize, options);\n        overrideTextDirection(ctx, options.textDirection);\n        pt.y += padding.top;\n        me.drawTitle(pt, ctx, options);\n        me.drawBody(pt, ctx, options);\n        me.drawFooter(pt, ctx, options);\n        restoreTextDirection(ctx, options.textDirection);\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"getActiveElements\",\n    value: function getActiveElements() {\n      return this._active || [];\n    }\n  }, {\n    key: \"setActiveElements\",\n    value: function setActiveElements(activeElements, eventPosition) {\n      var me = this;\n      var lastActive = me._active;\n      var active = activeElements.map(function (_ref7) {\n        var datasetIndex = _ref7.datasetIndex,\n            index = _ref7.index;\n\n        var meta = me._chart.getDatasetMeta(datasetIndex);\n\n        if (!meta) {\n          throw new Error('Cannot find a dataset at index ' + datasetIndex);\n        }\n\n        return {\n          datasetIndex: datasetIndex,\n          element: meta.data[index],\n          index: index\n        };\n      });\n      var changed = !_elementsEqual(lastActive, active);\n\n      var positionChanged = me._positionChanged(active, eventPosition);\n\n      if (changed || positionChanged) {\n        me._active = active;\n        me._eventPosition = eventPosition;\n        me.update(true);\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(e, replay) {\n      var me = this;\n      var options = me.options;\n      var lastActive = me._active || [];\n      var changed = false;\n      var active = [];\n\n      if (e.type !== 'mouseout') {\n        active = me._chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n        if (options.reverse) {\n          active.reverse();\n        }\n      }\n\n      var positionChanged = me._positionChanged(active, e);\n\n      changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n      if (changed) {\n        me._active = active;\n\n        if (options.enabled || options.external) {\n          me._eventPosition = {\n            x: e.x,\n            y: e.y\n          };\n          me.update(true, replay);\n        }\n      }\n\n      return changed;\n    }\n  }, {\n    key: \"_positionChanged\",\n    value: function _positionChanged(active, e) {\n      var caretX = this.caretX,\n          caretY = this.caretY,\n          options = this.options;\n      var position = positioners[options.position].call(this, active, e);\n      return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n  }]);\n\n  return Tooltip;\n}(Element);\n\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners: positioners,\n  afterInit: function afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({\n        _chart: chart,\n        options: options\n      });\n    }\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset: function reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw: function afterDraw(chart) {\n    var tooltip = chart.tooltip;\n    var args = {\n      tooltip: tooltip\n    };\n\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent: function afterEvent(chart, args) {\n    if (chart.tooltip) {\n      var useFinalPosition = args.replay;\n\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold'\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {},\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold'\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: function boxHeight(ctx, opts) {\n      return opts.bodyFont.size;\n    },\n    boxWidth: function boxWidth(ctx, opts) {\n      return opts.bodyFont.size;\n    },\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart'\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY']\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title: function title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          var item = tooltipItems[0];\n          var labels = item.chart.data.labels;\n          var labelCount = labels ? labels.length : 0;\n\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label: function label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n\n        var label = tooltipItem.dataset.label || '';\n\n        if (label) {\n          label += ': ';\n        }\n\n        var value = tooltipItem.formattedValue;\n\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n\n        return label;\n      },\n      labelColor: function labelColor(tooltipItem) {\n        var meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        var options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0\n        };\n      },\n      labelTextColor: function labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle: function labelPointStyle(tooltipItem) {\n        var meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        var options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: function _scriptable(name) {\n      return name !== 'filter' && name !== 'itemSort' && name !== 'external';\n    },\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\nvar plugins = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Decimation: plugin_decimation,\n  Filler: plugin_filler,\n  Legend: plugin_legend,\n  Title: plugin_title,\n  Tooltip: plugin_tooltip\n});\n\nvar addIfString = function addIfString(labels, raw, index) {\n  return typeof raw === 'string' ? labels.push(raw) - 1 : isNaN(raw) ? null : index;\n};\n\nfunction findOrAddLabel(labels, raw, index) {\n  var first = labels.indexOf(raw);\n\n  if (first === -1) {\n    return addIfString(labels, raw, index);\n  }\n\n  var last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nvar validIndex = function validIndex(index, max) {\n  return index === null ? null : _limitValue(Math.round(index), 0, max);\n};\n\nvar CategoryScale = /*#__PURE__*/function (_Scale) {\n  _inherits(CategoryScale, _Scale);\n\n  var _super19 = _createSuper(CategoryScale);\n\n  function CategoryScale(cfg) {\n    var _this14;\n\n    _classCallCheck(this, CategoryScale);\n\n    _this14 = _super19.call(this, cfg);\n    _this14._startValue = undefined;\n    _this14._valueRange = 0;\n    return _this14;\n  }\n\n  _createClass(CategoryScale, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (isNullOrUndef(raw)) {\n        return null;\n      }\n\n      var labels = this.getLabels();\n      index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw));\n      return validIndex(index, labels.length - 1);\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n\n      var _me$getUserBounds2 = me.getUserBounds(),\n          minDefined = _me$getUserBounds2.minDefined,\n          maxDefined = _me$getUserBounds2.maxDefined;\n\n      var _me$getMinMax = me.getMinMax(true),\n          min = _me$getMinMax.min,\n          max = _me$getMinMax.max;\n\n      if (me.options.bounds === 'ticks') {\n        if (!minDefined) {\n          min = 0;\n        }\n\n        if (!maxDefined) {\n          max = me.getLabels().length - 1;\n        }\n      }\n\n      me.min = min;\n      me.max = max;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var me = this;\n      var min = me.min;\n      var max = me.max;\n      var offset = me.options.offset;\n      var ticks = [];\n      var labels = me.getLabels();\n      labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n      me._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n      me._startValue = me.min - (offset ? 0.5 : 0);\n\n      for (var value = min; value <= max; value++) {\n        ticks.push({\n          value: value\n        });\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      var me = this;\n      var labels = me.getLabels();\n\n      if (value >= 0 && value < labels.length) {\n        return labels[value];\n      }\n\n      return value;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n\n      _get(_getPrototypeOf(CategoryScale.prototype), \"configure\", this).call(this);\n\n      if (!me.isHorizontal()) {\n        me._reversePixels = !me._reversePixels;\n      }\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      var me = this;\n\n      if (typeof value !== 'number') {\n        value = me.parse(value);\n      }\n\n      return value === null ? NaN : me.getPixelForDecimal((value - me._startValue) / me._valueRange);\n    }\n  }, {\n    key: \"getPixelForTick\",\n    value: function getPixelForTick(index) {\n      var me = this;\n      var ticks = me.ticks;\n\n      if (index < 0 || index > ticks.length - 1) {\n        return null;\n      }\n\n      return me.getPixelForValue(ticks[index].value);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var me = this;\n      return Math.round(me._startValue + me.getDecimalForPixel(pixel) * me._valueRange);\n    }\n  }, {\n    key: \"getBasePixel\",\n    value: function getBasePixel() {\n      return this.bottom;\n    }\n  }]);\n\n  return CategoryScale;\n}(Scale);\n\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  var ticks = [];\n  var MIN_SPACING = 1e-14;\n  var step = generationOptions.step,\n      min = generationOptions.min,\n      max = generationOptions.max,\n      precision = generationOptions.precision,\n      count = generationOptions.count,\n      maxTicks = generationOptions.maxTicks;\n  var unit = step || 1;\n  var maxSpaces = maxTicks - 1;\n  var rmin = dataRange.min,\n      rmax = dataRange.max;\n  var minDefined = !isNullOrUndef(min);\n  var maxDefined = !isNullOrUndef(max);\n  var countDefined = !isNullOrUndef(count);\n  var spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  var factor, niceMin, niceMax, numSpaces;\n\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{\n      value: rmin\n    }, {\n      value: rmax\n    }];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  niceMin = Math.floor(rmin / spacing) * spacing;\n  niceMax = Math.ceil(rmax / spacing) * spacing;\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.min((max - min) / spacing, maxTicks);\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  factor = Math.pow(10, isNullOrUndef(precision) ? _decimalPlaces(spacing) : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  var j = 0;\n\n  if (minDefined) {\n    ticks.push({\n      value: min\n    });\n\n    if (niceMin <= min) {\n      j++;\n    }\n\n    if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, spacing / 10)) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    ticks.push({\n      value: Math.round((niceMin + j * spacing) * factor) / factor\n    });\n  }\n\n  if (maxDefined) {\n    if (almostEquals(ticks[ticks.length - 1].value, max, spacing / 10)) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({\n        value: max\n      });\n    }\n  } else {\n    ticks.push({\n      value: niceMax\n    });\n  }\n\n  return ticks;\n}\n\nvar LinearScaleBase = /*#__PURE__*/function (_Scale2) {\n  _inherits(LinearScaleBase, _Scale2);\n\n  var _super20 = _createSuper(LinearScaleBase);\n\n  function LinearScaleBase(cfg) {\n    var _this15;\n\n    _classCallCheck(this, LinearScaleBase);\n\n    _this15 = _super20.call(this, cfg);\n    _this15.start = undefined;\n    _this15.end = undefined;\n    _this15._startValue = undefined;\n    _this15._endValue = undefined;\n    _this15._valueRange = 0;\n    return _this15;\n  }\n\n  _createClass(LinearScaleBase, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (isNullOrUndef(raw)) {\n        return null;\n      }\n\n      if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n        return null;\n      }\n\n      return +raw;\n    }\n  }, {\n    key: \"handleTickRangeOptions\",\n    value: function handleTickRangeOptions() {\n      var me = this;\n      var _me$options7 = me.options,\n          beginAtZero = _me$options7.beginAtZero,\n          stacked = _me$options7.stacked;\n\n      var _me$getUserBounds3 = me.getUserBounds(),\n          minDefined = _me$getUserBounds3.minDefined,\n          maxDefined = _me$getUserBounds3.maxDefined;\n\n      var min = me.min,\n          max = me.max;\n\n      var setMin = function setMin(v) {\n        return min = minDefined ? min : v;\n      };\n\n      var setMax = function setMax(v) {\n        return max = maxDefined ? max : v;\n      };\n\n      if (beginAtZero || stacked) {\n        var minSign = sign(min);\n        var maxSign = sign(max);\n\n        if (minSign < 0 && maxSign < 0) {\n          setMax(0);\n        } else if (minSign > 0 && maxSign > 0) {\n          setMin(0);\n        }\n      }\n\n      if (min === max) {\n        setMax(max + 1);\n\n        if (!beginAtZero) {\n          setMin(min - 1);\n        }\n      }\n\n      me.min = min;\n      me.max = max;\n    }\n  }, {\n    key: \"getTickLimit\",\n    value: function getTickLimit() {\n      var me = this;\n      var tickOpts = me.options.ticks;\n      var maxTicksLimit = tickOpts.maxTicksLimit,\n          stepSize = tickOpts.stepSize;\n      var maxTicks;\n\n      if (stepSize) {\n        maxTicks = Math.ceil(me.max / stepSize) - Math.floor(me.min / stepSize) + 1;\n      } else {\n        maxTicks = me.computeTickLimit();\n        maxTicksLimit = maxTicksLimit || 11;\n      }\n\n      if (maxTicksLimit) {\n        maxTicks = Math.min(maxTicksLimit, maxTicks);\n      }\n\n      return maxTicks;\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      return Number.POSITIVE_INFINITY;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var me = this;\n      var opts = me.options;\n      var tickOpts = opts.ticks;\n      var maxTicks = me.getTickLimit();\n      maxTicks = Math.max(2, maxTicks);\n      var numericGeneratorOptions = {\n        maxTicks: maxTicks,\n        min: opts.min,\n        max: opts.max,\n        precision: tickOpts.precision,\n        step: tickOpts.stepSize,\n        count: tickOpts.count\n      };\n      var dataRange = me._range || me;\n      var ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n\n      if (opts.bounds === 'ticks') {\n        _setMinAndMaxByKey(ticks, me, 'value');\n      }\n\n      if (opts.reverse) {\n        ticks.reverse();\n        me.start = me.max;\n        me.end = me.min;\n      } else {\n        me.start = me.min;\n        me.end = me.max;\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n      var ticks = me.ticks;\n      var start = me.min;\n      var end = me.max;\n\n      _get(_getPrototypeOf(LinearScaleBase.prototype), \"configure\", this).call(this);\n\n      if (me.options.offset && ticks.length) {\n        var offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n        start -= offset;\n        end += offset;\n      }\n\n      me._startValue = start;\n      me._endValue = end;\n      me._valueRange = end - start;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return formatNumber(value, this.chart.options.locale);\n    }\n  }]);\n\n  return LinearScaleBase;\n}(Scale);\n\nvar LinearScale = /*#__PURE__*/function (_LinearScaleBase) {\n  _inherits(LinearScale, _LinearScaleBase);\n\n  var _super21 = _createSuper(LinearScale);\n\n  function LinearScale() {\n    _classCallCheck(this, LinearScale);\n\n    return _super21.apply(this, arguments);\n  }\n\n  _createClass(LinearScale, [{\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n\n      var _me$getMinMax2 = me.getMinMax(true),\n          min = _me$getMinMax2.min,\n          max = _me$getMinMax2.max;\n\n      me.min = isNumberFinite(min) ? min : 0;\n      me.max = isNumberFinite(max) ? max : 1;\n      me.handleTickRangeOptions();\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      var me = this;\n\n      if (me.isHorizontal()) {\n        return Math.ceil(me.width / 40);\n      }\n\n      var tickFont = me._resolveTickFontOptions(0);\n\n      return Math.ceil(me.height / tickFont.lineHeight);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n  }]);\n\n  return LinearScale;\n}(LinearScaleBase);\n\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  var remain = tickVal / Math.pow(10, Math.floor(log10(tickVal)));\n  return remain === 1;\n}\n\nfunction generateTicks(generationOptions, dataRange) {\n  var endExp = Math.floor(log10(dataRange.max));\n  var endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  var ticks = [];\n  var tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  var exp = Math.floor(log10(tickVal));\n  var significand = Math.floor(tickVal / Math.pow(10, exp));\n  var precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n\n  do {\n    ticks.push({\n      value: tickVal,\n      major: isMajor(tickVal)\n    });\n    ++significand;\n\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || exp === endExp && significand < endSignificand);\n\n  var lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({\n    value: lastTick,\n    major: isMajor(tickVal)\n  });\n  return ticks;\n}\n\nvar LogarithmicScale = /*#__PURE__*/function (_Scale3) {\n  _inherits(LogarithmicScale, _Scale3);\n\n  var _super22 = _createSuper(LogarithmicScale);\n\n  function LogarithmicScale(cfg) {\n    var _this16;\n\n    _classCallCheck(this, LogarithmicScale);\n\n    _this16 = _super22.call(this, cfg);\n    _this16.start = undefined;\n    _this16.end = undefined;\n    _this16._startValue = undefined;\n    _this16._valueRange = 0;\n    return _this16;\n  }\n\n  _createClass(LogarithmicScale, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      var value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n\n      if (value === 0) {\n        this._zero = true;\n        return undefined;\n      }\n\n      return isNumberFinite(value) && value > 0 ? value : null;\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n\n      var _me$getMinMax3 = me.getMinMax(true),\n          min = _me$getMinMax3.min,\n          max = _me$getMinMax3.max;\n\n      me.min = isNumberFinite(min) ? Math.max(0, min) : null;\n      me.max = isNumberFinite(max) ? Math.max(0, max) : null;\n\n      if (me.options.beginAtZero) {\n        me._zero = true;\n      }\n\n      me.handleTickRangeOptions();\n    }\n  }, {\n    key: \"handleTickRangeOptions\",\n    value: function handleTickRangeOptions() {\n      var me = this;\n\n      var _me$getUserBounds4 = me.getUserBounds(),\n          minDefined = _me$getUserBounds4.minDefined,\n          maxDefined = _me$getUserBounds4.maxDefined;\n\n      var min = me.min;\n      var max = me.max;\n\n      var setMin = function setMin(v) {\n        return min = minDefined ? min : v;\n      };\n\n      var setMax = function setMax(v) {\n        return max = maxDefined ? max : v;\n      };\n\n      var exp = function exp(v, m) {\n        return Math.pow(10, Math.floor(log10(v)) + m);\n      };\n\n      if (min === max) {\n        if (min <= 0) {\n          setMin(1);\n          setMax(10);\n        } else {\n          setMin(exp(min, -1));\n          setMax(exp(max, +1));\n        }\n      }\n\n      if (min <= 0) {\n        setMin(exp(max, -1));\n      }\n\n      if (max <= 0) {\n        setMax(exp(min, +1));\n      }\n\n      if (me._zero && me.min !== me._suggestedMin && min === exp(me.min, 0)) {\n        setMin(exp(min, -1));\n      }\n\n      me.min = min;\n      me.max = max;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var me = this;\n      var opts = me.options;\n      var generationOptions = {\n        min: me._userMin,\n        max: me._userMax\n      };\n      var ticks = generateTicks(generationOptions, me);\n\n      if (opts.bounds === 'ticks') {\n        _setMinAndMaxByKey(ticks, me, 'value');\n      }\n\n      if (opts.reverse) {\n        ticks.reverse();\n        me.start = me.max;\n        me.end = me.min;\n      } else {\n        me.start = me.min;\n        me.end = me.max;\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return value === undefined ? '0' : formatNumber(value, this.chart.options.locale);\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n      var start = me.min;\n\n      _get(_getPrototypeOf(LogarithmicScale.prototype), \"configure\", this).call(this);\n\n      me._startValue = log10(start);\n      me._valueRange = log10(me.max) - log10(start);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      var me = this;\n\n      if (value === undefined || value === 0) {\n        value = me.min;\n      }\n\n      if (value === null || isNaN(value)) {\n        return NaN;\n      }\n\n      return me.getPixelForDecimal(value === me.min ? 0 : (log10(value) - me._startValue) / me._valueRange);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var me = this;\n      var decimal = me.getDecimalForPixel(pixel);\n      return Math.pow(10, me._startValue + decimal * me._valueRange);\n    }\n  }]);\n\n  return LogarithmicScale;\n}(Scale);\n\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  var tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    var padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n\n  return 0;\n}\n\nfunction measureLabelSize(ctx, lineHeight, label) {\n  if (isArray(label)) {\n    return {\n      w: _longestText(ctx, ctx.font, label),\n      h: label.length * lineHeight\n    };\n  }\n\n  return {\n    w: ctx.measureText(label).width,\n    h: lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - size / 2,\n      end: pos + size / 2\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\nfunction fitWithPointLabels(scale) {\n  var furthestLimits = {\n    l: 0,\n    r: scale.width,\n    t: 0,\n    b: scale.height - scale.paddingTop\n  };\n  var furthestAngles = {};\n  var i, textSize, pointPosition;\n  var labelSizes = [];\n  var padding = [];\n  var valueCount = scale.getLabels().length;\n\n  for (i = 0; i < valueCount; i++) {\n    var _opts = scale.options.pointLabels.setContext(scale.getContext(i));\n\n    padding[i] = _opts.padding;\n    pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i]);\n    var plFont = toFont(_opts.font);\n    scale.ctx.font = plFont.string;\n    textSize = measureLabelSize(scale.ctx, plFont.lineHeight, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    var angleRadians = scale.getIndexAngle(i);\n    var angle = toDegrees(angleRadians);\n    var hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    var vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n\n    if (hLimits.start < furthestLimits.l) {\n      furthestLimits.l = hLimits.start;\n      furthestAngles.l = angleRadians;\n    }\n\n    if (hLimits.end > furthestLimits.r) {\n      furthestLimits.r = hLimits.end;\n      furthestAngles.r = angleRadians;\n    }\n\n    if (vLimits.start < furthestLimits.t) {\n      furthestLimits.t = vLimits.start;\n      furthestAngles.t = angleRadians;\n    }\n\n    if (vLimits.end > furthestLimits.b) {\n      furthestLimits.b = vLimits.end;\n      furthestAngles.b = angleRadians;\n    }\n  }\n\n  scale._setReductions(scale.drawingArea, furthestLimits, furthestAngles);\n\n  scale._pointLabelItems = [];\n  var opts = scale.options;\n  var tickBackdropHeight = getTickBackdropHeight(opts);\n  var outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\n\n  for (i = 0; i < valueCount; i++) {\n    var extra = i === 0 ? tickBackdropHeight / 2 : 0;\n    var pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i]);\n\n    var _angle = toDegrees(scale.getIndexAngle(i));\n\n    var size = labelSizes[i];\n    adjustPointPositionForLabelHeight(_angle, size, pointLabelPosition);\n    var textAlign = getTextAlignForAngle(_angle);\n    var left = void 0;\n\n    if (textAlign === 'left') {\n      left = pointLabelPosition.x;\n    } else if (textAlign === 'center') {\n      left = pointLabelPosition.x - size.w / 2;\n    } else {\n      left = pointLabelPosition.x - size.w;\n    }\n\n    var right = left + size.w;\n    scale._pointLabelItems[i] = {\n      x: pointLabelPosition.x,\n      y: pointLabelPosition.y,\n      textAlign: textAlign,\n      left: left,\n      top: pointLabelPosition.y,\n      right: right,\n      bottom: pointLabelPosition.y + size.h\n    };\n  }\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction adjustPointPositionForLabelHeight(angle, textSize, position) {\n  if (angle === 90 || angle === 270) {\n    position.y -= textSize.h / 2;\n  } else if (angle > 270 || angle < 90) {\n    position.y -= textSize.h;\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  var ctx = scale.ctx,\n      pointLabels = scale.options.pointLabels;\n\n  for (var i = labelCount - 1; i >= 0; i--) {\n    var optsAtIndex = pointLabels.setContext(scale.getContext(i));\n    var plFont = toFont(optsAtIndex.font);\n    var _scale$_pointLabelIte = scale._pointLabelItems[i],\n        x = _scale$_pointLabelIte.x,\n        y = _scale$_pointLabelIte.y,\n        textAlign = _scale$_pointLabelIte.textAlign,\n        left = _scale$_pointLabelIte.left,\n        top = _scale$_pointLabelIte.top,\n        right = _scale$_pointLabelIte.right,\n        bottom = _scale$_pointLabelIte.bottom;\n    var backdropColor = optsAtIndex.backdropColor;\n\n    if (!isNullOrUndef(backdropColor)) {\n      var padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n\n    renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n      color: optsAtIndex.color,\n      textAlign: textAlign,\n      textBaseline: 'middle'\n    });\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  var ctx = scale.ctx;\n\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    var pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (var i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  var ctx = scale.ctx;\n  var circular = gridLineOpts.circular;\n  var color = gridLineOpts.color,\n      lineWidth = gridLineOpts.lineWidth;\n\n  if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction numberOrZero(param) {\n  return isNumber(param) ? param : 0;\n}\n\nvar RadialLinearScale = /*#__PURE__*/function (_LinearScaleBase2) {\n  _inherits(RadialLinearScale, _LinearScaleBase2);\n\n  var _super23 = _createSuper(RadialLinearScale);\n\n  function RadialLinearScale(cfg) {\n    var _this17;\n\n    _classCallCheck(this, RadialLinearScale);\n\n    _this17 = _super23.call(this, cfg);\n    _this17.xCenter = undefined;\n    _this17.yCenter = undefined;\n    _this17.drawingArea = undefined;\n    _this17._pointLabels = [];\n    _this17._pointLabelItems = [];\n    return _this17;\n  }\n\n  _createClass(RadialLinearScale, [{\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      var me = this;\n      me.width = me.maxWidth;\n      me.height = me.maxHeight;\n      me.paddingTop = getTickBackdropHeight(me.options) / 2;\n      me.xCenter = Math.floor(me.width / 2);\n      me.yCenter = Math.floor((me.height - me.paddingTop) / 2);\n      me.drawingArea = Math.min(me.height - me.paddingTop, me.width) / 2;\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n\n      var _me$getMinMax4 = me.getMinMax(false),\n          min = _me$getMinMax4.min,\n          max = _me$getMinMax4.max;\n\n      me.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n      me.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n      me.handleTickRangeOptions();\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var me = this;\n      LinearScaleBase.prototype.generateTickLabels.call(me, ticks);\n      me._pointLabels = me.getLabels().map(function (value, index) {\n        var label = callback(me.options.pointLabels.callback, [value, index], me);\n        return label || label === 0 ? label : '';\n      });\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var me = this;\n      var opts = me.options;\n\n      if (opts.display && opts.pointLabels.display) {\n        fitWithPointLabels(me);\n      } else {\n        me.setCenterPoint(0, 0, 0, 0);\n      }\n    }\n  }, {\n    key: \"_setReductions\",\n    value: function _setReductions(largestPossibleRadius, furthestLimits, furthestAngles) {\n      var me = this;\n      var radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\n      var radiusReductionRight = Math.max(furthestLimits.r - me.width, 0) / Math.sin(furthestAngles.r);\n      var radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\n      var radiusReductionBottom = -Math.max(furthestLimits.b - (me.height - me.paddingTop), 0) / Math.cos(furthestAngles.b);\n      radiusReductionLeft = numberOrZero(radiusReductionLeft);\n      radiusReductionRight = numberOrZero(radiusReductionRight);\n      radiusReductionTop = numberOrZero(radiusReductionTop);\n      radiusReductionBottom = numberOrZero(radiusReductionBottom);\n      me.drawingArea = Math.max(largestPossibleRadius / 2, Math.min(Math.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2), Math.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2)));\n      me.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\n    }\n  }, {\n    key: \"setCenterPoint\",\n    value: function setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n      var me = this;\n      var maxRight = me.width - rightMovement - me.drawingArea;\n      var maxLeft = leftMovement + me.drawingArea;\n      var maxTop = topMovement + me.drawingArea;\n      var maxBottom = me.height - me.paddingTop - bottomMovement - me.drawingArea;\n      me.xCenter = Math.floor((maxLeft + maxRight) / 2 + me.left);\n      me.yCenter = Math.floor((maxTop + maxBottom) / 2 + me.top + me.paddingTop);\n    }\n  }, {\n    key: \"getIndexAngle\",\n    value: function getIndexAngle(index) {\n      var angleMultiplier = TAU / this.getLabels().length;\n      var startAngle = this.options.startAngle || 0;\n      return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n  }, {\n    key: \"getDistanceFromCenterForValue\",\n    value: function getDistanceFromCenterForValue(value) {\n      var me = this;\n\n      if (isNullOrUndef(value)) {\n        return NaN;\n      }\n\n      var scalingFactor = me.drawingArea / (me.max - me.min);\n\n      if (me.options.reverse) {\n        return (me.max - value) * scalingFactor;\n      }\n\n      return (value - me.min) * scalingFactor;\n    }\n  }, {\n    key: \"getValueForDistanceFromCenter\",\n    value: function getValueForDistanceFromCenter(distance) {\n      if (isNullOrUndef(distance)) {\n        return NaN;\n      }\n\n      var me = this;\n      var scaledDistance = distance / (me.drawingArea / (me.max - me.min));\n      return me.options.reverse ? me.max - scaledDistance : me.min + scaledDistance;\n    }\n  }, {\n    key: \"getPointPosition\",\n    value: function getPointPosition(index, distanceFromCenter) {\n      var me = this;\n      var angle = me.getIndexAngle(index) - HALF_PI;\n      return {\n        x: Math.cos(angle) * distanceFromCenter + me.xCenter,\n        y: Math.sin(angle) * distanceFromCenter + me.yCenter,\n        angle: angle\n      };\n    }\n  }, {\n    key: \"getPointPositionForValue\",\n    value: function getPointPositionForValue(index, value) {\n      return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n  }, {\n    key: \"getBasePosition\",\n    value: function getBasePosition(index) {\n      return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n  }, {\n    key: \"getPointLabelPosition\",\n    value: function getPointLabelPosition(index) {\n      var _this$_pointLabelItem = this._pointLabelItems[index],\n          left = _this$_pointLabelItem.left,\n          top = _this$_pointLabelItem.top,\n          right = _this$_pointLabelItem.right,\n          bottom = _this$_pointLabelItem.bottom;\n      return {\n        left: left,\n        top: top,\n        right: right,\n        bottom: bottom\n      };\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground() {\n      var me = this;\n      var _me$options8 = me.options,\n          backgroundColor = _me$options8.backgroundColor,\n          circular = _me$options8.grid.circular;\n\n      if (backgroundColor) {\n        var ctx = me.ctx;\n        ctx.save();\n        ctx.beginPath();\n        pathRadiusLine(me, me.getDistanceFromCenterForValue(me._endValue), circular, me.getLabels().length);\n        ctx.closePath();\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"drawGrid\",\n    value: function drawGrid() {\n      var me = this;\n      var ctx = me.ctx;\n      var opts = me.options;\n      var angleLines = opts.angleLines,\n          grid = opts.grid;\n      var labelCount = me.getLabels().length;\n      var i, offset, position;\n\n      if (opts.pointLabels.display) {\n        drawPointLabels(me, labelCount);\n      }\n\n      if (grid.display) {\n        me.ticks.forEach(function (tick, index) {\n          if (index !== 0) {\n            offset = me.getDistanceFromCenterForValue(tick.value);\n            var optsAtIndex = grid.setContext(me.getContext(index - 1));\n            drawRadiusLine(me, optsAtIndex, offset, labelCount);\n          }\n        });\n      }\n\n      if (angleLines.display) {\n        ctx.save();\n\n        for (i = me.getLabels().length - 1; i >= 0; i--) {\n          var optsAtIndex = angleLines.setContext(me.getContext(i));\n          var color = optsAtIndex.color,\n              lineWidth = optsAtIndex.lineWidth;\n\n          if (!lineWidth || !color) {\n            continue;\n          }\n\n          ctx.lineWidth = lineWidth;\n          ctx.strokeStyle = color;\n          ctx.setLineDash(optsAtIndex.borderDash);\n          ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n          offset = me.getDistanceFromCenterForValue(opts.ticks.reverse ? me.min : me.max);\n          position = me.getPointPosition(i, offset);\n          ctx.beginPath();\n          ctx.moveTo(me.xCenter, me.yCenter);\n          ctx.lineTo(position.x, position.y);\n          ctx.stroke();\n        }\n\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"drawLabels\",\n    value: function drawLabels() {\n      var me = this;\n      var ctx = me.ctx;\n      var opts = me.options;\n      var tickOpts = opts.ticks;\n\n      if (!tickOpts.display) {\n        return;\n      }\n\n      var startAngle = me.getIndexAngle(0);\n      var offset, width;\n      ctx.save();\n      ctx.translate(me.xCenter, me.yCenter);\n      ctx.rotate(startAngle);\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n      me.ticks.forEach(function (tick, index) {\n        if (index === 0 && !opts.reverse) {\n          return;\n        }\n\n        var optsAtIndex = tickOpts.setContext(me.getContext(index));\n        var tickFont = toFont(optsAtIndex.font);\n        offset = me.getDistanceFromCenterForValue(me.ticks[index].value);\n\n        if (optsAtIndex.showLabelBackdrop) {\n          width = ctx.measureText(tick.label).width;\n          ctx.fillStyle = optsAtIndex.backdropColor;\n          var padding = toPadding(optsAtIndex.backdropPadding);\n          ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n        }\n\n        renderText(ctx, tick.label, 0, -offset, tickFont, {\n          color: optsAtIndex.color\n        });\n      });\n      ctx.restore();\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {}\n  }]);\n\n  return RadialLinearScale;\n}(LinearScaleBase);\n\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    backdropColor: 'rgba(255,255,255,0.75)',\n    backdropPadding: 2,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback: function callback(label) {\n      return label;\n    },\n    padding: 5\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\nvar INTERVALS = {\n  millisecond: {\n    common: true,\n    size: 1,\n    steps: 1000\n  },\n  second: {\n    common: true,\n    size: 1000,\n    steps: 60\n  },\n  minute: {\n    common: true,\n    size: 60000,\n    steps: 60\n  },\n  hour: {\n    common: true,\n    size: 3600000,\n    steps: 24\n  },\n  day: {\n    common: true,\n    size: 86400000,\n    steps: 30\n  },\n  week: {\n    common: false,\n    size: 604800000,\n    steps: 4\n  },\n  month: {\n    common: true,\n    size: 2.628e9,\n    steps: 12\n  },\n  quarter: {\n    common: false,\n    size: 7.884e9,\n    steps: 4\n  },\n  year: {\n    common: true,\n    size: 3.154e10\n  }\n};\nvar UNITS = Object.keys(INTERVALS);\n\nfunction sorter(a, b) {\n  return a - b;\n}\n\nfunction _parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  var adapter = scale._adapter;\n  var options = scale.options.time;\n  var parser = options.parser,\n      round = options.round,\n      isoWeekday = options.isoWeekday;\n  var value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string' ? adapter.parse(value, parser) : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  var ilen = UNITS.length;\n\n  for (var i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    var interval = INTERVALS[UNITS[i]];\n    var factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (var i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    var unit = UNITS[i];\n\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\nfunction determineMajorUnit(unit) {\n  for (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    var _lookup2 = _lookup(timestamps, time),\n        lo = _lookup2.lo,\n        hi = _lookup2.hi;\n\n    var timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  var adapter = scale._adapter;\n  var first = +adapter.startOf(ticks[0].value, majorUnit);\n  var last = ticks[ticks.length - 1].value;\n  var major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n\n  return ticks;\n}\n\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  var ticks = [];\n  var map = {};\n  var ilen = values.length;\n  var i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value: value,\n      major: false\n    });\n  }\n\n  return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nvar TimeScale = /*#__PURE__*/function (_Scale4) {\n  _inherits(TimeScale, _Scale4);\n\n  var _super24 = _createSuper(TimeScale);\n\n  function TimeScale(props) {\n    var _this18;\n\n    _classCallCheck(this, TimeScale);\n\n    _this18 = _super24.call(this, props);\n    _this18._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    _this18._unit = 'day';\n    _this18._majorUnit = undefined;\n    _this18._offsets = {};\n    _this18._normalized = false;\n    return _this18;\n  }\n\n  _createClass(TimeScale, [{\n    key: \"init\",\n    value: function init(scaleOpts, opts) {\n      var time = scaleOpts.time || (scaleOpts.time = {});\n      var adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n      mergeIf(time.displayFormats, adapter.formats());\n\n      _get(_getPrototypeOf(TimeScale.prototype), \"init\", this).call(this, scaleOpts);\n\n      this._normalized = opts.normalized;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (raw === undefined) {\n        return null;\n      }\n\n      return _parse(this, raw);\n    }\n  }, {\n    key: \"beforeLayout\",\n    value: function beforeLayout() {\n      _get(_getPrototypeOf(TimeScale.prototype), \"beforeLayout\", this).call(this);\n\n      this._cache = {\n        data: [],\n        labels: [],\n        all: []\n      };\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n      var options = me.options;\n      var adapter = me._adapter;\n      var unit = options.time.unit || 'day';\n\n      var _me$getUserBounds5 = me.getUserBounds(),\n          min = _me$getUserBounds5.min,\n          max = _me$getUserBounds5.max,\n          minDefined = _me$getUserBounds5.minDefined,\n          maxDefined = _me$getUserBounds5.maxDefined;\n\n      function _applyBounds(bounds) {\n        if (!minDefined && !isNaN(bounds.min)) {\n          min = Math.min(min, bounds.min);\n        }\n\n        if (!maxDefined && !isNaN(bounds.max)) {\n          max = Math.max(max, bounds.max);\n        }\n      }\n\n      if (!minDefined || !maxDefined) {\n        _applyBounds(me._getLabelBounds());\n\n        if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n          _applyBounds(me.getMinMax(false));\n        }\n      }\n\n      min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n      max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n      me.min = Math.min(min, max - 1);\n      me.max = Math.max(min + 1, max);\n    }\n  }, {\n    key: \"_getLabelBounds\",\n    value: function _getLabelBounds() {\n      var arr = this.getLabelTimestamps();\n      var min = Number.POSITIVE_INFINITY;\n      var max = Number.NEGATIVE_INFINITY;\n\n      if (arr.length) {\n        min = arr[0];\n        max = arr[arr.length - 1];\n      }\n\n      return {\n        min: min,\n        max: max\n      };\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var me = this;\n      var options = me.options;\n      var timeOpts = options.time;\n      var tickOpts = options.ticks;\n      var timestamps = tickOpts.source === 'labels' ? me.getLabelTimestamps() : me._generate();\n\n      if (options.bounds === 'ticks' && timestamps.length) {\n        me.min = me._userMin || timestamps[0];\n        me.max = me._userMax || timestamps[timestamps.length - 1];\n      }\n\n      var min = me.min;\n      var max = me.max;\n\n      var ticks = _filterBetween(timestamps, min, max);\n\n      me._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, me.min, me.max, me._getLabelCapacity(min)) : determineUnitForFormatting(me, ticks.length, timeOpts.minUnit, me.min, me.max));\n      me._majorUnit = !tickOpts.major.enabled || me._unit === 'year' ? undefined : determineMajorUnit(me._unit);\n      me.initOffsets(timestamps);\n\n      if (options.reverse) {\n        ticks.reverse();\n      }\n\n      return ticksFromTimestamps(me, ticks, me._majorUnit);\n    }\n  }, {\n    key: \"initOffsets\",\n    value: function initOffsets(timestamps) {\n      var me = this;\n      var start = 0;\n      var end = 0;\n      var first, last;\n\n      if (me.options.offset && timestamps.length) {\n        first = me.getDecimalForValue(timestamps[0]);\n\n        if (timestamps.length === 1) {\n          start = 1 - first;\n        } else {\n          start = (me.getDecimalForValue(timestamps[1]) - first) / 2;\n        }\n\n        last = me.getDecimalForValue(timestamps[timestamps.length - 1]);\n\n        if (timestamps.length === 1) {\n          end = last;\n        } else {\n          end = (last - me.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n        }\n      }\n\n      var limit = timestamps.length < 3 ? 0.5 : 0.25;\n      start = _limitValue(start, 0, limit);\n      end = _limitValue(end, 0, limit);\n      me._offsets = {\n        start: start,\n        end: end,\n        factor: 1 / (start + 1 + end)\n      };\n    }\n  }, {\n    key: \"_generate\",\n    value: function _generate() {\n      var me = this;\n      var adapter = me._adapter;\n      var min = me.min;\n      var max = me.max;\n      var options = me.options;\n      var timeOpts = options.time;\n      var minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, me._getLabelCapacity(min));\n      var stepSize = valueOrDefault(timeOpts.stepSize, 1);\n      var weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n      var hasWeekday = isNumber(weekday) || weekday === true;\n      var ticks = {};\n      var first = min;\n      var time, count;\n\n      if (hasWeekday) {\n        first = +adapter.startOf(first, 'isoWeek', weekday);\n      }\n\n      first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n      if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n        throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n      }\n\n      var timestamps = options.ticks.source === 'data' && me.getDataTimestamps();\n\n      for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n        addTick(ticks, time, timestamps);\n      }\n\n      if (time === max || options.bounds === 'ticks' || count === 1) {\n        addTick(ticks, time, timestamps);\n      }\n\n      return Object.keys(ticks).sort(function (a, b) {\n        return a - b;\n      }).map(function (x) {\n        return +x;\n      });\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      var me = this;\n      var adapter = me._adapter;\n      var timeOpts = me.options.time;\n\n      if (timeOpts.tooltipFormat) {\n        return adapter.format(value, timeOpts.tooltipFormat);\n      }\n\n      return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n  }, {\n    key: \"_tickFormatFunction\",\n    value: function _tickFormatFunction(time, index, ticks, format) {\n      var me = this;\n      var options = me.options;\n      var formats = options.time.displayFormats;\n      var unit = me._unit;\n      var majorUnit = me._majorUnit;\n      var minorFormat = unit && formats[unit];\n      var majorFormat = majorUnit && formats[majorUnit];\n      var tick = ticks[index];\n      var major = majorUnit && majorFormat && tick && tick.major;\n\n      var label = me._adapter.format(time, format || (major ? majorFormat : minorFormat));\n\n      var formatter = options.ticks.callback;\n      return formatter ? callback(formatter, [label, index, ticks], me) : label;\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var i, ilen, tick;\n\n      for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n        tick = ticks[i];\n        tick.label = this._tickFormatFunction(tick.value, i, ticks);\n      }\n    }\n  }, {\n    key: \"getDecimalForValue\",\n    value: function getDecimalForValue(value) {\n      var me = this;\n      return value === null ? NaN : (value - me.min) / (me.max - me.min);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      var me = this;\n      var offsets = me._offsets;\n      var pos = me.getDecimalForValue(value);\n      return me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var me = this;\n      var offsets = me._offsets;\n      var pos = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n      return me.min + pos * (me.max - me.min);\n    }\n  }, {\n    key: \"_getLabelSize\",\n    value: function _getLabelSize(label) {\n      var me = this;\n      var ticksOpts = me.options.ticks;\n      var tickLabelWidth = me.ctx.measureText(label).width;\n      var angle = toRadians(me.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n      var cosRotation = Math.cos(angle);\n      var sinRotation = Math.sin(angle);\n\n      var tickFontSize = me._resolveTickFontOptions(0).size;\n\n      return {\n        w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n        h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n      };\n    }\n  }, {\n    key: \"_getLabelCapacity\",\n    value: function _getLabelCapacity(exampleTime) {\n      var me = this;\n      var timeOpts = me.options.time;\n      var displayFormats = timeOpts.displayFormats;\n      var format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n\n      var exampleLabel = me._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(me, [exampleTime], me._majorUnit), format);\n\n      var size = me._getLabelSize(exampleLabel);\n\n      var capacity = Math.floor(me.isHorizontal() ? me.width / size.w : me.height / size.h) - 1;\n      return capacity > 0 ? capacity : 1;\n    }\n  }, {\n    key: \"getDataTimestamps\",\n    value: function getDataTimestamps() {\n      var me = this;\n      var timestamps = me._cache.data || [];\n      var i, ilen;\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var metas = me.getMatchingVisibleMetas();\n\n      if (me._normalized && metas.length) {\n        return me._cache.data = metas[0].controller.getAllParsedValues(me);\n      }\n\n      for (i = 0, ilen = metas.length; i < ilen; ++i) {\n        timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(me));\n      }\n\n      return me._cache.data = me.normalize(timestamps);\n    }\n  }, {\n    key: \"getLabelTimestamps\",\n    value: function getLabelTimestamps() {\n      var me = this;\n      var timestamps = me._cache.labels || [];\n      var i, ilen;\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var labels = me.getLabels();\n\n      for (i = 0, ilen = labels.length; i < ilen; ++i) {\n        timestamps.push(_parse(me, labels[i]));\n      }\n\n      return me._cache.labels = me._normalized ? timestamps : me.normalize(timestamps);\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize(values) {\n      return _arrayUnique(values.sort(sorter));\n    }\n  }]);\n\n  return TimeScale;\n}(Scale);\n\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  var prevSource, nextSource, prevTarget, nextTarget;\n\n  if (reverse) {\n    prevSource = Math.floor(val);\n    nextSource = Math.ceil(val);\n    prevTarget = table[prevSource];\n    nextTarget = table[nextSource];\n  } else {\n    var result = _lookup(table, val);\n\n    prevTarget = result.lo;\n    nextTarget = result.hi;\n    prevSource = table[prevTarget];\n    nextSource = table[nextTarget];\n  }\n\n  var span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nvar TimeSeriesScale = /*#__PURE__*/function (_TimeScale) {\n  _inherits(TimeSeriesScale, _TimeScale);\n\n  var _super25 = _createSuper(TimeSeriesScale);\n\n  function TimeSeriesScale(props) {\n    var _this19;\n\n    _classCallCheck(this, TimeSeriesScale);\n\n    _this19 = _super25.call(this, props);\n    _this19._table = [];\n    _this19._maxIndex = undefined;\n    return _this19;\n  }\n\n  _createClass(TimeSeriesScale, [{\n    key: \"initOffsets\",\n    value: function initOffsets() {\n      var me = this;\n\n      var timestamps = me._getTimestampsForTable();\n\n      me._table = me.buildLookupTable(timestamps);\n      me._maxIndex = me._table.length - 1;\n\n      _get(_getPrototypeOf(TimeSeriesScale.prototype), \"initOffsets\", this).call(this, timestamps);\n    }\n  }, {\n    key: \"buildLookupTable\",\n    value: function buildLookupTable(timestamps) {\n      var me = this;\n      var min = me.min,\n          max = me.max;\n\n      if (!timestamps.length) {\n        return [{\n          time: min,\n          pos: 0\n        }, {\n          time: max,\n          pos: 1\n        }];\n      }\n\n      var items = [min];\n      var i, ilen, curr;\n\n      for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n        curr = timestamps[i];\n\n        if (curr > min && curr < max) {\n          items.push(curr);\n        }\n      }\n\n      items.push(max);\n      return items;\n    }\n  }, {\n    key: \"_getTimestampsForTable\",\n    value: function _getTimestampsForTable() {\n      var me = this;\n      var timestamps = me._cache.all || [];\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var data = me.getDataTimestamps();\n      var label = me.getLabelTimestamps();\n\n      if (data.length && label.length) {\n        timestamps = me.normalize(data.concat(label));\n      } else {\n        timestamps = data.length ? data : label;\n      }\n\n      timestamps = me._cache.all = timestamps;\n      return timestamps;\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value, index) {\n      var me = this;\n      var offsets = me._offsets;\n      var pos = me._normalized && me._maxIndex > 0 && !isNullOrUndef(index) ? index / me._maxIndex : me.getDecimalForValue(value);\n      return me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n  }, {\n    key: \"getDecimalForValue\",\n    value: function getDecimalForValue(value) {\n      return interpolate(this._table, value) / this._maxIndex;\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var me = this;\n      var offsets = me._offsets;\n      var decimal = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n      return interpolate(me._table, decimal * this._maxIndex, true);\n    }\n  }]);\n\n  return TimeSeriesScale;\n}(TimeScale);\n\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\nvar scales = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  CategoryScale: CategoryScale,\n  LinearScale: LinearScale,\n  LogarithmicScale: LogarithmicScale,\n  RadialLinearScale: RadialLinearScale,\n  TimeScale: TimeScale,\n  TimeSeriesScale: TimeSeriesScale\n});\nvar registerables = [controllers, elements, plugins, scales];\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, animator, controllers, elements, layouts, plugins, registerables, registry, scales };"],"sourceRoot":""}